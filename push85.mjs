// push85.mjs — ZERØ MERIDIAN
// Usage: cd D:\FILEK && node push85.mjs
// Langsung tulis semua file + push ke GitHub. Tidak perlu extract ZIP.

import { writeFileSync, mkdirSync, appendFileSync } from 'fs';
import { execSync } from 'child_process';
import { dirname } from 'path';

const REPO   = 'windujm-creator/new-meridian';
const TOKEN  = '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';
const BRANCH = 'main';
const MSG    = 'push85: CommandPalette + Sidebar lengkap + BottomNav sheet + PriceFlash + WsStatus';

const FILES = {"src/components/layout/AppShell.tsx": "/**\n * AppShell.tsx — ZERØ MERIDIAN 2026 push85\n * push85: Integrate CommandPalette + Ctrl+K global shortcut\n * - React.memo + displayName ✓  rgba() only ✓  Zero className ✓\n * - useCallback + useMemo + mountedRef ✓\n */\n\nimport React, { useRef, useCallback, useMemo } from 'react';\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\nimport { useLocation } from 'react-router-dom';\nimport ZMSidebar from './ZMSidebar';\nimport Topbar from './Topbar';\nimport BottomNavBar from './BottomNavBar';\nimport PageTransition from '../shared/PageTransition';\nimport GlobalStatsBar from '../shared/GlobalStatsBar';\nimport CommandPalette from '../shared/CommandPalette';\nimport { useBreakpoint } from '@/hooks/useBreakpoint';\nimport PWAInstallPrompt from '@/components/shared/PWAInstallPrompt';\n\ninterface AppShellProps { children: React.ReactNode; currentPath?: string; }\n\nconst shellVariants = Object.freeze({\n  initial: { opacity: 0 },\n  animate: { opacity: 1, transition: { duration: 0.4, ease: [0.22, 1, 0.36, 1] } },\n});\n\nconst drawerVariants = Object.freeze({\n  hidden:  { x: '-100%', opacity: 0 },\n  visible: { x: '0%',   opacity: 1, transition: { duration: 0.28, ease: [0.22, 1, 0.36, 1] } },\n  exit:    { x: '-100%', opacity: 0, transition: { duration: 0.22, ease: [0.36, 0, 0.66, 0] } },\n});\n\nconst overlayVariants = Object.freeze({\n  hidden:  { opacity: 0 },\n  visible: { opacity: 1, transition: { duration: 0.2 } },\n  exit:    { opacity: 0, transition: { duration: 0.2 } },\n});\n\nconst AppShell: React.FC<AppShellProps> = ({ children, currentPath: propPath }) => {\n  const mountedRef = useRef(true);\n  const [sidebarExpanded,  setSidebarExpanded]  = React.useState(true);\n  const [mobileDrawerOpen, setMobileDrawerOpen] = React.useState(false);\n  const [cmdPaletteOpen,   setCmdPaletteOpen]   = React.useState(false);\n  const prefersRM  = useReducedMotion();\n  const location   = useLocation();\n  const { isMobile, isTablet } = useBreakpoint();\n\n  const currentPath      = propPath ?? location.pathname;\n  const showBottomNav    = isMobile;\n  const showMobileDrawer = isMobile || isTablet;\n\n  React.useEffect(() => {\n    mountedRef.current = true;\n    return () => { mountedRef.current = false; };\n  }, []);\n\n  React.useEffect(() => {\n    if (showMobileDrawer && mobileDrawerOpen) setMobileDrawerOpen(false);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentPath]);\n\n  // Global Ctrl+K / Cmd+K\n  React.useEffect(() => {\n    const handler = (e: KeyboardEvent) => {\n      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n        e.preventDefault();\n        if (mountedRef.current) setCmdPaletteOpen(prev => !prev);\n      }\n      if (e.key === 'Escape' && cmdPaletteOpen) {\n        if (mountedRef.current) setCmdPaletteOpen(false);\n      }\n    };\n    window.addEventListener('keydown', handler);\n    return () => window.removeEventListener('keydown', handler);\n  }, [cmdPaletteOpen]);\n\n  const toggleSidebar   = useCallback(() => {\n    if (!mountedRef.current) return;\n    if (showMobileDrawer) setMobileDrawerOpen(prev => !prev);\n    else setSidebarExpanded(prev => !prev);\n  }, [showMobileDrawer]);\n\n  const closeDrawer     = useCallback(() => { if (mountedRef.current) setMobileDrawerOpen(false); }, []);\n  const openCmdPalette  = useCallback(() => { if (mountedRef.current) setCmdPaletteOpen(true);  }, []);\n  const closeCmdPalette = useCallback(() => { if (mountedRef.current) setCmdPaletteOpen(false); }, []);\n\n  const mainVariants = useMemo(() => Object.freeze({\n    collapsed: { marginLeft: 68  },\n    expanded:  { marginLeft: 256 },\n    mobile:    { marginLeft: 0   },\n  }), []);\n\n  const mainAnimate = useMemo(() => {\n    if (showMobileDrawer) return 'mobile';\n    return sidebarExpanded ? 'expanded' : 'collapsed';\n  }, [showMobileDrawer, sidebarExpanded]);\n\n  const mainStyle = useMemo(() => ({\n    minHeight:  '100vh',\n    background: 'var(--zm-bg-base)',\n    transition: prefersRM ? 'none' : 'margin-left 0.3s cubic-bezier(0.22,1,0.36,1)',\n    willChange: 'margin-left' as const,\n  }), [prefersRM]);\n\n  const contentStyle = useMemo(() => ({\n    padding:       isMobile ? '0 14px 32px' : '0 28px 32px',\n    paddingTop:    '96px',\n    paddingBottom: showBottomNav ? '80px' : '32px',\n    maxWidth:      '1800px',\n    margin:        '0 auto',\n    boxSizing:     'border-box' as const,\n    width:         '100%',\n    overflowX:     'hidden' as const,\n  }), [showBottomNav, isMobile]);\n\n  const overlayStyle = useMemo(() => ({\n    position: 'fixed' as const, inset: 0, zIndex: 149,\n    background: 'rgba(5,5,14,0.7)',\n    backdropFilter: 'blur(2px)', WebkitBackdropFilter: 'blur(2px)',\n  }), []);\n\n  const drawerStyle = useMemo(() => ({\n    position: 'fixed' as const, top: 0, left: 0, bottom: 0,\n    zIndex: 150, width: '240px', willChange: 'transform' as const,\n  }), []);\n\n  return (\n    <motion.div variants={shellVariants} initial=\"initial\" animate=\"animate\"\n      style={{ display: 'flex', minHeight: '100vh', background: 'var(--zm-bg-base)' }}\n    >\n      {/* Desktop sidebar */}\n      {!showMobileDrawer && (\n        <ZMSidebar expanded={sidebarExpanded} onToggle={toggleSidebar} currentPath={currentPath} />\n      )}\n\n      {/* Mobile/Tablet drawer */}\n      <AnimatePresence>\n        {showMobileDrawer && mobileDrawerOpen && (\n          <>\n            <motion.div key=\"overlay\" variants={overlayVariants} initial=\"hidden\" animate=\"visible\" exit=\"exit\"\n              style={overlayStyle} onClick={closeDrawer} role=\"button\" aria-label=\"Close navigation drawer\" />\n            <motion.div key=\"drawer\" variants={prefersRM ? {} : drawerVariants} initial=\"hidden\" animate=\"visible\" exit=\"exit\" style={drawerStyle}>\n              <ZMSidebar expanded={true} onToggle={closeDrawer} currentPath={currentPath} />\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n\n      {/* Main */}\n      <motion.main animate={mainAnimate} variants={mainVariants}\n        transition={prefersRM ? { duration: 0 } : { duration: 0.3, ease: [0.22, 1, 0.36, 1] }}\n        style={{ ...mainStyle, flex: 1, minWidth: 0 }}\n      >\n        <Topbar onMenuToggle={toggleSidebar} sidebarExpanded={sidebarExpanded} onOpenCmdPalette={openCmdPalette} />\n        <GlobalStatsBar />\n        <div style={contentStyle}>\n          <AnimatePresence mode=\"wait\">\n            <PageTransition key={currentPath}>{children}</PageTransition>\n          </AnimatePresence>\n        </div>\n      </motion.main>\n\n      {showBottomNav && <BottomNavBar />}\n      <PWAInstallPrompt />\n\n      {/* Command Palette */}\n      <CommandPalette open={cmdPaletteOpen} onClose={closeCmdPalette} />\n    </motion.div>\n  );\n};\n\nAppShell.displayName = 'AppShell';\nexport default React.memo(AppShell);\n", "src/components/layout/Topbar.tsx": "/**\n * Topbar.tsx — ZERØ MERIDIAN 2026 push85\n * push85: Tambah Ctrl+K button + WS status eksplisit\n * - React.memo + displayName ✓  rgba() only ✓  Zero className ✓\n * - useCallback + useMemo + mountedRef ✓\n */\n\nimport React, { useCallback, useMemo, useRef, useState, useEffect } from 'react';\nimport { motion, useReducedMotion, AnimatePresence } from 'framer-motion';\nimport { useTheme } from 'next-themes';\nimport { usePWAInstall } from '@/contexts/PWAInstallContext';\nimport { useBreakpoint } from '@/hooks/useBreakpoint';\n\ninterface TopbarProps {\n  onMenuToggle:     () => void;\n  sidebarExpanded:  boolean;\n  onOpenCmdPalette: () => void;\n}\n\nconst SunIcon  = () => <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\"><circle cx=\"12\" cy=\"12\" r=\"4\" stroke=\"currentColor\" strokeWidth=\"2\"/><path d=\"M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/></svg>;\nconst MoonIcon = () => <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>;\nconst MenuIcon = ({ open }: { open: boolean }) => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n    <rect x=\"1.5\" y=\"3.5\" width={open ? 13 : 9} height=\"1.4\" rx=\"0.7\" fill=\"currentColor\" style={{ transition:'width 0.2s' }}/>\n    <rect x=\"1.5\" y=\"7.3\" width=\"9\" height=\"1.4\" rx=\"0.7\" fill=\"currentColor\"/>\n    <rect x=\"1.5\" y=\"11.1\" width={open ? 13 : 5} height=\"1.4\" rx=\"0.7\" fill=\"currentColor\" style={{ transition:'width 0.2s' }}/>\n  </svg>\n);\n\nconst PWAInstallButton = React.memo(() => {\n  const { canInstall, isInstalled, triggerInstall } = usePWAInstall();\n  const [justInstalled, setJustInstalled] = useState(false);\n  const mountedRef = useRef(true);\n\n  useEffect(() => { mountedRef.current = true; return () => { mountedRef.current = false; }; }, []);\n  useEffect(() => {\n    if (isInstalled && mountedRef.current) {\n      setJustInstalled(true);\n      const t = setTimeout(() => { if (mountedRef.current) setJustInstalled(false); }, 3000);\n      return () => clearTimeout(t);\n    }\n  }, [isInstalled]);\n\n  const handleClick = useCallback(async () => { await triggerInstall(); }, [triggerInstall]);\n  if (!canInstall && !justInstalled) return null;\n\n  return (\n    <motion.button type=\"button\" onClick={justInstalled ? undefined : handleClick}\n      aria-label={justInstalled ? 'App installed' : 'Install ZERØ MERIDIAN'}\n      whileHover={{ scale: 1.06 }} whileTap={{ scale: 0.94 }}\n      style={{ width:'32px', height:'32px', borderRadius:'8px', background: justInstalled ? 'rgba(52,211,153,0.08)' : 'rgba(52,211,153,0.06)', border:'1px solid '+(justInstalled?'rgba(52,211,153,0.3)':'rgba(52,211,153,0.2)'), cursor:justInstalled?'default':'pointer', display:'flex', alignItems:'center', justifyContent:'center', color:'rgba(52,211,153,0.9)', flexShrink:0 }}\n    >\n      {justInstalled\n        ? <svg width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\"><path d=\"M2 6.5l3 3 6-6\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\n        : <svg width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\"><path d=\"M6.5 2v6.5M4 6l2.5 3 2.5-3\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/><path d=\"M2 10.5h9\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/></svg>\n      }\n    </motion.button>\n  );\n});\nPWAInstallButton.displayName = 'PWAInstallButton';\n\nconst Topbar: React.FC<TopbarProps> = ({ onMenuToggle, sidebarExpanded, onOpenCmdPalette }) => {\n  const mountedRef = useRef(true);\n  const prefersRM  = useReducedMotion();\n  const [time, setTime] = useState(() => new Date().toLocaleTimeString('en-US', { hour12: false }));\n  const { theme, setTheme } = useTheme();\n  const { isMobile, isTablet } = useBreakpoint();\n\n  const isDark    = theme !== 'light';\n  const isCompact = isMobile || isTablet;\n\n  useEffect(() => {\n    mountedRef.current = true;\n    const iv = setInterval(() => { if (mountedRef.current) setTime(new Date().toLocaleTimeString('en-US', { hour12: false })); }, 1000);\n    return () => { mountedRef.current = false; clearInterval(iv); };\n  }, []);\n\n  const handleToggle      = useCallback(() => onMenuToggle(), [onMenuToggle]);\n  const handleThemeToggle = useCallback(() => { if (mountedRef.current) setTheme(isDark ? 'light' : 'dark'); }, [isDark, setTheme]);\n  const handleCmdPalette  = useCallback(() => onOpenCmdPalette(), [onOpenCmdPalette]);\n\n  const topbarStyle = useMemo(() => ({\n    position: 'fixed' as const, top: 28, right: 0, left: 0, zIndex: 50,\n    height: '52px', background: 'rgba(7,9,17,0.93)',\n    backdropFilter: 'blur(20px)', WebkitBackdropFilter: 'blur(20px)',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n    display: 'flex', alignItems: 'center',\n    padding: isMobile ? '0 12px' : '0 20px', gap: '10px', overflow: 'hidden' as const,\n  }), [isMobile]);\n\n  const iconBtnStyle = useMemo(() => ({\n    width:'32px', height:'32px', borderRadius:'8px',\n    background:'rgba(255,255,255,0.04)', border:'1px solid rgba(255,255,255,0.06)',\n    cursor:'pointer', display:'flex', alignItems:'center', justifyContent:'center',\n    color:'rgba(130,135,165,1)', flexShrink:0, transition:'all 0.15s',\n  }), []);\n\n  const searchBarStyle = useMemo(() => ({\n    flex: 1, maxWidth: '340px', height: '32px',\n    background: 'rgba(255,255,255,0.04)', border: '1px solid rgba(255,255,255,0.07)',\n    borderRadius: '8px', display: 'flex', alignItems: 'center', gap: '8px',\n    padding: '0 10px', cursor: 'pointer', transition: 'border-color 0.15s',\n  }), []);\n\n  return (\n    <header role=\"banner\" style={topbarStyle} aria-label=\"Application topbar\">\n      <button type=\"button\" onClick={handleToggle} style={iconBtnStyle}\n        aria-label={sidebarExpanded ? 'Collapse sidebar' : 'Expand sidebar'}\n        aria-expanded={sidebarExpanded}\n      >\n        <MenuIcon open={sidebarExpanded} />\n      </button>\n\n      {!isCompact && (\n        <div style={{ display:'flex', alignItems:'center', gap:'8px', flexShrink:0 }}>\n          <span style={{ fontFamily:\"'Space Mono', monospace\", fontSize:'12px', fontWeight:700, letterSpacing:'0.14em', color:'rgba(220,225,245,0.9)' }}>\n            ZERØ MERIDIAN\n          </span>\n        </div>\n      )}\n\n      {/* Search / Command palette trigger */}\n      <button type=\"button\" onClick={handleCmdPalette} style={searchBarStyle as React.CSSProperties}\n        aria-label=\"Open command palette (Ctrl+K)\"\n        onMouseEnter={e => { (e.currentTarget as HTMLElement).style.borderColor = 'rgba(0,238,255,0.2)'; }}\n        onMouseLeave={e => { (e.currentTarget as HTMLElement).style.borderColor = 'rgba(255,255,255,0.07)'; }}\n      >\n        <svg width=\"12\" height=\"12\" viewBox=\"0 0 14 14\" fill=\"none\" aria-hidden=\"true\">\n          <circle cx=\"6\" cy=\"6\" r=\"4.5\" stroke=\"rgba(80,85,115,1)\" strokeWidth=\"1.4\"/>\n          <line x1=\"9.5\" y1=\"9.5\" x2=\"13\" y2=\"13\" stroke=\"rgba(80,85,115,1)\" strokeWidth=\"1.4\" strokeLinecap=\"round\"/>\n        </svg>\n        <span style={{ fontFamily:\"'Space Mono', monospace\", fontSize:'11px', color:'rgba(70,75,105,1)', flex:1 }}>\n          {isCompact ? 'Search...' : 'Search pages...'}\n        </span>\n        {!isMobile && (\n          <div style={{ display:'flex', gap:'3px', flexShrink:0 }}>\n            <span style={{ background:'rgba(255,255,255,0.07)', border:'1px solid rgba(255,255,255,0.1)', borderRadius:'4px', padding:'1px 5px', fontFamily:\"'Space Mono', monospace\", fontSize:'9px', color:'rgba(90,95,125,1)' }}>\n              {navigator.platform?.includes('Mac') ? '⌘' : 'Ctrl'}\n            </span>\n            <span style={{ background:'rgba(255,255,255,0.07)', border:'1px solid rgba(255,255,255,0.1)', borderRadius:'4px', padding:'1px 5px', fontFamily:\"'Space Mono', monospace\", fontSize:'9px', color:'rgba(90,95,125,1)' }}>\n              K\n            </span>\n          </div>\n        )}\n      </button>\n\n      <div style={{ flex: 1 }} />\n\n      {/* Right cluster */}\n      <div style={{ display:'flex', alignItems:'center', gap: isMobile ? '6px' : '8px', flexShrink:0 }}>\n        {!isMobile && (\n          <span style={{ fontFamily:\"'Space Mono', monospace\", fontSize:'11px', color:'rgba(80,85,110,1)', letterSpacing:'0.08em', whiteSpace:'nowrap', minWidth:'68px', textAlign:'right' }} aria-live=\"polite\" aria-atomic=\"true\">\n            {time}\n          </span>\n        )}\n\n        <PWAInstallButton />\n\n        <motion.button onClick={handleThemeToggle} style={iconBtnStyle}\n          whileHover={prefersRM ? {} : { scale: 1.06 }} whileTap={prefersRM ? {} : { scale: 0.94 }}\n          aria-label={isDark ? 'Switch to light mode' : 'Switch to dark mode'}\n        >\n          {isDark ? <SunIcon /> : <MoonIcon />}\n        </motion.button>\n\n        {!isMobile && (\n          <div style={{ display:'flex', alignItems:'center', gap:'5px', background:'rgba(52,211,153,0.06)', border:'1px solid rgba(52,211,153,0.14)', borderRadius:'16px', padding:'4px 10px', fontSize:'10px', fontFamily:\"'Space Mono', monospace\", color:'rgba(52,211,153,0.7)', letterSpacing:'0.08em', flexShrink:0 }} role=\"status\" aria-label=\"Network status: live\">\n            <motion.div style={{ width:5, height:5, borderRadius:'50%', background:'rgba(52,211,153,0.9)', flexShrink:0 }} animate={prefersRM ? {} : { opacity:[1,0.35,1] }} transition={{ duration:1.8, repeat:Infinity }} aria-hidden=\"true\" />\n            LIVE\n          </div>\n        )}\n\n        <motion.button style={{ width:'32px', height:'32px', borderRadius:'50%', background:'rgba(52,211,153,0.1)', border:'1px solid rgba(52,211,153,0.18)', cursor:'pointer', fontSize:'12px', fontWeight:700, color:'rgba(52,211,153,0.9)', fontFamily:\"'Space Mono', monospace\", flexShrink:0, display:'flex', alignItems:'center', justifyContent:'center' }}\n          whileHover={prefersRM ? {} : { scale: 1.06 }} whileTap={prefersRM ? {} : { scale: 0.94 }}\n          aria-label=\"User profile\"\n        >\n          W\n        </motion.button>\n      </div>\n    </header>\n  );\n};\n\nTopbar.displayName = 'Topbar';\nexport default React.memo(Topbar);\n", "src/components/layout/ZMSidebar.tsx": "/**\n * ZMSidebar.tsx — ZERØ MERIDIAN 2026 push85\n * push85: FULL ITEMS — semua 20 halaman masuk sidebar, grouped rapi\n * - React.memo + displayName ✓  rgba() only ✓  Zero className ✓\n * - useCallback + useMemo + mountedRef ✓  Object.freeze() ✓\n */\n\nimport React, { memo, useCallback, useMemo, useRef, useState } from 'react';\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\nimport { useNavigate } from 'react-router-dom';\n\ninterface NavItem {\n  id: string; label: string; path: string; icon: React.ReactNode;\n  badge?: string; group: string;\n}\n\nconst NAV_ITEMS: readonly NavItem[] = Object.freeze([\n  // OVERVIEW\n  { id:'dashboard', label:'Dashboard', path:'/dashboard', group:'OVERVIEW',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><rect x=\"1.5\" y=\"1.5\" width=\"5.5\" height=\"5.5\" rx=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><rect x=\"9\" y=\"1.5\" width=\"5.5\" height=\"5.5\" rx=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><rect x=\"1.5\" y=\"9\" width=\"5.5\" height=\"5.5\" rx=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><rect x=\"9\" y=\"9\" width=\"5.5\" height=\"5.5\" rx=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/></svg> },\n  { id:'markets', label:'Markets', path:'/markets', group:'OVERVIEW',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><polyline points=\"1,12 4.5,7 7.5,9.5 11,4 15,6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n  { id:'watchlist', label:'Watchlist', path:'/watchlist', group:'OVERVIEW',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><path d=\"M8 1.5L9.9 5.4L14 6L11 8.9L11.8 13L8 11L4.2 13L5 8.9L2 6L6.1 5.4L8 1.5Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinejoin=\"round\"/></svg> },\n  // TRADING\n  { id:'charts', label:'Charts', path:'/charts', group:'TRADING',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><polyline points=\"1,13 4.5,8 7.5,10.5 11.5,5 15,7\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/><line x1=\"1\" y1=\"14\" x2=\"15\" y2=\"14\" stroke=\"currentColor\" strokeWidth=\"1\" strokeLinecap=\"round\" opacity=\"0.3\"/></svg> },\n  { id:'orderbook', label:'Order Book', path:'/orderbook', group:'TRADING',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><line x1=\"2\" y1=\"3\" x2=\"9\" y2=\"3\" stroke=\"rgba(52,211,153,0.9)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/><line x1=\"2\" y1=\"6\" x2=\"6.5\" y2=\"6\" stroke=\"rgba(52,211,153,0.5)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/><line x1=\"2\" y1=\"10\" x2=\"11\" y2=\"10\" stroke=\"rgba(248,113,113,0.9)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/><line x1=\"2\" y1=\"13\" x2=\"7.5\" y2=\"13\" stroke=\"rgba(248,113,113,0.5)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/></svg> },\n  { id:'derivatives', label:'Derivatives', path:'/derivatives', group:'TRADING',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><path d=\"M1 13 L4 6 L8 9.5 L12 3 L15 7\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n  // ANALYTICS\n  { id:'defi', label:'DeFi', path:'/defi', group:'ANALYTICS',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><circle cx=\"3\" cy=\"8\" r=\"2.2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"13\" cy=\"3.5\" r=\"2.2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"13\" cy=\"12.5\" r=\"2.2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><line x1=\"5.2\" y1=\"7\" x2=\"10.8\" y2=\"4.2\" stroke=\"currentColor\" strokeWidth=\"1.3\" strokeLinecap=\"round\"/><line x1=\"5.2\" y1=\"9\" x2=\"10.8\" y2=\"11.8\" stroke=\"currentColor\" strokeWidth=\"1.3\" strokeLinecap=\"round\"/></svg> },\n  { id:'onchain', label:'On-Chain', path:'/onchain', badge:'NEW', group:'ANALYTICS',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><rect x=\"1.5\" y=\"7.5\" width=\"3\" height=\"7\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><rect x=\"6.5\" y=\"4.5\" width=\"3\" height=\"10\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><rect x=\"11.5\" y=\"1.5\" width=\"3\" height=\"13\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\"/></svg> },\n  { id:'sentiment', label:'Sentiment', path:'/sentiment', group:'ANALYTICS',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><circle cx=\"8\" cy=\"8\" r=\"6\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><path d=\"M5.5 9.5c.7 1 1.7 1.7 2.5 1.7s1.8-.7 2.5-1.7\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/><circle cx=\"5.5\" cy=\"6.5\" r=\"0.8\" fill=\"currentColor\"/><circle cx=\"10.5\" cy=\"6.5\" r=\"0.8\" fill=\"currentColor\"/></svg> },\n  { id:'fundamentals', label:'Fundamentals', path:'/fundamentals', group:'ANALYTICS',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><rect x=\"2\" y=\"2\" width=\"12\" height=\"12\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><line x1=\"4.5\" y1=\"6.5\" x2=\"11.5\" y2=\"6.5\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\"/><line x1=\"4.5\" y1=\"9.5\" x2=\"8.5\" y2=\"9.5\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\"/></svg> },\n  { id:'tokens', label:'Tokens', path:'/tokens', group:'ANALYTICS',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><circle cx=\"8\" cy=\"8\" r=\"6\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><path d=\"M6 8h4M8 6v4\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/></svg> },\n  // INTELLIGENCE\n  { id:'smartmoney', label:'Smart Money', path:'/smartmoney', group:'INTELLIGENCE',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><path d=\"M1 13l4-8 4 4 4-6 2 2\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/><circle cx=\"13\" cy=\"6\" r=\"1.8\" stroke=\"rgba(52,211,153,1)\" strokeWidth=\"1.3\"/></svg> },\n  { id:'networks', label:'Networks', path:'/networks', group:'INTELLIGENCE',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><circle cx=\"8\" cy=\"8\" r=\"2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"2.5\" cy=\"3.5\" r=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.3\"/><circle cx=\"13.5\" cy=\"3.5\" r=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.3\"/><circle cx=\"2.5\" cy=\"12.5\" r=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.3\"/><circle cx=\"13.5\" cy=\"12.5\" r=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.3\"/><line x1=\"4\" y1=\"4.5\" x2=\"6.5\" y2=\"6.5\" stroke=\"currentColor\" strokeWidth=\"1.1\" strokeLinecap=\"round\"/><line x1=\"9.5\" y1=\"6.5\" x2=\"12\" y2=\"4.5\" stroke=\"currentColor\" strokeWidth=\"1.1\" strokeLinecap=\"round\"/><line x1=\"4\" y1=\"11.5\" x2=\"6.5\" y2=\"9.5\" stroke=\"currentColor\" strokeWidth=\"1.1\" strokeLinecap=\"round\"/><line x1=\"9.5\" y1=\"9.5\" x2=\"12\" y2=\"11.5\" stroke=\"currentColor\" strokeWidth=\"1.1\" strokeLinecap=\"round\"/></svg> },\n  { id:'security', label:'Security', path:'/security', group:'INTELLIGENCE',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><path d=\"M8 1.5L2 4v4.5c0 3.5 2.5 5.5 6 6 3.5-.5 6-2.5 6-6V4L8 1.5z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinejoin=\"round\"/><path d=\"M5.5 8l1.5 1.5 3.5-3.5\" stroke=\"rgba(52,211,153,1)\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n  { id:'intelligence', label:'AI Intel', path:'/intelligence', group:'INTELLIGENCE',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><circle cx=\"8\" cy=\"8\" r=\"6\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"8\" cy=\"8\" r=\"2\" fill=\"currentColor\" opacity=\"0.6\"/><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"5.8\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\" opacity=\"0.5\"/><line x1=\"8\" y1=\"10.2\" x2=\"8\" y2=\"14\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\" opacity=\"0.5\"/><line x1=\"2\" y1=\"8\" x2=\"5.8\" y2=\"8\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\" opacity=\"0.5\"/><line x1=\"10.2\" y1=\"8\" x2=\"14\" y2=\"8\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\" opacity=\"0.5\"/></svg> },\n  { id:'aisignals', label:'AI Signals', path:'/aisignals', group:'INTELLIGENCE',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><path d=\"M1 11l3-5 3.5 3.5 4-7 3 3\" stroke=\"rgba(176,130,255,1)\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n  // PERSONAL\n  { id:'portfolio', label:'Portfolio', path:'/portfolio', group:'PERSONAL',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><circle cx=\"8\" cy=\"8\" r=\"6.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><path d=\"M8 8 L8 1.5 A6.5 6.5 0 0 1 14.5 8 Z\" fill=\"currentColor\" opacity=\"0.25\"/></svg> },\n  { id:'alerts', label:'Alerts', path:'/alerts', group:'PERSONAL',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><path d=\"M8 2C5.8 2 4 3.8 4 6v4L2.5 12.5h11L12 10V6c0-2.2-1.8-4-4-4z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinejoin=\"round\"/><path d=\"M6.5 13.5a1.5 1.5 0 0 0 3 0\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/></svg> },\n  { id:'converter', label:'Converter', path:'/converter', group:'PERSONAL',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><path d=\"M2 5h12M10 2l4 3-4 3M14 11H2M6 8l-4 3 4 3\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n]);\n\nconst BOTTOM_ITEMS: readonly NavItem[] = Object.freeze([\n  { id:'settings', label:'Settings', path:'/settings', group:'',\n    icon:<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><circle cx=\"8\" cy=\"8\" r=\"2.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><path d=\"M8 1v1.5M8 13.5V15M1 8h1.5M13.5 8H15M2.93 2.93l1.07 1.07M12 12l1.07 1.07M2.93 13.07l1.07-1.07M12 4l1.07-1.07\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/></svg> },\n]);\n\nconst GROUP_ORDER = Object.freeze(['OVERVIEW','TRADING','ANALYTICS','INTELLIGENCE','PERSONAL']);\n\nconst LogoMark = memo(() => (\n  <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\">\n    <defs>\n      <linearGradient id=\"lgm\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n        <stop offset=\"0%\" stopColor=\"rgba(52,211,153,1)\"/>\n        <stop offset=\"100%\" stopColor=\"rgba(0,238,255,0.85)\"/>\n      </linearGradient>\n      <filter id=\"lgf\" x=\"-60%\" y=\"-60%\" width=\"220%\" height=\"220%\">\n        <feGaussianBlur stdDeviation=\"1.5\" result=\"b\"/>\n        <feMerge><feMergeNode in=\"b\"/><feMergeNode in=\"SourceGraphic\"/></feMerge>\n      </filter>\n    </defs>\n    <circle cx=\"14\" cy=\"14\" r=\"11\" stroke=\"rgba(52,211,153,0.1)\" strokeWidth=\"1\" fill=\"rgba(52,211,153,0.03)\"/>\n    <circle cx=\"14\" cy=\"14\" r=\"7.5\" stroke=\"url(#lgm)\" strokeWidth=\"1.8\" fill=\"none\" filter=\"url(#lgf)\"/>\n    <line x1=\"17\" y1=\"8.5\" x2=\"11\" y2=\"19.5\" stroke=\"url(#lgm)\" strokeWidth=\"1.8\" strokeLinecap=\"round\" filter=\"url(#lgf)\"/>\n  </svg>\n));\nLogoMark.displayName = 'LogoMark';\n\ninterface ZMSidebarProps { expanded: boolean; onToggle: () => void; currentPath: string; }\n\nconst ZMSidebar = memo(({ expanded, onToggle, currentPath }: ZMSidebarProps) => {\n  const prefersRM  = useReducedMotion();\n  const [hovered, setHovered] = useState<string|null>(null);\n  const mountedRef = useRef(true);\n  const navigate   = useNavigate();\n\n  React.useEffect(() => { mountedRef.current = true; return () => { mountedRef.current = false; }; }, []);\n\n  const handleHover  = useCallback((id: string|null) => { if (mountedRef.current) setHovered(id); }, []);\n  const handleNav    = useCallback((path: string) => { if (mountedRef.current) navigate(path); }, [navigate]);\n  const handleToggle = useCallback(() => onToggle(), [onToggle]);\n\n  const isActive = useCallback((path: string) =>\n    currentPath === path || (path !== '/dashboard' && currentPath.startsWith(path))\n  , [currentPath]);\n\n  const getItemStyle = useCallback((id: string, path: string) => {\n    const active  = isActive(path);\n    const hover   = hovered === id && !active;\n    return {\n      display: 'flex', alignItems: 'center', gap: '10px',\n      padding: expanded ? '8px 12px 8px 14px' : '8px',\n      justifyContent: expanded ? 'flex-start' as const : 'center' as const,\n      borderRadius: '9px',\n      background: active ? 'rgba(52,211,153,0.07)' : hover ? 'rgba(255,255,255,0.04)' : 'transparent',\n      border: '1px solid ' + (active ? 'rgba(52,211,153,0.16)' : 'transparent'),\n      color: active ? 'rgba(52,211,153,1)' : hover ? 'rgba(200,205,225,1)' : 'rgba(105,110,138,1)',\n      cursor: 'pointer', transition: 'all 0.12s ease', userSelect: 'none' as const,\n      width: '100%', textAlign: 'left' as const, position: 'relative' as const, marginBottom: '1px',\n    };\n  }, [currentPath, hovered, expanded, isActive]);\n\n  const labelStyle = useMemo(() => ({\n    fontFamily: \"'Space Mono', monospace\", fontSize: '11px', letterSpacing: '0.01em',\n    whiteSpace: 'nowrap' as const, overflow: 'hidden', textOverflow: 'ellipsis', fontWeight: 500,\n  }), []);\n\n  const iconWrap = useMemo(() => ({ display: 'flex', alignItems: 'center', justifyContent: 'center', width: '16px', height: '16px', flexShrink: 0 }), []);\n\n  const groups = useMemo(() => {\n    const map: Record<string,NavItem[]> = {};\n    NAV_ITEMS.forEach(item => { if (!map[item.group]) map[item.group] = []; map[item.group].push(item); });\n    return map;\n  }, []);\n\n  const renderItem = useCallback((item: NavItem) => {\n    const active = isActive(item.path);\n    return (\n      <button key={item.id} type=\"button\" onClick={() => handleNav(item.path)}\n        onMouseEnter={() => handleHover(item.id)} onMouseLeave={() => handleHover(null)}\n        aria-label={item.label} aria-current={currentPath === item.path ? 'page' : undefined}\n        style={getItemStyle(item.id, item.path)}\n      >\n        {active && <div style={{ position: 'absolute', left: 0, top: '22%', bottom: '22%', width: '3px', borderRadius: '0 3px 3px 0', background: 'rgba(52,211,153,1)', boxShadow: '0 0 8px rgba(52,211,153,0.6)' }} />}\n        <span style={iconWrap}>{item.icon}</span>\n        <AnimatePresence>\n          {expanded && (\n            <motion.span initial={{ opacity:0, x:-6 }} animate={{ opacity:1, x:0 }} exit={{ opacity:0, x:-6 }} transition={{ duration:0.12 }}\n              style={{ display:'flex', alignItems:'center', justifyContent:'space-between', flex:1, overflow:'hidden' }}\n            >\n              <span style={labelStyle}>{item.label}</span>\n              {item.badge && (\n                <span style={{ fontFamily:\"'Space Mono', monospace\", fontSize:'7px', padding:'1px 5px', borderRadius:'3px', background:'rgba(52,211,153,0.09)', border:'1px solid rgba(52,211,153,0.2)', color:'rgba(52,211,153,0.85)', letterSpacing:'0.06em', flexShrink:0, marginLeft:'6px' }}>\n                  {item.badge}\n                </span>\n              )}\n            </motion.span>\n          )}\n        </AnimatePresence>\n      </button>\n    );\n  }, [expanded, currentPath, getItemStyle, handleNav, handleHover, iconWrap, labelStyle, isActive]);\n\n  return (\n    <motion.nav\n      animate={{ width: expanded ? 256 : 68 }}\n      transition={prefersRM ? { duration:0 } : { duration:0.22, ease:[0.22,1,0.36,1] }}\n      style={{ position:'fixed', top:0, left:0, height:'100vh', background:'rgba(7,9,17,0.98)', borderRight:'1px solid rgba(255,255,255,0.05)', display:'flex', flexDirection:'column', zIndex:60, overflow:'hidden' }}\n      aria-label=\"Main navigation\"\n    >\n      {/* Logo */}\n      <div style={{ height:'64px', display:'flex', alignItems:'center', padding:'0 18px', flexShrink:0, gap:'10px', borderBottom:'1px solid rgba(255,255,255,0.04)' }}>\n        <LogoMark />\n        <AnimatePresence>\n          {expanded && (\n            <motion.div initial={{ opacity:0, x:-8 }} animate={{ opacity:1, x:0 }} exit={{ opacity:0, x:-8 }} transition={{ duration:0.14 }} style={{ flex:1 }}>\n              <div style={{ fontFamily:\"'Space Mono', monospace\", fontSize:'12px', fontWeight:700, letterSpacing:'0.15em', color:'rgba(235,238,255,0.95)' }}>ZERØ</div>\n              <div style={{ fontFamily:\"'Space Mono', monospace\", fontSize:'7px', letterSpacing:'0.32em', color:'rgba(52,211,153,0.45)', marginTop:'2px' }}>MERIDIAN</div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        <button type=\"button\" onClick={handleToggle} aria-label={expanded ? 'Collapse sidebar' : 'Expand sidebar'}\n          style={{ width:'20px', height:'20px', background:'rgba(255,255,255,0.04)', border:'1px solid rgba(255,255,255,0.06)', borderRadius:'5px', color:'rgba(90,95,120,1)', cursor:'pointer', display:'flex', alignItems:'center', justifyContent:'center', flexShrink:0, transition:'all 0.15s', marginLeft: expanded ? '0' : 'auto' }}\n        >\n          <svg width=\"9\" height=\"9\" viewBox=\"0 0 9 9\" fill=\"none\">\n            {expanded ? <path d=\"M6 1.5L3 4.5L6 7.5\" stroke=\"currentColor\" strokeWidth=\"1.3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/> : <path d=\"M3 1.5L6 4.5L3 7.5\" stroke=\"currentColor\" strokeWidth=\"1.3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>}\n          </svg>\n        </button>\n      </div>\n\n      {/* Nav items */}\n      <div style={{ flex:1, overflowY:'auto', overflowX:'hidden', padding:'8px', display:'flex', flexDirection:'column' }}>\n        {GROUP_ORDER.map(groupName => {\n          const items = groups[groupName];\n          if (!items) return null;\n          return (\n            <div key={groupName} style={{ marginBottom:'4px' }}>\n              {expanded && (\n                <div style={{ padding:'8px 10px 4px', fontFamily:\"'Space Mono', monospace\", fontSize:'8px', letterSpacing:'0.2em', color:'rgba(255,255,255,0.14)', textTransform:'uppercase', fontWeight:700 }}>\n                  {groupName}\n                </div>\n              )}\n              {!expanded && groupName !== 'OVERVIEW' && <div style={{ height:'6px', borderTop:'1px solid rgba(255,255,255,0.04)', margin:'3px 5px 6px' }} />}\n              {items.map(renderItem)}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Bottom */}\n      <div style={{ padding:'8px 8px 12px', borderTop:'1px solid rgba(255,255,255,0.04)', flexShrink:0 }}>\n        {BOTTOM_ITEMS.map(item => (\n          <button key={item.id} type=\"button\" onClick={() => handleNav(item.path)}\n            onMouseEnter={() => handleHover(item.id)} onMouseLeave={() => handleHover(null)}\n            aria-label={item.label} style={getItemStyle(item.id, item.path)}\n          >\n            <span style={iconWrap}>{item.icon}</span>\n            <AnimatePresence>\n              {expanded && (\n                <motion.span initial={{ opacity:0 }} animate={{ opacity:1 }} exit={{ opacity:0 }} transition={{ duration:0.12 }} style={labelStyle}>\n                  {item.label}\n                </motion.span>\n              )}\n            </AnimatePresence>\n          </button>\n        ))}\n      </div>\n    </motion.nav>\n  );\n});\n\nZMSidebar.displayName = 'ZMSidebar';\nexport default ZMSidebar;\n", "src/components/layout/BottomNavBar.tsx": "/**\n * BottomNavBar.tsx — ZERØ MERIDIAN 2026 push85\n * push85: \"More\" tab buka bottom sheet dengan grid semua fitur\n * - React.memo + displayName ✓  rgba() only ✓  Zero className ✓\n * - useCallback + useMemo + mountedRef ✓  Object.freeze() ✓\n */\n\nimport React, { memo, useCallback, useMemo, useRef, useEffect, useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\n\ninterface NavTab {\n  label: string; path: string; ariaLabel: string;\n  icon: React.ReactNode;\n}\n\nconst NAV_TABS: readonly NavTab[] = Object.freeze([\n  {\n    label: 'Dash', path: '/dashboard', ariaLabel: 'Navigate to Dashboard',\n    icon: (<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\"><rect x=\"2\" y=\"2\" width=\"7\" height=\"7\" rx=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.6\"/><rect x=\"11\" y=\"2\" width=\"7\" height=\"7\" rx=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.6\"/><rect x=\"2\" y=\"11\" width=\"7\" height=\"7\" rx=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.6\"/><rect x=\"11\" y=\"11\" width=\"7\" height=\"7\" rx=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.6\"/></svg>),\n  },\n  {\n    label: 'Markets', path: '/markets', ariaLabel: 'Navigate to Markets',\n    icon: (<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\"><polyline points=\"2,15 6,9 10,12 14,5 18,8\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>),\n  },\n  {\n    label: 'Alerts', path: '/alerts', ariaLabel: 'Navigate to Alerts',\n    icon: (<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\"><path d=\"M10 2.5C7.24 2.5 5 4.74 5 7.5v5L3 15h14l-2-2.5v-5c0-2.76-2.24-5-5-5z\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinejoin=\"round\"/><path d=\"M8 16.5a2 2 0 0 0 4 0\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\"/></svg>),\n  },\n  {\n    label: 'Watch', path: '/watchlist', ariaLabel: 'Navigate to Watchlist',\n    icon: (<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\"><path d=\"M10 2l2.47 5.01L18 7.91l-4 3.9.94 5.49L10 14.77l-4.94 2.53L6 11.81 2 7.91l5.53-.9L10 2z\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinejoin=\"round\"/></svg>),\n  },\n  {\n    label: 'More', path: '__more__', ariaLabel: 'Show all features',\n    icon: (<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\"><circle cx=\"4\" cy=\"10\" r=\"1.5\" fill=\"currentColor\"/><circle cx=\"10\" cy=\"10\" r=\"1.5\" fill=\"currentColor\"/><circle cx=\"16\" cy=\"10\" r=\"1.5\" fill=\"currentColor\"/></svg>),\n  },\n]);\n\ninterface MoreItem { label: string; path: string; icon: React.ReactNode; badge?: string; }\n\nconst MORE_ITEMS: readonly MoreItem[] = Object.freeze([\n  { label: 'Charts',       path: '/charts',       icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><polyline points=\"1,15 5,9 9,12 13,4 17,7\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n  { label: 'Order Book',   path: '/orderbook',    icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><line x1=\"2\" y1=\"4\" x2=\"10\" y2=\"4\" stroke=\"rgba(52,211,153,0.9)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/><line x1=\"2\" y1=\"7\" x2=\"7\" y2=\"7\" stroke=\"rgba(52,211,153,0.5)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/><line x1=\"2\" y1=\"11\" x2=\"12\" y2=\"11\" stroke=\"rgba(255,68,136,0.9)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/><line x1=\"2\" y1=\"14\" x2=\"8\" y2=\"14\" stroke=\"rgba(255,68,136,0.5)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/></svg> },\n  { label: 'Derivatives',  path: '/derivatives',  icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><path d=\"M1 15 L4 7 L9 11 L14 3 L17 8\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n  { label: 'DeFi',         path: '/defi',         icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><circle cx=\"3\" cy=\"9\" r=\"2.2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"15\" cy=\"4\" r=\"2.2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"15\" cy=\"14\" r=\"2.2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><line x1=\"5.2\" y1=\"7.8\" x2=\"12.8\" y2=\"4.8\" stroke=\"currentColor\" strokeWidth=\"1.3\" strokeLinecap=\"round\"/><line x1=\"5.2\" y1=\"10.2\" x2=\"12.8\" y2=\"13.2\" stroke=\"currentColor\" strokeWidth=\"1.3\" strokeLinecap=\"round\"/></svg> },\n  { label: 'On-Chain',     path: '/onchain',      badge: 'NEW', icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><rect x=\"1\" y=\"8\" width=\"3.5\" height=\"9\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><rect x=\"7.5\" y=\"5\" width=\"3.5\" height=\"12\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><rect x=\"14\" y=\"1\" width=\"3.5\" height=\"16\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\"/></svg> },\n  { label: 'Sentiment',    path: '/sentiment',    icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><circle cx=\"9\" cy=\"9\" r=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><path d=\"M6 11c.83 1.2 2 2 3 2s2.17-.8 3-2\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/><circle cx=\"6.5\" cy=\"7.5\" r=\"1\" fill=\"currentColor\"/><circle cx=\"11.5\" cy=\"7.5\" r=\"1\" fill=\"currentColor\"/></svg> },\n  { label: 'Fundamentals', path: '/fundamentals', icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><rect x=\"2\" y=\"2\" width=\"14\" height=\"14\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><line x1=\"5\" y1=\"7\" x2=\"13\" y2=\"7\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\"/><line x1=\"5\" y1=\"10\" x2=\"10\" y2=\"10\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\"/></svg> },\n  { label: 'Tokens',       path: '/tokens',       icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><circle cx=\"9\" cy=\"9\" r=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><path d=\"M6.5 9h5M9 6.5v5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/></svg> },\n  { label: 'Smart Money',  path: '/smartmoney',   icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><path d=\"M2 14l4-8 4 4 4-6 2 2\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/><circle cx=\"14\" cy=\"6\" r=\"2\" stroke=\"rgba(52,211,153,1)\" strokeWidth=\"1.5\"/></svg> },\n  { label: 'Networks',     path: '/networks',     icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><circle cx=\"9\" cy=\"9\" r=\"2\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"3\" cy=\"4\" r=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"15\" cy=\"4\" r=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"3\" cy=\"14\" r=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"15\" cy=\"14\" r=\"1.5\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><line x1=\"4.5\" y1=\"5\" x2=\"7.5\" y2=\"7.5\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\"/><line x1=\"10.5\" y1=\"7.5\" x2=\"13.5\" y2=\"5\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\"/><line x1=\"4.5\" y1=\"13\" x2=\"7.5\" y2=\"10.5\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\"/><line x1=\"10.5\" y1=\"10.5\" x2=\"13.5\" y2=\"13\" stroke=\"currentColor\" strokeWidth=\"1.2\" strokeLinecap=\"round\"/></svg> },\n  { label: 'Security',     path: '/security',     icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><path d=\"M9 1.5L2.5 4.5v5c0 4 3 6.5 6.5 7 3.5-.5 6.5-3 6.5-7v-5L9 1.5z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinejoin=\"round\"/><path d=\"M6 9l2 2 4-4\" stroke=\"rgba(52,211,153,1)\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n  { label: 'Converter',    path: '/converter',    icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><path d=\"M2 6h14M12 2l4 4-4 4M16 12H2M6 8l-4 4 4 4\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n  { label: 'Portfolio',    path: '/portfolio',    icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><circle cx=\"9\" cy=\"9\" r=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><path d=\"M9 9 L9 2 A7 7 0 0 1 16 9 Z\" fill=\"currentColor\" opacity=\"0.25\"/></svg> },\n  { label: 'AI Intel',     path: '/intelligence', icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><circle cx=\"9\" cy=\"9\" r=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\"/><circle cx=\"9\" cy=\"9\" r=\"2.5\" fill=\"currentColor\" opacity=\"0.5\"/></svg> },\n  { label: 'AI Signals',   path: '/aisignals',    icon: <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\"><path d=\"M2 12l3-5 3 3 4-6 3 3\" stroke=\"rgba(176,130,255,1)\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg> },\n]);\n\n// ─── TabButton ────────────────────────────────────────────────────────────────\n\nconst TabButton = memo(({ tab, isActive, onPress }: { tab: NavTab; isActive: boolean; onPress: (p: string) => void }) => {\n  const handle = useCallback(() => onPress(tab.path), [onPress, tab.path]);\n  return (\n    <button\n      type=\"button\" onClick={handle}\n      aria-label={tab.ariaLabel} aria-current={isActive ? 'page' : undefined}\n      style={{\n        flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center',\n        justifyContent: 'center', minHeight: '48px', padding: '6px 4px',\n        background: 'transparent', border: 'none', cursor: 'pointer', outline: 'none',\n        WebkitTapHighlightColor: 'transparent', position: 'relative',\n        color: isActive ? 'rgba(52,211,153,1)' : 'rgba(100,105,135,1)',\n        transition: 'color 0.15s',\n      }}\n    >\n      <div style={{ width: 20, height: 20, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        {tab.icon}\n      </div>\n      <div style={{ marginTop: '3px', fontFamily: \"'Space Mono', monospace\", fontSize: '9px', letterSpacing: '0.04em', fontWeight: isActive ? 600 : 400 }}>\n        {tab.label}\n      </div>\n      {isActive && <div style={{ position: 'absolute', bottom: 0, width: '20px', height: '2px', borderRadius: '2px 2px 0 0', background: 'rgba(52,211,153,1)', boxShadow: '0 0 8px rgba(52,211,153,0.6)' }} />}\n    </button>\n  );\n});\nTabButton.displayName = 'TabButton';\n\n// ─── MoreSheet ────────────────────────────────────────────────────────────────\n\nconst MoreSheet = memo(({ open, onClose, onNav }: { open: boolean; onClose: () => void; onNav: (p: string) => void }) => {\n  const prefersRM = useReducedMotion();\n  return (\n    <AnimatePresence>\n      {open && (\n        <>\n          <motion.div key=\"mo\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: prefersRM ? 0 : 0.2 }}\n            onClick={onClose}\n            style={{ position: 'fixed', inset: 0, zIndex: 299, background: 'rgba(5,6,12,0.6)', backdropFilter: 'blur(4px)', WebkitBackdropFilter: 'blur(4px)' }}\n          />\n          <motion.div key=\"ms\" initial={{ y: '100%' }} animate={{ y: 0 }} exit={{ y: '100%' }} transition={{ duration: prefersRM ? 0 : 0.28, ease: [0.22,1,0.36,1] }}\n            style={{ position: 'fixed', bottom: 0, left: 0, right: 0, zIndex: 300, background: 'rgba(10,12,22,0.98)', borderTop: '1px solid rgba(0,238,255,0.12)', borderRadius: '20px 20px 0 0', paddingBottom: 'env(safe-area-inset-bottom, 16px)', maxHeight: '80vh', overflowY: 'auto' }}\n          >\n            <div style={{ display: 'flex', justifyContent: 'center', padding: '12px 0 6px' }}>\n              <div style={{ width: 36, height: 4, borderRadius: 2, background: 'rgba(255,255,255,0.15)' }} />\n            </div>\n            <div style={{ padding: '6px 20px 12px', fontFamily: \"'Space Mono', monospace\", fontSize: '11px', letterSpacing: '0.18em', color: 'rgba(255,255,255,0.2)', textTransform: 'uppercase', fontWeight: 700 }}>\n              ALL FEATURES\n            </div>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '2px', padding: '0 8px 16px' }}>\n              {MORE_ITEMS.map(item => (\n                <button key={item.path} type=\"button\" onClick={() => { onNav(item.path); onClose(); }} aria-label={'Go to ' + item.label}\n                  style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: '6px', padding: '14px 8px', borderRadius: '12px', background: 'rgba(255,255,255,0.03)', border: '1px solid rgba(255,255,255,0.05)', cursor: 'pointer', WebkitTapHighlightColor: 'transparent', color: 'rgba(155,160,190,1)', position: 'relative' }}\n                >\n                  {item.icon}\n                  <span style={{ fontFamily: \"'Space Mono', monospace\", fontSize: '9px', letterSpacing: '0.03em', textAlign: 'center', lineHeight: 1.3 }}>{item.label}</span>\n                  {item.badge && <span style={{ position: 'absolute', top: '6px', right: '6px', fontFamily: \"'Space Mono', monospace\", fontSize: '7px', padding: '1px 4px', borderRadius: '3px', background: 'rgba(52,211,153,0.15)', color: 'rgba(52,211,153,1)', letterSpacing: '0.05em' }}>{item.badge}</span>}\n                </button>\n              ))}\n            </div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n});\nMoreSheet.displayName = 'MoreSheet';\n\n// ─── BottomNavBar ─────────────────────────────────────────────────────────────\n\nconst BottomNavBar = memo(() => {\n  const mountedRef = useRef(true);\n  const navigate   = useNavigate();\n  const location   = useLocation();\n  const [moreOpen, setMoreOpen] = useState(false);\n\n  useEffect(() => { mountedRef.current = true; return () => { mountedRef.current = false; }; }, []);\n  useEffect(() => { if (moreOpen && mountedRef.current) setMoreOpen(false); }, [location.pathname]); // eslint-disable-line\n\n  const handlePress = useCallback((path: string) => {\n    if (!mountedRef.current) return;\n    if (path === '__more__') setMoreOpen(prev => !prev);\n    else navigate(path);\n  }, [navigate]);\n\n  const handleNav   = useCallback((path: string) => { if (mountedRef.current) navigate(path); }, [navigate]);\n  const closeMore   = useCallback(() => { if (mountedRef.current) setMoreOpen(false); }, []);\n\n  return (\n    <>\n      <nav style={{ position: 'fixed', bottom: 0, left: 0, right: 0, zIndex: 200, height: '60px', paddingBottom: 'env(safe-area-inset-bottom, 0px)', background: 'rgba(8,10,20,0.97)', borderTop: '1px solid rgba(255,255,255,0.07)', backdropFilter: 'blur(20px)', WebkitBackdropFilter: 'blur(20px)', display: 'flex', alignItems: 'stretch' }} role=\"navigation\" aria-label=\"Mobile bottom navigation\">\n        {NAV_TABS.map(tab => {\n          const isActive = tab.path === '__more__'\n            ? moreOpen\n            : (location.pathname === tab.path || (tab.path !== '/dashboard' && location.pathname.startsWith(tab.path)));\n          return <TabButton key={tab.label} tab={tab} isActive={isActive} onPress={handlePress} />;\n        })}\n      </nav>\n      <MoreSheet open={moreOpen} onClose={closeMore} onNav={handleNav} />\n    </>\n  );\n});\n\nBottomNavBar.displayName = 'BottomNavBar';\nexport default BottomNavBar;\n", "src/components/shared/CommandPalette.tsx": "/**\n * CommandPalette.tsx — ZERØ MERIDIAN 2026 push85\n * Bloomberg-style command palette — Ctrl+K / Cmd+K\n * - Semua halaman bisa diakses via search\n * - Keyboard shortcuts 1–9\n * - Recent pages\n * - React.memo + displayName ✓\n * - rgba() only ✓  Zero className ✓  Zero template literals in JSX ✓\n * - useCallback + useMemo + mountedRef ✓\n */\n\nimport React, { memo, useCallback, useMemo, useRef, useState, useEffect } from 'react';\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\nimport { useNavigate } from 'react-router-dom';\n\ninterface CommandItem {\n  id:       string;\n  label:    string;\n  path:     string;\n  group:    string;\n  shortcut?: string;\n  badge?:   string;\n}\n\nconst ALL_COMMANDS: readonly CommandItem[] = Object.freeze([\n  // OVERVIEW\n  { id: 'dashboard',    label: 'Dashboard',        path: '/dashboard',    group: 'OVERVIEW',      shortcut: '1' },\n  { id: 'markets',      label: 'Markets',           path: '/markets',      group: 'OVERVIEW',      shortcut: '2' },\n  { id: 'watchlist',    label: 'Watchlist',         path: '/watchlist',    group: 'OVERVIEW',      shortcut: '3' },\n  // TRADING\n  { id: 'charts',       label: 'Charts',            path: '/charts',       group: 'TRADING',       shortcut: '4' },\n  { id: 'orderbook',    label: 'Order Book',        path: '/orderbook',    group: 'TRADING'         },\n  { id: 'derivatives',  label: 'Derivatives',       path: '/derivatives',  group: 'TRADING'         },\n  // ANALYTICS\n  { id: 'defi',         label: 'DeFi',              path: '/defi',         group: 'ANALYTICS',     shortcut: '5' },\n  { id: 'onchain',      label: 'On-Chain',          path: '/onchain',      group: 'ANALYTICS',     badge: 'NEW'  },\n  { id: 'sentiment',    label: 'Sentiment',         path: '/sentiment',    group: 'ANALYTICS'       },\n  { id: 'fundamentals', label: 'Fundamentals',      path: '/fundamentals', group: 'ANALYTICS'       },\n  { id: 'tokens',       label: 'Tokens',            path: '/tokens',       group: 'ANALYTICS'       },\n  // INTELLIGENCE\n  { id: 'smartmoney',   label: 'Smart Money',       path: '/smartmoney',   group: 'INTELLIGENCE'    },\n  { id: 'networks',     label: 'Networks',          path: '/networks',     group: 'INTELLIGENCE'    },\n  { id: 'security',     label: 'Security Scanner',  path: '/security',     group: 'INTELLIGENCE'    },\n  { id: 'intelligence', label: 'AI Intelligence',   path: '/intelligence', group: 'INTELLIGENCE'    },\n  { id: 'aisignals',    label: 'AI Signals',        path: '/aisignals',    group: 'INTELLIGENCE'    },\n  // PERSONAL\n  { id: 'portfolio',    label: 'Portfolio',         path: '/portfolio',    group: 'PERSONAL',      shortcut: '6' },\n  { id: 'alerts',       label: 'Alerts',            path: '/alerts',       group: 'PERSONAL',      shortcut: '7' },\n  { id: 'converter',    label: 'Converter',         path: '/converter',    group: 'PERSONAL'        },\n  // OTHER\n  { id: 'portal',       label: 'Portal / Splash',   path: '/',             group: 'OTHER'           },\n]);\n\nconst GROUP_ORDER = Object.freeze(['OVERVIEW', 'TRADING', 'ANALYTICS', 'INTELLIGENCE', 'PERSONAL', 'OTHER']);\n\ninterface CommandPaletteProps {\n  open:    boolean;\n  onClose: () => void;\n}\n\nconst CommandPalette = memo(({ open, onClose }: CommandPaletteProps) => {\n  const mountedRef = useRef(true);\n  const inputRef   = useRef<HTMLInputElement>(null);\n  const navigate   = useNavigate();\n  const prefersRM  = useReducedMotion();\n\n  const [query,   setQuery]   = useState('');\n  const [focused, setFocused] = useState(0);\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => { mountedRef.current = false; };\n  }, []);\n\n  // Focus input when opened\n  useEffect(() => {\n    if (open) {\n      setTimeout(() => inputRef.current?.focus(), 60);\n      setQuery('');\n      setFocused(0);\n    }\n  }, [open]);\n\n  const filtered = useMemo(() => {\n    if (!query.trim()) return ALL_COMMANDS;\n    const q = query.toLowerCase();\n    return ALL_COMMANDS.filter(c =>\n      c.label.toLowerCase().includes(q) ||\n      c.group.toLowerCase().includes(q) ||\n      c.path.toLowerCase().includes(q)\n    );\n  }, [query]);\n\n  const grouped = useMemo(() => {\n    const map: Record<string, CommandItem[]> = {};\n    filtered.forEach(item => {\n      if (!map[item.group]) map[item.group] = [];\n      map[item.group].push(item);\n    });\n    return map;\n  }, [filtered]);\n\n  const flatList = useMemo(() => filtered, [filtered]);\n\n  const handleSelect = useCallback((path: string) => {\n    if (mountedRef.current) {\n      navigate(path);\n      onClose();\n    }\n  }, [navigate, onClose]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Escape') { onClose(); return; }\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      setFocused(prev => Math.min(prev + 1, flatList.length - 1));\n    }\n    if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      setFocused(prev => Math.max(prev - 1, 0));\n    }\n    if (e.key === 'Enter' && flatList[focused]) {\n      handleSelect(flatList[focused].path);\n    }\n    // Shortcut keys 1-9\n    const num = parseInt(e.key, 10);\n    if (!isNaN(num) && !e.ctrlKey && !e.metaKey) {\n      const match = ALL_COMMANDS.find(c => c.shortcut === e.key);\n      if (match) { handleSelect(match.path); }\n    }\n  }, [flatList, focused, handleSelect, onClose]);\n\n  const overlayStyle = useMemo(() => ({\n    position:   'fixed' as const,\n    inset:      0,\n    zIndex:     999,\n    background: 'rgba(5,6,12,0.75)',\n    backdropFilter:       'blur(8px)',\n    WebkitBackdropFilter: 'blur(8px)',\n    display:    'flex',\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    paddingTop: '12vh',\n  }), []);\n\n  const panelStyle = useMemo(() => ({\n    width:        '580px',\n    maxWidth:     'calc(100vw - 32px)',\n    maxHeight:    '70vh',\n    background:   'rgba(10,12,22,0.98)',\n    border:       '1px solid rgba(0,238,255,0.18)',\n    borderRadius: '14px',\n    boxShadow:    '0 32px 80px rgba(0,0,0,0.7), 0 0 0 1px rgba(0,238,255,0.08), 0 0 40px rgba(0,238,255,0.06)',\n    display:      'flex',\n    flexDirection:'column' as const,\n    overflow:     'hidden',\n  }), []);\n\n  const inputWrapStyle = useMemo(() => ({\n    display:     'flex',\n    alignItems:  'center',\n    gap:         '10px',\n    padding:     '14px 18px',\n    borderBottom:'1px solid rgba(255,255,255,0.06)',\n    flexShrink:  0,\n  }), []);\n\n  const inputStyle = useMemo(() => ({\n    flex:        1,\n    background:  'transparent',\n    border:      'none',\n    outline:     'none',\n    fontFamily:  \"'Space Mono', monospace\",\n    fontSize:    '14px',\n    color:       'rgba(235,238,255,0.95)',\n    letterSpacing: '0.02em',\n  }), []);\n\n  const resultsStyle = useMemo(() => ({\n    flex:       1,\n    overflowY:  'auto' as const,\n    padding:    '8px',\n  }), []);\n\n  const footerStyle = useMemo(() => ({\n    display:     'flex',\n    alignItems:  'center',\n    gap:         '16px',\n    padding:     '8px 18px',\n    borderTop:   '1px solid rgba(255,255,255,0.05)',\n    flexShrink:  0,\n  }), []);\n\n  const kbdStyle = useMemo(() => ({\n    fontFamily:   \"'Space Mono', monospace\",\n    fontSize:     '10px',\n    color:        'rgba(80,85,115,1)',\n    display:      'flex',\n    alignItems:   'center',\n    gap:          '4px',\n  }), []);\n\n  const kbdTagStyle = useMemo(() => ({\n    background:   'rgba(255,255,255,0.07)',\n    border:       '1px solid rgba(255,255,255,0.1)',\n    borderRadius: '4px',\n    padding:      '1px 6px',\n    fontSize:     '10px',\n    fontFamily:   \"'Space Mono', monospace\",\n    color:        'rgba(140,145,175,1)',\n  }), []);\n\n  return (\n    <AnimatePresence>\n      {open && (\n        <motion.div\n          key=\"palette-overlay\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: prefersRM ? 0 : 0.15 }}\n          style={overlayStyle}\n          onClick={onClose}\n        >\n          <motion.div\n            key=\"palette-panel\"\n            initial={{ opacity: 0, y: prefersRM ? 0 : -16, scale: prefersRM ? 1 : 0.97 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: prefersRM ? 0 : -8, scale: prefersRM ? 1 : 0.98 }}\n            transition={{ duration: prefersRM ? 0 : 0.18, ease: [0.22, 1, 0.36, 1] }}\n            style={panelStyle}\n            onClick={e => e.stopPropagation()}\n          >\n            {/* Search input */}\n            <div style={inputWrapStyle}>\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" aria-hidden=\"true\">\n                <circle cx=\"6.5\" cy=\"6.5\" r=\"4.5\" stroke=\"rgba(0,238,255,0.5)\" strokeWidth=\"1.5\"/>\n                <line x1=\"9.8\" y1=\"9.8\" x2=\"14\" y2=\"14\" stroke=\"rgba(0,238,255,0.5)\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/>\n              </svg>\n              <input\n                ref={inputRef}\n                style={inputStyle}\n                placeholder=\"Search pages, features...\"\n                value={query}\n                onChange={e => { setQuery(e.target.value); setFocused(0); }}\n                onKeyDown={handleKeyDown}\n                aria-label=\"Command palette search\"\n                autoComplete=\"off\"\n                spellCheck={false}\n              />\n              <div style={kbdTagStyle}>ESC</div>\n            </div>\n\n            {/* Results */}\n            <div style={resultsStyle} role=\"listbox\" aria-label=\"Navigation results\">\n              {flatList.length === 0 && (\n                <div style={{ padding: '24px', textAlign: 'center' as const, color: 'rgba(80,85,115,1)', fontFamily: \"'Space Mono', monospace\", fontSize: '12px' }}>\n                  No results for \"{query}\"\n                </div>\n              )}\n              {GROUP_ORDER.map(group => {\n                const items = grouped[group];\n                if (!items?.length) return null;\n                return (\n                  <div key={group} style={{ marginBottom: '4px' }}>\n                    <div style={{\n                      padding:       '6px 10px 3px',\n                      fontFamily:    \"'Space Mono', monospace\",\n                      fontSize:      '8.5px',\n                      letterSpacing: '0.2em',\n                      color:         'rgba(255,255,255,0.2)',\n                      textTransform: 'uppercase' as const,\n                      fontWeight:    700,\n                    }}>\n                      {group}\n                    </div>\n                    {items.map((item, idx) => {\n                      const globalIdx = flatList.indexOf(item);\n                      const isFocused = globalIdx === focused;\n                      return (\n                        <button\n                          key={item.id}\n                          type=\"button\"\n                          role=\"option\"\n                          aria-selected={isFocused}\n                          onClick={() => handleSelect(item.path)}\n                          onMouseEnter={() => setFocused(globalIdx)}\n                          style={{\n                            width:          '100%',\n                            display:        'flex',\n                            alignItems:     'center',\n                            gap:            '10px',\n                            padding:        '8px 10px',\n                            borderRadius:   '8px',\n                            background:     isFocused ? 'rgba(0,238,255,0.07)' : 'transparent',\n                            border:         '1px solid ' + (isFocused ? 'rgba(0,238,255,0.15)' : 'transparent'),\n                            cursor:         'pointer',\n                            textAlign:      'left' as const,\n                            transition:     'all 0.1s',\n                          }}\n                        >\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" aria-hidden=\"true\">\n                            <path d=\"M2 7h10M8 3l4 4-4 4\" stroke={isFocused ? 'rgba(0,238,255,0.8)' : 'rgba(80,85,115,1)'} strokeWidth=\"1.4\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                          </svg>\n                          <span style={{\n                            fontFamily:    \"'Space Mono', monospace\",\n                            fontSize:      '12px',\n                            color:         isFocused ? 'rgba(220,225,245,1)' : 'rgba(155,160,185,1)',\n                            flex:          1,\n                            letterSpacing: '0.01em',\n                          }}>\n                            {item.label}\n                          </span>\n                          {item.badge && (\n                            <span style={{\n                              fontFamily:  \"'Space Mono', monospace\",\n                              fontSize:    '8px',\n                              padding:     '1px 5px',\n                              borderRadius:'3px',\n                              background:  'rgba(52,211,153,0.1)',\n                              border:      '1px solid rgba(52,211,153,0.2)',\n                              color:       'rgba(52,211,153,0.9)',\n                              letterSpacing: '0.06em',\n                            }}>\n                              {item.badge}\n                            </span>\n                          )}\n                          {item.shortcut && (\n                            <span style={kbdTagStyle}>{item.shortcut}</span>\n                          )}\n                        </button>\n                      );\n                    })}\n                  </div>\n                );\n              })}\n            </div>\n\n            {/* Footer */}\n            <div style={footerStyle}>\n              <span style={kbdStyle}>\n                <span style={kbdTagStyle}>↑↓</span> navigate\n              </span>\n              <span style={kbdStyle}>\n                <span style={kbdTagStyle}>↵</span> select\n              </span>\n              <span style={kbdStyle}>\n                <span style={kbdTagStyle}>1–9</span> quick jump\n              </span>\n              <div style={{ flex: 1 }} />\n              <span style={{ fontFamily: \"'Space Mono', monospace\", fontSize: '9px', color: 'rgba(50,55,80,1)', letterSpacing: '0.12em' }}>\n                ZERØ MERIDIAN\n              </span>\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n});\n\nCommandPalette.displayName = 'CommandPalette';\nexport default CommandPalette;\n", "src/components/shared/MetricCard.tsx": "/**\n * MetricCard.tsx — ZERØ MERIDIAN 2026 push85\n * push85: Price flash animation green/red saat nilai berubah\n * - React.memo + displayName ✓  rgba() only ✓  Zero className ✓\n * - useCallback + useMemo + mountedRef ✓\n */\n\nimport { memo, useMemo, useRef, useEffect, useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { type LucideIcon } from 'lucide-react';\nimport { TRANSITION, VARIANTS } from '@/lib/motion';\nimport Skeleton from './Skeleton';\n\ninterface MetricCardProps {\n  label:        string;\n  value:        string;\n  change?:      number;\n  icon?:        LucideIcon;\n  accentColor?: string;\n  loading?:     boolean;\n  subtitle?:    string;\n}\n\nconst CARD_BASE = Object.freeze({\n  position:      'relative' as const,\n  willChange:    'transform' as const,\n  background:    'var(--zm-card-bg, rgba(14,17,28,1))',\n  borderRadius:  10,\n  padding:       18,\n  display:       'flex',\n  flexDirection: 'column' as const,\n  gap:           6,\n  minHeight:     92,\n  transition:    'border-color 0.2s',\n});\n\nconst SKELETON_BASE = Object.freeze({\n  background:    'rgba(255,255,255,0.05)',\n  border:        '1px solid rgba(255,255,255,0.07)',\n  borderRadius:  12, padding: 16,\n  display:       'flex', flexDirection: 'column' as const, gap: 8, minHeight: 88,\n});\n\n// ─── Animated value with price flash ─────────────────────────────────────────\n\nconst AnimatedValue = memo(({ value, change }: { value: string; change?: number }) => {\n  const prevRef  = useRef(value);\n  const [flash, setFlash] = useState<'up'|'down'|null>(null);\n  const mountRef = useRef(true);\n\n  useEffect(() => { mountRef.current = true; return () => { mountRef.current = false; }; }, []);\n\n  useEffect(() => {\n    if (prevRef.current !== value) {\n      if (mountRef.current) {\n        const dir = change !== undefined ? (change >= 0 ? 'up' : 'down') : null;\n        setFlash(dir);\n        const t = setTimeout(() => { if (mountRef.current) setFlash(null); }, 600);\n        prevRef.current = value;\n        return () => clearTimeout(t);\n      }\n      prevRef.current = value;\n    }\n  }, [value, change]);\n\n  const flashColor = useMemo(() => {\n    if (flash === 'up')   return 'rgba(52,211,153,0.22)';\n    if (flash === 'down') return 'rgba(255,68,136,0.18)';\n    return 'transparent';\n  }, [flash]);\n\n  return (\n    <motion.span\n      key={value}\n      initial={{ opacity: 0.7, y: 3 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.18 }}\n      style={{\n        display:    'inline-block',\n        fontFamily: \"'JetBrains Mono', monospace\",\n        fontSize:   '1.3rem',\n        fontWeight: 700,\n        color:      'var(--zm-text-primary, rgba(240,240,248,1))',\n        willChange: 'transform, opacity',\n        borderRadius: '6px',\n        padding:    flash ? '1px 4px' : '1px 0',\n        background: flashColor,\n        transition: 'background 0.5s ease, padding 0.15s',\n      }}\n    >\n      {value}\n    </motion.span>\n  );\n});\nAnimatedValue.displayName = 'AnimatedValue';\n\nconst MetricCard = memo(({\n  label, value, change, icon: Icon, accentColor, loading = false, subtitle,\n}: MetricCardProps) => {\n\n  const cardStyle = useMemo(() => ({\n    ...CARD_BASE,\n    border: '1px solid ' + (accentColor ? accentColor.replace(/[\\d.]+\\)$/, '0.15)') : 'var(--zm-card-border, rgba(32,42,68,1))'),\n  }), [accentColor]);\n\n  const changeColor = useMemo(() => {\n    if (change === undefined) return undefined;\n    return change >= 0 ? 'var(--zm-positive, rgba(52,211,153,1))' : 'var(--zm-negative, rgba(255,68,136,1))';\n  }, [change]);\n\n  const changeStr = useMemo(() => {\n    if (change === undefined) return undefined;\n    return (change >= 0 ? '+' : '') + change.toFixed(2) + '%';\n  }, [change]);\n\n  const topLineStyle = useMemo(() => ({\n    position: 'absolute' as const, top: 0, left: 0, right: 0, height: 1,\n    background: 'linear-gradient(90deg, transparent, ' + (accentColor ?? 'rgba(96,165,250,0.5)') + ', transparent)',\n    borderRadius: '12px 12px 0 0', opacity: 0.5,\n  }), [accentColor]);\n\n  if (loading) {\n    return (\n      <div style={SKELETON_BASE}>\n        <div style={{ display:'flex', alignItems:'center', justifyContent:'space-between' }}>\n          <Skeleton width={70} height={10} />\n          <Skeleton width={14} height={14} borderRadius={4} />\n        </div>\n        <Skeleton width=\"60%\" height={28} borderRadius={6} />\n        <Skeleton width={50} height={10} />\n      </div>\n    );\n  }\n\n  return (\n    <motion.div style={cardStyle} whileHover={{ scale: 1.02, y: -2 }} transition={TRANSITION.spring}>\n      <div style={topLineStyle} />\n      <div style={{ display:'flex', alignItems:'center', justifyContent:'space-between' }}>\n        <span style={{ fontFamily:\"'IBM Plex Mono', monospace\", fontSize:9, textTransform:'uppercase', letterSpacing:'0.1em', color:'var(--zm-text-faint, rgba(80,85,115,1))' }}>\n          {label}\n        </span>\n        {Icon && <Icon size={14} style={{ color: accentColor ?? 'rgba(80,80,100,1)', flexShrink:0 }} />}\n      </div>\n      <AnimatedValue value={value} change={change} />\n      {changeStr !== undefined && (\n        <span style={{ fontFamily:\"'JetBrains Mono', monospace\", fontSize:11, color:changeColor }}>\n          {changeStr}\n        </span>\n      )}\n      {subtitle && (\n        <span style={{ fontFamily:\"'IBM Plex Mono', monospace\", fontSize:10, color:'rgba(80,80,100,1)' }}>\n          {subtitle}\n        </span>\n      )}\n    </motion.div>\n  );\n});\n\nMetricCard.displayName = 'MetricCard';\nexport default MetricCard;\n", "src/components/shared/GlobalStatsBar.tsx": "/**\n * GlobalStatsBar.tsx — ZERØ MERIDIAN 2026 push85\n * push85: WS disconnect warning yang eksplisit + status indicator\n * - React.memo + displayName ✓  rgba() only ✓  Zero className ✓\n * - useCallback + useMemo + mountedRef ✓\n */\n\nimport { memo, useMemo, useState, useEffect, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { useGlobalStats } from '@/hooks/useGlobalStats';\nimport { formatCompact } from '@/lib/formatters';\n\nconst FG_COLORS = Object.freeze([\n  { max: 25,  color: 'rgba(255,102,102,1)',  bg: 'rgba(255,102,102,0.12)' },\n  { max: 45,  color: 'rgba(255,187,0,1)',    bg: 'rgba(255,187,0,0.12)'   },\n  { max: 55,  color: 'rgba(138,138,158,1)',  bg: 'rgba(138,138,158,0.10)' },\n  { max: 75,  color: 'rgba(61,214,140,1)',   bg: 'rgba(61,214,140,0.10)'  },\n  { max: 100, color: 'rgba(79,127,255,1)',   bg: 'rgba(79,127,255,0.10)'  },\n]);\n\nconst FearGreedBadge = memo(({ value, label }: { value: number; label: string }) => {\n  const cfg = useMemo(() => FG_COLORS.find(c => value <= c.max) ?? FG_COLORS[FG_COLORS.length - 1], [value]);\n  return (\n    <div style={{ display:'flex', alignItems:'center', gap:5 }}>\n      <span style={{ fontFamily:\"'IBM Plex Mono', monospace\", fontSize:10, color:'rgba(80,80,100,1)' }}>F&G</span>\n      <div style={{ display:'flex', alignItems:'center', gap:4, padding:'1px 6px', borderRadius:4, background:cfg.bg }}>\n        <span style={{ fontFamily:\"'JetBrains Mono', monospace\", fontSize:11, fontWeight:700, color:cfg.color }}>{value}</span>\n        <span style={{ fontFamily:\"'IBM Plex Mono', monospace\", fontSize:10, color:cfg.color }}>{label}</span>\n      </div>\n    </div>\n  );\n});\nFearGreedBadge.displayName = 'FearGreedBadge';\n\nconst Div = memo(() => <div style={{ width:1, height:14, background:'rgba(79,127,255,0.1)', flexShrink:0 }} />);\nDiv.displayName = 'Div';\n\nconst StatItem = memo(({ label, value, change, accent }: { label:string; value:string; change?:number; accent?:string }) => {\n  const changeColor = change != null ? (change >= 0 ? 'rgba(61,214,140,1)' : 'rgba(255,102,102,1)') : undefined;\n  return (\n    <div style={{ display:'flex', alignItems:'center', gap:5, flexShrink:0 }}>\n      <span style={{ fontFamily:\"'IBM Plex Mono', monospace\", fontSize:10, color:'rgba(80,80,100,1)' }}>{label}</span>\n      <span style={{ fontFamily:\"'JetBrains Mono', monospace\", fontSize:11, fontWeight:600, color: accent ?? 'rgba(240,240,248,1)' }}>{value}</span>\n      {change != null && <span style={{ fontFamily:\"'JetBrains Mono', monospace\", fontSize:10, color:changeColor }}>{change >= 0 ? '+' : ''}{change.toFixed(2)}%</span>}\n    </div>\n  );\n});\nStatItem.displayName = 'StatItem';\n\n// ─── Live Ticker with WS status tracking ──────────────────────────────────────\n\ntype WsStatus = 'connected' | 'disconnected' | 'reconnecting';\n\nconst WS_SYMBOLS = Object.freeze(['btcusdt','ethusdt','solusdt','bnbusdt','xrpusdt']);\n\ninterface TickerItem { symbol: string; price: string; change: number; }\n\nconst LiveTickerWithStatus = memo(({ onStatus }: { onStatus: (s: WsStatus) => void }) => {\n  const [tickers, setTickers] = useState<TickerItem[]>([]);\n  const wsRef    = useRef<WebSocket|null>(null);\n  const mountRef = useRef(true);\n\n  useEffect(() => {\n    mountRef.current = true;\n\n    function connect() {\n      if (!mountRef.current) return;\n      onStatus('reconnecting');\n      const streams = WS_SYMBOLS.map(s => s + '@miniTicker').join('/');\n      const ws = new WebSocket('wss://stream.binance.com:9443/stream?streams=' + streams);\n      wsRef.current = ws;\n\n      ws.onopen = () => { if (mountRef.current) onStatus('connected'); };\n      ws.onmessage = (e) => {\n        if (!mountRef.current) return;\n        try {\n          const d = JSON.parse(e.data).data;\n          if (!d?.s) return;\n          const sym = d.s.replace('USDT','');\n          const price = parseFloat(d.c);\n          const open  = parseFloat(d.o);\n          const change = open > 0 ? ((price - open) / open) * 100 : 0;\n          const fmt = price >= 1000 ? '$' + price.toLocaleString('en-US',{maximumFractionDigits:0}) : price >= 1 ? '$' + price.toFixed(2) : '$' + price.toFixed(4);\n          setTickers(prev => {\n            const next = prev.filter(t => t.symbol !== sym);\n            next.push({ symbol: sym, price: fmt, change });\n            return next.sort((a,b) => WS_SYMBOLS.indexOf(a.symbol.toLowerCase()+'usdt') - WS_SYMBOLS.indexOf(b.symbol.toLowerCase()+'usdt'));\n          });\n        } catch { /* ignore */ }\n      };\n      ws.onerror = () => {};\n      ws.onclose = () => {\n        if (mountRef.current) {\n          onStatus('disconnected');\n          setTimeout(connect, 3000);\n        }\n      };\n    }\n\n    connect();\n    return () => { mountRef.current = false; wsRef.current?.close(); };\n  }, []); // eslint-disable-line\n\n  if (tickers.length === 0) return null;\n\n  return (\n    <div style={{ display:'flex', alignItems:'center', gap:12, overflow:'hidden' }}>\n      {tickers.map(t => {\n        const pos = t.change >= 0;\n        return (\n          <div key={t.symbol} style={{ display:'flex', alignItems:'center', gap:5, flexShrink:0 }}>\n            <span style={{ fontFamily:\"'IBM Plex Mono', monospace\", fontSize:10, color:'rgba(138,138,158,1)', letterSpacing:'0.05em' }}>{t.symbol}</span>\n            <span style={{ fontFamily:\"'JetBrains Mono', monospace\", fontSize:10, color:'rgba(240,240,248,1)' }}>{t.price}</span>\n            <span style={{ fontFamily:\"'JetBrains Mono', monospace\", fontSize:10, color: pos ? 'rgba(61,214,140,1)' : 'rgba(255,102,102,1)' }}>{pos ? '+' : ''}{t.change.toFixed(2)}%</span>\n          </div>\n        );\n      })}\n    </div>\n  );\n});\nLiveTickerWithStatus.displayName = 'LiveTickerWithStatus';\n\n// ─── WS Status Badge ──────────────────────────────────────────────────────────\n\nconst WsStatusBadge = memo(({ status }: { status: WsStatus }) => {\n  const cfg = useMemo(() => {\n    if (status === 'connected')    return { color:'rgba(52,211,153,0.85)', bg:'rgba(52,211,153,0.06)',  border:'rgba(52,211,153,0.14)', dot:'rgba(52,211,153,0.9)',  label:'LIVE',   pulse:true  };\n    if (status === 'reconnecting') return { color:'rgba(255,187,0,0.9)',   bg:'rgba(255,187,0,0.06)',   border:'rgba(255,187,0,0.18)',  dot:'rgba(255,187,0,0.9)',   label:'SYNC…',  pulse:true  };\n    return                                { color:'rgba(255,68,68,0.9)',   bg:'rgba(255,68,68,0.07)',   border:'rgba(255,68,68,0.2)',   dot:'rgba(255,68,68,0.9)',   label:'OFFLINE', pulse:false };\n  }, [status]);\n\n  return (\n    <div style={{ display:'flex', alignItems:'center', gap:'5px', background:cfg.bg, border:'1px solid '+cfg.border, borderRadius:'16px', padding:'4px 10px', fontSize:'10px', fontFamily:\"'Space Mono', monospace\", color:cfg.color, letterSpacing:'0.08em', flexShrink:0 }}\n      role=\"status\" aria-label={'WebSocket status: '+status}\n    >\n      <motion.div style={{ width:5, height:5, borderRadius:'50%', background:cfg.dot, flexShrink:0 }}\n        animate={cfg.pulse ? { opacity:[1,0.35,1] } : { opacity:1 }}\n        transition={{ duration:1.8, repeat:Infinity }}\n        aria-hidden=\"true\"\n      />\n      {cfg.label}\n    </div>\n  );\n});\nWsStatusBadge.displayName = 'WsStatusBadge';\n\n// ─── GlobalStatsBar ───────────────────────────────────────────────────────────\n\nconst GlobalStatsBar = memo(() => {\n  const stats = useGlobalStats();\n  const [wsStatus, setWsStatus] = useState<WsStatus>('reconnecting');\n\n  const mcapStr = useMemo(() => formatCompact(stats.totalMarketCap),  [stats.totalMarketCap]);\n  const volStr  = useMemo(() => formatCompact(stats.totalVolume24h),  [stats.totalVolume24h]);\n\n  const barStyle = useMemo(() => ({\n    position: 'fixed' as const, top:0, left:0, right:0, zIndex:200, height:28,\n    background: 'rgba(5,6,12,1)', borderBottom: '1px solid rgba(255,255,255,0.05)',\n    backdropFilter:'blur(16px)', WebkitBackdropFilter:'blur(16px)',\n    display:'flex', alignItems:'center', padding:'0 16px', gap:12, overflow:'hidden',\n  }), []);\n\n  if (stats.loading && stats.lastUpdate === 0) {\n    return (\n      <div style={barStyle}>\n        <div style={{ width:160, height:8, borderRadius:4, background:'rgba(79,127,255,0.08)' }} />\n      </div>\n    );\n  }\n\n  return (\n    <div style={barStyle} aria-label=\"Global market stats bar\">\n      {/* Brand */}\n      <div style={{ display:'flex', alignItems:'center', gap:6, flexShrink:0 }}>\n        <div style={{ width:5, height:5, borderRadius:'50%', background:'rgba(79,127,255,0.8)', boxShadow:'0 0 6px rgba(79,127,255,0.6)' }} />\n        <span style={{ fontFamily:\"'JetBrains Mono', monospace\", fontSize:10, fontWeight:700, letterSpacing:'0.18em', color:'rgba(79,127,255,0.7)' }}>ZERØ</span>\n      </div>\n      <Div />\n      <StatItem label=\"MCAP\" value={mcapStr} change={stats.marketCapChange24h} />\n      <Div />\n      <StatItem label=\"VOL\" value={volStr} />\n      <Div />\n      <StatItem label=\"BTC.D\" value={stats.btcDominance.toFixed(1)+'%'} accent=\"rgba(255,187,0,1)\" />\n      <Div />\n      <StatItem label=\"ETH.D\" value={stats.ethDominance.toFixed(1)+'%'} accent=\"rgba(176,130,255,1)\" />\n      <Div />\n      <FearGreedBadge value={stats.fearGreedValue} label={stats.fearGreedLabel} />\n\n      <div style={{ marginLeft:'auto', display:'flex', alignItems:'center', gap:8 }}>\n        <Div />\n        <LiveTickerWithStatus onStatus={setWsStatus} />\n        <Div />\n        {/* WS Status — eksplisit, bukan cuma dot */}\n        <WsStatusBadge status={wsStatus} />\n      </div>\n    </div>\n  );\n});\n\nGlobalStatsBar.displayName = 'GlobalStatsBar';\nexport default GlobalStatsBar;\n"};

const CSS_APPEND = "\n/* ─── push85: Price Flash Keyframes ────────────────────────────────────────── */\n@keyframes zm-flash-up {\n  0%   { background: rgba(52,211,153,0.25); }\n  100% { background: transparent; }\n}\n@keyframes zm-flash-down {\n  0%   { background: rgba(255,68,136,0.20); }\n  100% { background: transparent; }\n}\n.zm-flash-up   { animation: zm-flash-up   0.6s ease-out forwards; }\n.zm-flash-down { animation: zm-flash-down 0.6s ease-out forwards; }\n\n/* ─── push85: Command Palette scroll ────────────────────────────────────────── */\n[role=\"listbox\"]::-webkit-scrollbar { width: 4px; }\n[role=\"listbox\"]::-webkit-scrollbar-track { background: transparent; }\n[role=\"listbox\"]::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 2px; }\n";

console.log('📝 Menulis file...');

// Tulis semua file
for (const [path, content] of Object.entries(FILES)) {
  mkdirSync(dirname(path), { recursive: true });
  writeFileSync(path, content, 'utf8');
  console.log('  ✓ ' + path);
}

// Append ke index.css (hanya tambahkan kalau belum ada)
const cssPath = 'src/index.css';
import { readFileSync } from 'fs';
const existingCss = readFileSync(cssPath, 'utf8');
if (!existingCss.includes('zm-flash-up')) {
  appendFileSync(cssPath, CSS_APPEND, 'utf8');
  console.log('  ✓ src/index.css (appended flash keyframes)');
} else {
  console.log('  ⏭  src/index.css (sudah ada, skip)');
}

// Git push
try {
  const remote = `https://${TOKEN}@github.com/${REPO}.git`;
  console.log('');
  console.log('📦 Staging...');
  execSync('git add -A', { stdio: 'inherit' });
  console.log('💬 Commit...');
  execSync(`git commit -m "${MSG}"`, { stdio: 'inherit' });
  console.log('🚀 Push ke GitHub...');
  execSync(`git push ${remote} ${BRANCH}`, { stdio: 'inherit' });
  console.log('');
  console.log('✅ push85 BERHASIL!');
  console.log('🌐 https://new-meridian-pearl.vercel.app');
  console.log('');
  console.log('Yang baru di push85:');
  console.log('  ✓ CommandPalette — Ctrl+K, search semua 20 halaman');
  console.log('  ✓ Sidebar — semua halaman masuk, 5 grup');
  console.log('  ✓ BottomNav More — buka sheet, bukan langsung /defi');
  console.log('  ✓ MetricCard — price flash hijau/merah');
  console.log('  ✓ GlobalStatsBar — WS status LIVE/SYNC/OFFLINE eksplisit');
} catch (err) {
  console.error('❌ Git error:', err.message);
  process.exit(1);
}
