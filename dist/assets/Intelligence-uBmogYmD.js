const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AISignalTile-CSrPC7tU.js","assets/vendor-radix-C8Wf2Xzy.js","assets/vendor-icons-BDtiwxs7.js","assets/GlassCard-FdfA-xA0.js","assets/index-BrbV88om.js","assets/vendor-utils-CyvyRcDv.js","assets/vendor-query-BhSX34xp.js","assets/vendor-react-DOP_lrST.js","assets/vendor-motion-BuE0cxIe.js","assets/index-DE-Ix-P_.css"])))=>i.map(i=>d[i]);
import{a as V,f as E,b as I,S as _,_ as H,c as w}from"./index-BrbV88om.js";import{j as e}from"./vendor-radix-C8Wf2Xzy.js";import{r as i}from"./vendor-icons-BDtiwxs7.js";import{G as h}from"./GlassCard-FdfA-xA0.js";import{u as z}from"./vendor-query-BhSX34xp.js";import{m as y}from"./vendor-motion-BuE0cxIe.js";import"./vendor-utils-CyvyRcDv.js";import"./vendor-react-DOP_lrST.js";const R="https://data.messari.io/api/v1";async function P(t,a){try{const o=await fetch(R+"/assets/"+t+"/metrics",{signal:a});if(!o.ok)return null;const n=(await o.json()).data,s=n.market_data,d=n.roi_data,p=n.all_time_high,m=n.supply;return{symbol:n.symbol,name:n.name,marketcapUsd:s.marketcap_dominance_percent??0,volumeLastHour:s.volume_last_hour??0,volumeLastDay:s.volume_last_day??0,realVolumeLast24h:s.real_volume_last_24_hours??0,ohlcvLast1h:s.ohlcv_last_1_hour!=null?s.ohlcv_last_1_hour:null,ohlcvLast24h:s.ohlcv_last_24_hours!=null?s.ohlcv_last_24_hours:null,percentChangeLast1h:d.percent_change_last_1_hour??0,percentChangeLast24h:d.percent_change_last_24_hours??0,percentChangeLast7d:d.percent_change_last_7_days??0,percentChangeLast30d:d.percent_change_last_30_days??0,percentChangeLast1y:d.percent_change_last_1_year??0,athUsd:p.price??0,atl:0,liquidityCurrentUsd:s.liquidity_current??0,circulatingSupply:m.circulating??0,stockToFlow:null,developerActivity:null}}catch{return null}}async function B(t){try{const a=await fetch(R+"/news",{signal:t});return a.ok?(await a.json()).data??[]:[]}catch{return[]}}function L(t="bitcoin"){return z({queryKey:["messari-metrics",t],queryFn:async({signal:a})=>{const o=await P(t,a);if(!o)throw new Error("Messari metrics fetch failed");return o},staleTime:6e4,refetchInterval:6e4,retry:2,retryDelay:a=>Math.min(1e3*2**a,15e3)})}function D(){return z({queryKey:["messari-news"],queryFn:async({signal:t})=>await B(t),staleTime:12e4,refetchInterval:12e4,retry:2,retryDelay:t=>Math.min(1e3*2**t,15e3)})}function W(){const t=L("bitcoin"),a=L("ethereum"),o=L("solana"),r=D(),n=i.useMemo(()=>{const m={};return t.data&&(m.bitcoin=t.data),a.data&&(m.ethereum=a.data),o.data&&(m.solana=o.data),m},[t.data,a.data,o.data]),s=t.isLoading||a.isLoading||o.isLoading,d=t.isError&&a.isError&&o.isError,p=i.useMemo(()=>()=>{t.refetch(),a.refetch(),o.refetch(),r.refetch()},[t,a,o,r]);return i.useMemo(()=>({metrics:n,news:r.data??[],isLoading:s,isError:d,refetch:p}),[n,r.data,s,d,p])}const A="https://api.santiment.net/graphql";function q(t,a,o){return JSON.stringify({query:`{
      socialVolume(
        slug: "${t}"
        from: "${a}"
        to: "${o}"
        interval: "1h"
        socialVolumeType: PROFESSIONAL_TRADERS_CHAT
      ) {
        datetime
        value: mentionsCount
      }
    }`})}function Q(t,a){return JSON.stringify({query:`{
      getTrendingWords(
        from: "${t}"
        to: "${a}"
        interval: "6h"
      ) {
        datetime
        topWords {
          word
          score
        }
      }
    }`})}function O(){const t=new Date;return{from:new Date(t.getTime()-24*60*60*1e3).toISOString(),to:t.toISOString()}}async function G(t,a){try{const{from:o,to:r}=O(),n=await fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:q(t,o,r),signal:a});return n.ok?(await n.json()).data?.socialVolume??[]:[]}catch{return[]}}async function U(t){try{const{from:a,to:o}=O(),r=await fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:Q(a,o),signal:t});if(!r.ok)return[];const s=(await r.json()).data?.getTrendingWords??[];return s.length===0?[]:s[s.length-1].topWords.slice(0,10)}catch{return[]}}function $(t="bitcoin"){return z({queryKey:["santiment-social-volume",t],queryFn:async({signal:a})=>G(t,a),staleTime:3e5,refetchInterval:3e5,retry:2,retryDelay:a=>Math.min(1e3*2**a,2e4)})}function K(){return z({queryKey:["santiment-trending"],queryFn:async({signal:t})=>U(t),staleTime:6e5,refetchInterval:6e5,retry:2,retryDelay:t=>Math.min(1e3*2**t,2e4)})}function J(t="bitcoin"){const a=$(t),o=K(),r=i.useMemo(()=>()=>{a.refetch(),o.refetch()},[a,o]);return i.useMemo(()=>({socialVolume:a.data??[],sentiment:[],trendingTopics:o.data??[],isLoading:a.isLoading||o.isLoading,isError:a.isError&&o.isError,refetch:r}),[a.data,a.isLoading,a.isError,o.data,o.isLoading,o.isError,r])}const Y=i.lazy(()=>H(()=>import("./AISignalTile-CSrPC7tU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),F=Object.freeze(["BTC","ETH","SOL"]),X=Object.freeze({BTC:"bitcoin",ETH:"ethereum",SOL:"solana"}),Z=Object.freeze({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.05}}}),S=Object.freeze({hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.22,1,.36,1]}}}),b=i.memo(({label:t,color:a="var(--zm-violet)"})=>e.jsx("p",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",letterSpacing:"0.16em",color:a,marginBottom:"14px",textTransform:"uppercase",opacity:.6},children:t}));b.displayName="SectionHeader";const M=i.memo(({asset:t,data:a,isLoading:o})=>{const r=i.useMemo(()=>({padding:"14px",display:"flex",flexDirection:"column",gap:"10px"}),[]);return o||!a?e.jsx(h,{style:r,children:e.jsx(_.Card,{})}):e.jsxs(h,{style:r,"aria-label":"Messari fundamental data for "+t,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:700,color:"var(--zm-text-primary)",letterSpacing:"0.06em"},children:t.toUpperCase()}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"8px",color:"var(--zm-accent)",letterSpacing:"0.1em",opacity:.6},children:"MESSARI"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"6px"},children:[{label:"24H",value:a.percentChangeLast24h},{label:"7D",value:a.percentChangeLast7d},{label:"30D",value:a.percentChangeLast30d}].map(n=>e.jsxs("div",{style:{background:"var(--zm-surface-1)",borderRadius:"6px",padding:"6px 8px",textAlign:"center"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"8px",color:"var(--zm-text-faint)",letterSpacing:"0.08em",marginBottom:"2px"},children:n.label}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",fontWeight:700,color:n.value>=0?"rgba(52,211,153,1)":"rgba(251,113,133,1)"},children:I(n.value)})]},n.label))}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)"},children:"Real Vol 24H"}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-primary)",opacity:.7},children:w(a.realVolumeLast24h)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)"},children:"ATH"}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-primary)",opacity:.7},children:E(a.athUsd)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)"},children:"Circ. Supply"}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-primary)",opacity:.7},children:w(a.circulatingSupply).replace("$","")})]})]})]})});M.displayName="MessariCard";const k=i.memo(({words:t,isLoading:a})=>{if(a)return e.jsx(h,{style:{padding:"14px",minHeight:"80px"},children:e.jsx(_.Card,{})});const o=Math.max(...t.map(r=>r.score),1);return e.jsxs(h,{style:{padding:"14px"},"aria-label":"Santiment trending crypto topics",children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)",letterSpacing:"0.1em",marginBottom:"10px"},children:"TRENDING TOPICS · SANTIMENT"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:t.length===0?e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)"},children:"No trending data available — rate limited or no free quota remaining."}):t.map(r=>{const s=.3+r.score/o*.7;return e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",padding:"3px 8px",borderRadius:"4px",background:"rgba(34,211,238,"+(s*.12).toFixed(2)+")",border:"1px solid rgba(34,211,238,"+(s*.3).toFixed(2)+")",color:"rgba(34,211,238,"+s.toFixed(2)+")",letterSpacing:"0.04em",willChange:"transform"},children:r.word},r.word)})})]})});k.displayName="TrendingTags";const N=i.memo(({data:t,isLoading:a})=>{const o=i.useRef(null);return i.useEffect(()=>{const r=o.current;if(!r||a||t.length===0)return;const n=r.getContext("2d");if(!n)return;const s=r.offsetWidth*devicePixelRatio,d=r.offsetHeight*devicePixelRatio;r.width=s,r.height=d,n.scale(devicePixelRatio,devicePixelRatio);const p=r.offsetWidth,m=r.offsetHeight,c={t:8,r:8,b:20,l:32},T=p-c.l-c.r,u=m-c.t-c.b,j=Math.max(...t.map(f=>f.value),1),l=T/Math.max(t.length-1,1);n.clearRect(0,0,p,m),n.beginPath(),t.forEach((f,x)=>{const g=c.l+x*l,v=c.t+u*(1-f.value/j);x===0?n.moveTo(g,v):n.lineTo(g,v)}),n.lineTo(c.l+(t.length-1)*l,c.t+u),n.lineTo(c.l,c.t+u),n.closePath();const C=n.createLinearGradient(0,c.t,0,c.t+u);C.addColorStop(0,"rgba(34,211,238,0.22)"),C.addColorStop(1,"rgba(34,211,238,0.01)"),n.fillStyle=C,n.fill(),n.beginPath(),t.forEach((f,x)=>{const g=c.l+x*l,v=c.t+u*(1-f.value/j);x===0?n.moveTo(g,v):n.lineTo(g,v)}),n.strokeStyle="rgba(34,211,238,0.8)",n.lineWidth=1.5,n.stroke()},[t,a]),e.jsxs(h,{style:{padding:"14px"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)",letterSpacing:"0.1em",marginBottom:"8px"},children:"SOCIAL VOLUME · 24H"}),a?e.jsx(_.Card,{}):t.length===0?e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",padding:"12px 0"},children:"No social volume data — Santiment may be rate limited."}):e.jsx("canvas",{ref:o,style:{width:"100%",height:"80px",display:"block"},"aria-label":"Social volume chart over 24 hours",role:"img"})]})});N.displayName="SocialVolumeChart";const ee=i.memo(()=>{const t=i.useRef(!0),{assets:a}=V(),[o,r]=i.useState("BTC"),n=W(),s=J(X[o]);i.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]);const d=i.useCallback(l=>{t.current&&r(l)},[]),p=i.useMemo(()=>a.find(l=>l.symbol.toLowerCase()===o.toLowerCase()),[a,o]),m=i.useMemo(()=>({display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"14px",marginBottom:"20px"}),[]),c=i.useMemo(()=>({display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"14px",marginBottom:"20px"}),[]),T=i.useMemo(()=>({display:"grid",gridTemplateColumns:"2fr 1fr",gap:"14px"}),[]),u=i.useMemo(()=>({display:"flex",gap:"6px",marginBottom:"20px"}),[]),j=i.useMemo(()=>({display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"}),[]);return e.jsxs(y.div,{variants:Z,initial:"hidden",animate:"visible",children:[e.jsxs(y.div,{variants:S,style:j,children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontFamily:"'Space Mono', monospace",fontSize:"18px",fontWeight:700,color:"var(--zm-text-primary)",letterSpacing:"0.04em"},children:"AI Intelligence"}),e.jsx("p",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",letterSpacing:"0.08em",marginTop:"3px"},children:"TensorFlow.js · Messari · Santiment"})]}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-violet)",background:"var(--zm-violet-bg)",border:"1px solid var(--zm-violet-border)",borderRadius:"6px",padding:"5px 12px"},children:"PHASE 10 · AI LAYER"})]}),e.jsxs(y.div,{variants:S,style:u,role:"group","aria-label":"Select asset for analysis",children:[F.map(l=>e.jsx("button",{type:"button",onClick:()=>d(l),"aria-pressed":o===l,style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",letterSpacing:"0.08em",padding:"6px 16px",borderRadius:"6px",background:o===l?"var(--zm-violet-bg)":"var(--zm-surface-1)",border:"1px solid "+(o===l?"var(--zm-violet-border)":"var(--zm-divider)"),color:o===l?"var(--zm-violet)":"var(--zm-text-secondary)",cursor:"pointer",willChange:"transform"},"aria-label":"Analyze "+l,children:l},l)),p&&e.jsxs("div",{style:{marginLeft:"auto",fontFamily:"'Space Mono', monospace",fontSize:"12px",color:"var(--zm-text-secondary)",alignSelf:"center"},children:[E(p.price),e.jsx("span",{style:{color:p.change24h>=0?"rgba(52,211,153,1)":"rgba(251,113,133,1)",marginLeft:"6px"},children:I(p.change24h)})]})]}),e.jsxs(y.div,{variants:S,children:[e.jsx(b,{label:"⬡ AI Signal Layer · TensorFlow.js",color:"var(--zm-violet)"}),e.jsx("div",{style:m,children:F.map(l=>e.jsx(i.Suspense,{fallback:e.jsx(h,{style:{height:340},children:e.jsx(_.Card,{})}),children:e.jsx(Y,{symbol:l})},l))})]}),e.jsxs(y.div,{variants:S,children:[e.jsx(b,{label:"◈ Fundamental Data · Messari",color:"var(--zm-accent)"}),e.jsxs("div",{style:c,children:[e.jsx(M,{asset:"BTC",data:n.metrics.bitcoin,isLoading:n.isLoading}),e.jsx(M,{asset:"ETH",data:n.metrics.ethereum,isLoading:n.isLoading}),e.jsx(M,{asset:"SOL",data:n.metrics.solana,isLoading:n.isLoading})]})]}),e.jsxs(y.div,{variants:S,children:[e.jsx(b,{label:"◎ Social Intelligence · Santiment",color:"var(--zm-cyan)"}),e.jsxs("div",{style:T,children:[e.jsx(N,{data:s.socialVolume,isLoading:s.isLoading}),e.jsx(k,{words:s.trendingTopics,isLoading:s.isLoading})]})]})]})});ee.displayName="Intelligence";export{ee as default};
