import{j as e}from"./vendor-radix-C8Wf2Xzy.js";import{r as p}from"./vendor-icons-BDtiwxs7.js";import{M as D}from"./MetricCard-BKCENN9_.js";import{u as q}from"./index-BrbV88om.js";import"./vendor-motion-BuE0cxIe.js";import"./vendor-utils-CyvyRcDv.js";import"./vendor-query-BhSX34xp.js";import"./vendor-react-DOP_lrST.js";const S=Object.freeze([{symbol:"BTC",name:"Bitcoin",qty:.42,avgCost:58200,price:97350,color:"rgba(251,191,36,1)"},{symbol:"ETH",name:"Ethereum",qty:3.8,avgCost:2850,price:3420,color:"rgba(96,165,250,1)"},{symbol:"SOL",name:"Solana",qty:28.5,avgCost:145,price:198,color:"rgba(167,139,250,1)"},{symbol:"BNB",name:"BNB",qty:5.2,avgCost:290,price:412,color:"rgba(251,146,60,1)"},{symbol:"ARB",name:"Arbitrum",qty:850,avgCost:1.12,price:1.48,color:"rgba(52,211,153,1)"},{symbol:"LINK",name:"Chainlink",qty:120,avgCost:12.4,price:18.7,color:"rgba(248,113,113,1)"},{symbol:"AVAX",name:"Avalanche",qty:45,avgCost:28,price:42.3,color:"rgba(45,212,191,1)"},{symbol:"USDC",name:"USD Coin",qty:2400,avgCost:1,price:1,color:"rgba(148,163,184,0.5)"}]),M=Object.freeze([{id:"t001",date:"2026-02-21",symbol:"BTC",side:"BUY",qty:.05,price:95800,pnl:null,notes:"DCA accumulation zone"},{id:"t002",date:"2026-02-18",symbol:"SOL",side:"SELL",qty:10,price:210,pnl:650,notes:"Take profit partial"},{id:"t003",date:"2026-02-14",symbol:"ETH",side:"BUY",qty:.5,price:3280,pnl:null,notes:"Support retest"},{id:"t004",date:"2026-02-10",symbol:"ARB",side:"BUY",qty:500,price:1.08,pnl:null,notes:"Breakout confirmation"},{id:"t005",date:"2026-02-05",symbol:"LINK",side:"SELL",qty:50,price:20.1,pnl:385,notes:"TP1 hit"},{id:"t006",date:"2026-01-28",symbol:"BNB",side:"BUY",qty:2,price:380,pnl:null,notes:"Bull flag breakout"},{id:"t007",date:"2026-01-22",symbol:"AVAX",side:"BUY",qty:20,price:36.5,pnl:null,notes:"Oversold bounce"},{id:"t008",date:"2026-01-15",symbol:"SOL",side:"SELL",qty:15,price:188,pnl:645,notes:"Resistance rejection"}]),P=Object.freeze(["Overview","Holdings","Journal","Risk"]);function E(o,n,l,d){let r=o,a=n,s=l,i=d;return function(){const m=a<<9;let g=r*5;return g=(g<<7|g>>>25)*9,s^=r,i^=a,a^=s,r^=i,s^=m,i=i<<11|i>>>21,(g>>>0)/4294967296}}const L=E(1234567891,987654321,192837465,1122334455);function O(){const o=[];let n=45e3;const l=Date.now();for(let d=89;d>=0;d--){const r=new Date(l-d*864e5);n=n*(1+(L()-.44)*.032),o.push({date:r.toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:Math.round(n)})}return o}const j=Object.freeze(O());function v(o){return Math.abs(o)>=1e6?"$"+(o/1e6).toFixed(2)+"M":Math.abs(o)>=1e3?"$"+(o/1e3).toFixed(1)+"K":"$"+o.toFixed(2)}function R(o){return(o>=0?"+":"")+o.toFixed(2)+"%"}const w=p.memo(({data:o,height:n})=>{const l=p.useRef(null),d=p.useRef(!0);return p.useEffect(()=>(d.current=!0,()=>{d.current=!1}),[]),p.useEffect(()=>{const r=l.current;if(!r)return;const a=r.getContext("2d");if(!a)return;const s=window.devicePixelRatio||1,i=r.offsetWidth,m=n;if(r.width=i*s,r.height=m*s,a.scale(s,s),o.length<2)return;const g=o.map(y=>y.value),f=Math.min(...g),b=Math.max(...g)-f||1,x={t:16,b:16,l:8,r:8},T=i-x.l-x.r,t=m-x.t-x.b,c=y=>x.l+y/(o.length-1)*T,h=y=>x.t+t-(y-f)/b*t,C=a.createLinearGradient(0,x.t,0,x.t+t);C.addColorStop(0,"rgba(96,165,250,0.25)"),C.addColorStop(1,"rgba(96,165,250,0)"),a.beginPath(),a.moveTo(c(0),h(o[0].value)),o.forEach((y,z)=>{z>0&&a.lineTo(c(z),h(y.value))}),a.lineTo(c(o.length-1),x.t+t),a.lineTo(c(0),x.t+t),a.closePath(),a.fillStyle=C,a.fill(),a.beginPath(),a.moveTo(c(0),h(o[0].value)),o.forEach((y,z)=>{z>0&&a.lineTo(c(z),h(y.value))}),a.strokeStyle="rgba(96,165,250,0.9)",a.lineWidth=1.5,a.lineJoin="round",a.stroke()},[o,n]),e.jsx("canvas",{ref:l,style:{display:"block",width:"100%",height:n+"px",willChange:"transform"},"aria-label":"Portfolio equity curve"})});w.displayName="EquityCurve";const F=p.memo(({holdings:o})=>{const n=p.useRef(null),l=p.useMemo(()=>o.reduce((d,r)=>d+r.qty*r.price,0),[o]);return p.useEffect(()=>{const d=n.current;if(!d||l===0)return;const r=d.getContext("2d");if(!r)return;const a=120,s=window.devicePixelRatio||1;d.width=a*s,d.height=a*s,r.scale(s,s);const i=a/2,m=a/2,g=44,f=26;let u=-Math.PI/2;o.forEach(b=>{const x=b.qty*b.price/l*Math.PI*2;r.beginPath(),r.moveTo(i+f*Math.cos(u),m+f*Math.sin(u)),r.arc(i,m,g,u,u+x),r.arc(i,m,f,u+x,u,!0),r.closePath(),r.fillStyle=b.color,r.fill(),u+=x})},[o,l]),e.jsx("canvas",{ref:n,style:{width:"120px",height:"120px",flexShrink:0,willChange:"transform"},"aria-label":"Portfolio allocation donut chart"})});F.displayName="AllocationDonut";const A=p.memo(({h:o,total:n})=>{const l=o.qty*o.price,d=o.qty*o.avgCost,r=l-d,a=(o.price-o.avgCost)/o.avgCost*100,s=l/n*100,i=r>=0;return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 80px 100px 100px 100px 80px",gap:"0 8px",padding:"8px 16px",borderBottom:"1px solid var(--zm-glass-border)",alignItems:"center",willChange:"transform"},role:"row",onMouseEnter:m=>{m.currentTarget.style.background="var(--zm-glass-hover)"},onMouseLeave:m=>{m.currentTarget.style.background="transparent"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:o.color,flexShrink:0}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",fontWeight:600,color:"var(--zm-text-primary)"},children:o.symbol})]}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",color:"var(--zm-text-secondary)",textAlign:"right"},children:o.qty}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",color:"var(--zm-text-primary)",textAlign:"right"},children:v(l)}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",textAlign:"right",color:i?"rgba(52,211,153,0.9)":"rgba(251,113,133,0.9)"},children:(i?"+":"")+v(r)}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",textAlign:"right",color:i?"rgba(52,211,153,0.9)":"rgba(251,113,133,0.9)"},children:R(a)}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",color:"var(--zm-text-faint)",textAlign:"right"},children:s.toFixed(1)+"%"})]})});A.displayName="HoldingsRow";const k=p.memo(({t:o})=>{const n=o.side==="BUY";return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"96px 60px 56px 80px 90px 90px 1fr",gap:"0 8px",padding:"8px 16px",borderBottom:"1px solid var(--zm-glass-border)",alignItems:"center",willChange:"transform"},role:"row",onMouseEnter:l=>{l.currentTarget.style.background="var(--zm-glass-hover)"},onMouseLeave:l=>{l.currentTarget.style.background="transparent"},children:[e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)"},children:o.date}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",fontWeight:600,color:"var(--zm-text-primary)"},children:o.symbol}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",padding:"2px 6px",borderRadius:"4px",textAlign:"center",background:n?"rgba(52,211,153,0.1)":"rgba(251,113,133,0.1)",color:n?"rgba(52,211,153,0.9)":"rgba(251,113,133,0.9)",border:"1px solid "+(n?"rgba(52,211,153,0.25)":"rgba(251,113,133,0.25)")},children:o.side}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",textAlign:"right",color:"var(--zm-text-secondary)"},children:o.qty}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",textAlign:"right",color:"var(--zm-text-primary)"},children:v(o.price)}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",textAlign:"right",color:o.pnl!=null?o.pnl>=0?"rgba(52,211,153,0.9)":"rgba(251,113,133,0.9)":"var(--zm-text-faint)"},children:o.pnl!=null?(o.pnl>=0?"+":"")+v(o.pnl):"—"}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o.notes})]})});k.displayName="TradeRow";const B=p.memo(()=>{const o=p.useMemo(()=>Object.freeze([{label:"Portfolio Beta",value:"1.24",color:"rgba(251,191,36,1)",note:"vs BTC"},{label:"Sharpe Ratio",value:"1.82",color:"rgba(52,211,153,1)",note:"90D"},{label:"Max Drawdown",value:"-18.4%",color:"rgba(251,113,133,1)",note:"90D"},{label:"Volatility (30D)",value:"42.1%",color:"rgba(251,146,60,1)",note:"Annualized"},{label:"Correlation BTC",value:"0.87",color:"rgba(96,165,250,1)",note:"High"},{label:"VaR (95%)",value:"-4.8%",color:"rgba(167,139,250,1)",note:"1D"}]),[]);return e.jsx("div",{style:{display:"grid",gridTemplateColumns:isMobile?"1fr":"repeat(3, 1fr)",gap:"12px",willChange:"transform"},children:o.map(n=>e.jsxs("div",{style:{padding:"14px 16px",borderRadius:"10px",background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)",letterSpacing:"0.08em",textTransform:"uppercase",marginBottom:"6px"},children:n.label}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"20px",fontWeight:700,color:n.color},children:n.value}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)",marginTop:"4px"},children:n.note})]},n.label))})});B.displayName="RiskPanel";const I=p.memo(()=>{const{isMobile:o,isTablet:n}=q(),[l,d]=p.useState(0),r=p.useRef(!0);p.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const a=p.useCallback(t=>d(t),[]),s=p.useMemo(()=>S.reduce((t,c)=>t+c.qty*c.price,0),[]),i=p.useMemo(()=>S.reduce((t,c)=>t+c.qty*c.avgCost,0),[]),m=p.useMemo(()=>s-i,[s,i]),g=p.useMemo(()=>(s-i)/i*100,[s,i]),f=p.useMemo(()=>(j[j.length-1].value-j[0].value)/j[0].value*100,[]),u=M.filter(t=>t.pnl!==null&&t.pnl>0).length,b=M.filter(t=>t.pnl!==null).length,x=b>0?u/b*100:0,T=p.useMemo(()=>Object.freeze([{label:"Total Value",value:v(s),subValue:R(f)+" (90D)",positive:f>=0},{label:"Total P&L",value:v(m),subValue:R(g)+" ROI",positive:m>=0},{label:"ROI",value:R(g),subValue:v(i)+" cost",positive:g>=0},{label:"Win Rate",value:x.toFixed(0)+"%",subValue:b+" closed trades",positive:x>=50}]),[s,m,g,i,f,x,b]);return e.jsxs("div",{style:{minHeight:"100vh",background:"var(--zm-bg-base)",fontFamily:"'Space Mono', monospace"},"aria-label":"Portfolio tracker",role:"main",children:[e.jsx("div",{style:{padding:"24px 28px 20px",borderBottom:"1px solid var(--zm-glass-border)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{margin:0,fontFamily:"'Space Mono', monospace",fontSize:"18px",fontWeight:700,color:"var(--zm-text-primary)",letterSpacing:"0.04em",willChange:"transform"},children:"PORTFOLIO TRACKER"}),e.jsx("p",{style:{margin:"4px 0 0",fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",letterSpacing:"0.06em"},children:"ULTRA · "+S.length+" ASSETS · LIVE"})]}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:["1D","7D","30D","90D"].map(t=>e.jsx("button",{type:"button","aria-label":"Range "+t,style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",padding:"5px 10px",borderRadius:"6px",cursor:"pointer",willChange:"transform",border:t==="90D"?"1px solid rgba(96,165,250,0.35)":"1px solid var(--zm-glass-border)",background:t==="90D"?"rgba(96,165,250,0.1)":"transparent",color:t==="90D"?"rgba(96,165,250,0.9)":"var(--zm-text-faint)"},children:t},t))})]})}),e.jsx("div",{style:{display:"flex",gap:"12px",padding:"16px 28px"},children:T.map(t=>e.jsx(D,{label:t.label,value:t.value,subValue:t.subValue,positive:t.positive},t.label))}),e.jsx("div",{style:{display:"flex",gap:"4px",padding:"12px 28px",borderBottom:"1px solid var(--zm-glass-border)"},role:"tablist","aria-label":"Portfolio sections",children:P.map((t,c)=>e.jsx("button",{type:"button",role:"tab","aria-selected":l===c,onClick:()=>a(c),style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",letterSpacing:"0.06em",padding:"6px 14px",borderRadius:"6px",cursor:"pointer",willChange:"transform",border:l===c?"1px solid rgba(96,165,250,0.3)":"1px solid transparent",background:l===c?"rgba(96,165,250,0.1)":"transparent",color:l===c?"rgba(96,165,250,0.95)":"var(--zm-text-faint)"},children:t},t))}),e.jsxs("div",{style:{padding:"20px 28px"},children:[l===0&&e.jsxs("div",{children:[e.jsxs("div",{style:{background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",borderRadius:"12px",padding:"16px",marginBottom:"20px"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",letterSpacing:"0.08em",marginBottom:"12px"},children:"EQUITY CURVE — 90 DAYS"}),e.jsx(w,{data:j,height:180})]}),e.jsxs("div",{style:{background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",borderRadius:"12px",padding:"16px"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",letterSpacing:"0.08em",marginBottom:"16px"},children:"ALLOCATION"}),e.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"center"},children:[e.jsx(F,{holdings:S}),e.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px 16px"},children:S.map(t=>{const h=t.qty*t.price/s*100;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:t.color,flexShrink:0}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-primary)",minWidth:"36px"},children:t.symbol}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)"},children:h.toFixed(1)+"%"})]},t.symbol)})})]})]})]}),l===1&&e.jsxs("div",{style:{background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",borderRadius:"12px",overflow:"hidden"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"120px 80px 100px 100px 100px 80px",gap:"0 8px",padding:"10px 16px",borderBottom:"1px solid var(--zm-glass-border)",background:"var(--zm-topbar-bg)"},role:"rowheader",children:["Asset","Qty","Value","P&L","ROI","Alloc"].map(t=>e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)",letterSpacing:"0.08em",textAlign:t==="Asset"?"left":"right",textTransform:"uppercase"},children:t},t))}),e.jsx("div",{role:"list","aria-label":"Holdings",children:S.map(t=>e.jsx(A,{h:t,total:s},t.symbol))})]}),l===2&&e.jsxs("div",{style:{background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",borderRadius:"12px",overflow:"hidden"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"96px 60px 56px 80px 90px 90px 1fr",gap:"0 8px",padding:"10px 16px",borderBottom:"1px solid var(--zm-glass-border)",background:"var(--zm-topbar-bg)"},role:"rowheader",children:["Date","Asset","Side","Qty","Price","Realized","Notes"].map(t=>e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"9px",color:"var(--zm-text-faint)",letterSpacing:"0.08em",textTransform:"uppercase"},children:t},t))}),e.jsx("div",{role:"list","aria-label":"Trade journal",children:M.map(t=>e.jsx(k,{t},t.id))}),e.jsxs("div",{style:{display:"flex",gap:"20px",padding:"12px 16px",borderTop:"1px solid var(--zm-glass-border)",background:"var(--zm-glass-bg)"},children:[e.jsxs("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)"},children:["Total realized: ",e.jsx("span",{style:{color:"rgba(52,211,153,0.9)"},children:v(M.filter(t=>t.pnl!==null).reduce((t,c)=>t+(c.pnl||0),0))})]}),e.jsxs("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)"},children:["Wins: ",e.jsx("span",{style:{color:"rgba(52,211,153,0.9)"},children:u})," / ",e.jsx("span",{children:b})," closed"]})]})]}),l===3&&e.jsx(B,{})]})]})});I.displayName="Portfolio";export{I as default};
