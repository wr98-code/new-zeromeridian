import{j as e}from"./vendor-radix-C8Wf2Xzy.js";import{r as i,p as B,q as G,B as j,s as N,P as ne,A as ae,Z as U,H as O,t as W,u as ie,v as se,X as V,w as le,l as de,k as ce,T as ge}from"./vendor-icons-BDtiwxs7.js";import{a as pe,u as ue,f as h,b as z,e as me}from"./index-BrbV88om.js";import"./vendor-utils-CyvyRcDv.js";import"./vendor-query-BhSX34xp.js";import"./vendor-react-DOP_lrST.js";import"./vendor-motion-BuE0cxIe.js";const H="zm_alerts_v2",be=100,L=50,C=Object.freeze({above:{label:"Price Above",icon:ge,color:"rgba(52,211,153,1)",bg:"rgba(52,211,153,0.10)",border:"rgba(52,211,153,0.22)"},below:{label:"Price Below",icon:ce,color:"rgba(251,113,133,1)",bg:"rgba(251,113,133,0.10)",border:"rgba(251,113,133,0.22)"},change_up:{label:"% Pump Alert",icon:U,color:"rgba(34,211,238,1)",bg:"rgba(34,211,238,0.10)",border:"rgba(34,211,238,0.22)"},change_down:{label:"% Dump Alert",icon:de,color:"rgba(251,191,36,1)",bg:"rgba(251,191,36,0.10)",border:"rgba(251,191,36,0.22)"}}),fe=Object.freeze({active:{label:"Active",color:"rgba(52,211,153,1)",bg:"rgba(52,211,153,0.10)"},triggered:{label:"Triggered",color:"rgba(251,191,36,1)",bg:"rgba(251,191,36,0.10)"},paused:{label:"Paused",color:"rgba(148,163,184,0.6)",bg:"rgba(148,163,184,0.08)"}});function ye(){try{const t=localStorage.getItem(H);return t?JSON.parse(t):null}catch{return null}}function xe(t){try{localStorage.setItem(H,JSON.stringify(t))}catch{}}function q(t){const o=me(t);return"a"+Date.now().toString(36)+o.toString(16)}function he(t){try{const o=new AudioContext,a=o.createOscillator(),d=o.createGain();a.connect(d),d.connect(o.destination),t==="above"||t==="change_up"?(a.frequency.setValueAtTime(880,o.currentTime),a.frequency.exponentialRampToValueAtTime(1320,o.currentTime+.1)):(a.frequency.setValueAtTime(660,o.currentTime),a.frequency.exponentialRampToValueAtTime(440,o.currentTime+.1)),a.type="sine",d.gain.setValueAtTime(.18,o.currentTime),d.gain.exponentialRampToValueAtTime(.001,o.currentTime+.35),a.start(o.currentTime),a.stop(o.currentTime+.35);const n=o.createOscillator(),l=o.createGain();n.connect(l),l.connect(o.destination),n.frequency.setValueAtTime(t==="above"||t==="change_up"?1320:440,o.currentTime+.12),n.type="sine",l.gain.setValueAtTime(.12,o.currentTime+.12),l.gain.exponentialRampToValueAtTime(.001,o.currentTime+.45),n.start(o.currentTime+.12),n.stop(o.currentTime+.45)}catch{}}function ve(t,o){if(!(!("Notification"in window)||Notification.permission!=="granted"))try{const a=C[t.type],d=t.type==="above"||t.type==="below"?t.symbol.toUpperCase()+" hit "+h(o)+" (target: "+h(t.target)+")":t.symbol.toUpperCase()+" changed "+z(t.target)+" (now: "+z(o)+")";new Notification("ZERØ MERIDIAN — "+a.label,{body:d,icon:t.image,tag:t.id,silent:!1})}catch{}}function je(t,o){return t.status!=="active"?!1:t.type==="above"?o.price>=t.target:t.type==="below"?o.price<=t.target:t.type==="change_up"?o.change24h>=t.target:t.type==="change_down"?o.change24h<=-Math.abs(t.target):!1}const ze=Object.freeze({alerts:[],log:[],soundEnabled:!0,pushEnabled:!1});function Se(t,o){switch(o.type){case"LOAD":return o.state;case"ADD":return t.alerts.length>=L?t:{...t,alerts:[o.alert,...t.alerts]};case"REMOVE":return{...t,alerts:t.alerts.filter(a=>a.id!==o.id)};case"TOGGLE_PAUSE":return{...t,alerts:t.alerts.map(a=>a.id===o.id?{...a,status:a.status==="paused"?"active":"paused"}:a)};case"TRIGGER":{const a=[o.logEntry,...t.log].slice(0,be);return{...t,alerts:t.alerts.map(d=>d.id===o.id?{...d,status:"triggered",triggeredAt:Date.now(),triggeredPrice:o.price}:d),log:a}}case"CLEAR_LOG":return{...t,log:[]};case"TOGGLE_SOUND":return{...t,soundEnabled:!t.soundEnabled};case"TOGGLE_PUSH":return{...t,pushEnabled:!t.pushEnabled};default:return t}}const X=i.memo(({status:t})=>{const o=t==="connected"?"rgba(52,211,153,1)":t==="reconnecting"?"rgba(251,191,36,1)":"rgba(251,113,133,1)";return e.jsx("span",{style:{width:6,height:6,borderRadius:"50%",display:"inline-block",background:o,boxShadow:"0 0 5px "+o,willChange:"transform"}})});X.displayName="WsStatusDot";const J=i.memo(({assets:t,onAdd:o,onClose:a,idCounter:d})=>{const[n,l]=i.useState("btc"),[f,y]=i.useState("above"),[c,A]=i.useState(""),[p,S]=i.useState(""),[u,_]=i.useState(!0),[m,F]=i.useState(!1),[E,T]=i.useState(""),b=i.useMemo(()=>t.find(s=>s.symbol.toLowerCase()===n)??t[0],[t,n]),w=f==="change_up"||f==="change_down",R=w?"e.g. 5 (for 5%)":b?"e.g. "+Math.round(b.price*1.05):"Target price",P=i.useCallback(()=>{const s=parseFloat(c);if(!isFinite(s)||s<=0){T("Target tidak valid bro");return}if(!b){T("Pilih aset dulu");return}T("");const x={id:q(d),symbol:b.symbol.toLowerCase(),name:b.name,image:b.image,type:f,target:s,createdAt:Date.now(),status:"active",note:p.trim()||void 0,sound:u,push:m};o(x),a()},[c,b,f,p,u,m,d,o,a]),D=i.useMemo(()=>t.slice(0,30),[t]);return e.jsx("div",{style:{position:"fixed",inset:0,zIndex:200,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(5,5,14,0.82)",backdropFilter:"blur(10px)"},onClick:s=>{s.target===s.currentTarget&&a()},children:e.jsxs("div",{style:{width:"100%",maxWidth:448,margin:"0 16px",padding:24,background:"rgba(8,8,24,0.98)",border:"1px solid rgba(96,165,250,0.18)",borderRadius:"12px",position:"relative"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:20},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(j,{size:16,style:{color:"rgba(96,165,250,1)"}}),e.jsx("span",{style:{fontFamily:"var(--font-mono-ui)",fontSize:14,fontWeight:700,color:"var(--zm-text-primary)"},children:"New Alert"})]}),e.jsx("button",{onClick:a,"aria-label":"Close new alert dialog",style:{padding:4,borderRadius:8,transition:"color 0.15s,background 0.15s",cursor:"pointer",background:"transparent",border:"none",color:"var(--zm-text-faint)"},children:e.jsx(V,{size:16})})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{fontSize:10,fontFamily:"var(--font-mono-ui)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:6,display:"block",color:"var(--zm-text-faint)"},children:"Asset"}),e.jsx("select",{value:n,onChange:s=>l(s.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:8,fontSize:14,fontFamily:"var(--font-mono-ui)",outline:"none",boxSizing:"border-box",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(96,165,250,0.14)",color:"var(--zm-text-primary)"},children:D.map(s=>e.jsxs("option",{value:s.symbol.toLowerCase(),style:{background:"rgba(8,8,24,1)"},children:[s.symbol.toUpperCase()," — ",s.name]},s.id))}),b&&e.jsxs("div",{style:{marginTop:4,fontSize:11,fontFamily:"monospace",color:"var(--zm-text-faint)"},children:["Current: ",h(b.price)," · ",z(b.change24h)]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{fontSize:10,fontFamily:"var(--font-mono-ui)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:6,display:"block",color:"var(--zm-text-faint)"},children:"Alert Type"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:Object.keys(C).map(s=>{const x=C[s],k=f===s;return e.jsxs("button",{type:"button",onClick:()=>y(s),"aria-pressed":k,"aria-label":"Select alert type: "+x.label,style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",borderRadius:8,textAlign:"left",transition:"all 0.15s",cursor:"pointer",background:k?x.bg:"rgba(255,255,255,0.03)",border:"1px solid "+(k?x.border:"rgba(255,255,255,0.06)"),color:k?x.color:"var(--zm-text-secondary)",willChange:"transform"},children:[e.jsx(x.icon,{size:12}),e.jsx("span",{style:{fontSize:11,fontFamily:"var(--font-mono-ui)"},children:x.label})]},s)})})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{fontSize:10,fontFamily:"var(--font-mono-ui)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:6,display:"block",color:"var(--zm-text-faint)"},children:w?"Change % Target":"Price Target (USD)"}),e.jsx("input",{type:"number",value:c,onChange:s=>A(s.target.value),placeholder:R,style:{width:"100%",padding:"8px 12px",borderRadius:8,fontSize:14,fontFamily:"monospace",outline:"none",boxSizing:"border-box",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(96,165,250,0.14)",color:"var(--zm-text-primary)"}}),E&&e.jsx("div",{style:{marginTop:4,fontSize:11,fontFamily:"monospace",color:"var(--zm-text-negative)"},children:E})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{fontSize:10,fontFamily:"var(--font-mono-ui)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:6,display:"block",color:"var(--zm-text-faint)"},children:"Note (optional)"}),e.jsx("input",{type:"text",value:p,onChange:s=>S(s.target.value),placeholder:"e.g. Resistance level, DCA point...",maxLength:80,style:{width:"100%",padding:"8px 12px",borderRadius:8,fontSize:14,fontFamily:"var(--font-mono-ui)",outline:"none",boxSizing:"border-box",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(96,165,250,0.14)",color:"var(--zm-text-primary)"}})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginBottom:20},children:[e.jsxs("button",{onClick:()=>_(s=>!s),type:"button","aria-pressed":u,"aria-label":u?"Disable sound notification":"Enable sound notification",style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",borderRadius:8,flex:1,transition:"all 0.15s",cursor:"pointer",background:u?"rgba(96,165,250,0.10)":"rgba(255,255,255,0.03)",border:"1px solid "+(u?"rgba(96,165,250,0.25)":"rgba(255,255,255,0.06)"),color:u?"rgba(96,165,250,1)":"var(--zm-text-faint)"},children:[u?e.jsx(B,{size:13}):e.jsx(G,{size:13}),e.jsx("span",{style:{fontSize:11,fontFamily:"var(--font-mono-ui)"},children:"Sound"})]}),e.jsxs("button",{onClick:()=>F(s=>!s),type:"button","aria-pressed":m,"aria-label":m?"Disable push notification":"Enable push notification",style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",borderRadius:8,flex:1,transition:"all 0.15s",cursor:"pointer",background:m?"rgba(167,139,250,0.10)":"rgba(255,255,255,0.03)",border:"1px solid "+(m?"rgba(167,139,250,0.25)":"rgba(255,255,255,0.06)"),color:m?"rgba(167,139,250,1)":"var(--zm-text-faint)"},children:[m?e.jsx(j,{size:13}):e.jsx(N,{size:13}),e.jsx("span",{style:{fontSize:11,fontFamily:"var(--font-mono-ui)"},children:"Push"})]})]}),e.jsx("button",{onClick:P,type:"button","aria-label":"Create new price alert",style:{width:"100%",padding:"10px 0",borderRadius:8,fontFamily:"var(--font-mono-ui)",fontSize:14,fontWeight:600,transition:"all 0.15s",cursor:"pointer",background:"rgba(96,165,250,0.18)",border:"1px solid rgba(96,165,250,0.30)",color:"rgba(96,165,250,1)"},children:"Set Alert"})]})})});J.displayName="AddAlertForm";const Z=i.memo(({alert:t,currentPrice:o,currentChange:a,onRemove:d,onTogglePause:n})=>{const l=C[t.type],f=fe[t.status],y=t.type==="change_up"||t.type==="change_down",c=i.useMemo(()=>{if(!o&&!a)return null;if(y&&a!==void 0)return{pct:Math.min(Math.abs(a)/t.target,1),current:a};if(!y&&o!==void 0){const S=t.type==="above"?Math.min(o/t.target,1):Math.min(t.target/o,1);return{pct:Math.max(0,Math.min(S,1)),current:o}}return null},[t.type,t.target,o,a,y]),A=i.useCallback(()=>d(t.id),[t.id,d]),p=i.useCallback(()=>n(t.id),[t.id,n]);return e.jsxs("div",{style:{padding:16,transition:"all 0.15s",background:t.status==="triggered"?l.bg:"var(--zm-glass-bg)",border:"1px solid "+(t.status==="triggered"?l.border:"var(--zm-glass-border)"),borderRadius:"12px",position:"relative",opacity:t.status==="paused"?.6:1,willChange:"transform"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t.image&&e.jsx("img",{src:t.image,alt:"",style:{width:20,height:20,borderRadius:"50%"}}),e.jsx("span",{style:{fontFamily:"var(--font-mono-ui)",fontSize:12,fontWeight:700,color:"var(--zm-text-primary)"},children:t.symbol.toUpperCase()}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,borderRadius:4,padding:"2px 6px",background:l.bg,border:"1px solid "+l.border},children:[e.jsx(l.icon,{size:10,style:{color:l.color}}),e.jsx("span",{style:{fontSize:9,fontFamily:"var(--font-mono-ui)",color:l.color},children:l.label})]}),e.jsx("div",{style:{borderRadius:4,padding:"2px 6px",background:f.bg},children:e.jsx("span",{style:{fontSize:9,fontFamily:"var(--font-mono-ui)",color:f.color},children:f.label})})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[t.sound&&e.jsx(B,{size:11,style:{color:"var(--zm-text-faint)"}}),t.push&&e.jsx(j,{size:11,style:{color:"var(--zm-text-faint)"}}),e.jsx("button",{onClick:p,type:"button",style:{padding:4,borderRadius:4,transition:"color 0.15s,background 0.15s",cursor:"pointer",background:"transparent",border:"none",color:"var(--zm-text-faint)"},"aria-label":t.status==="paused"?"Resume alert":"Pause alert",children:t.status==="paused"?e.jsx(j,{size:13}):e.jsx(N,{size:13})}),e.jsx("button",{onClick:A,type:"button",style:{padding:4,borderRadius:4,transition:"color 0.15s,background 0.15s",cursor:"pointer",background:"transparent",border:"none",color:"rgba(251,113,133,0.5)"},"aria-label":"Remove alert",children:e.jsx(W,{size:13})})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontFamily:"monospace",fontSize:18,fontWeight:700,color:l.color},children:y?z(t.target):h(t.target)}),o!==void 0&&!y&&e.jsxs("span",{style:{fontFamily:"monospace",fontSize:11,color:"var(--zm-text-secondary)"},children:["now ",h(o)]}),a!==void 0&&y&&e.jsxs("span",{style:{fontFamily:"monospace",fontSize:11,color:"var(--zm-text-secondary)"},children:["now ",z(a)]})]}),c!==null&&t.status==="active"&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("div",{style:{height:4,borderRadius:"50vw",overflow:"hidden",background:"rgba(255,255,255,0.06)"},children:e.jsx("div",{style:{height:"100%",borderRadius:"50vw",transition:"all 0.5s",width:(c.pct*100).toFixed(1)+"%",background:l.color,willChange:"width"}})}),e.jsx("div",{style:{fontSize:9,fontFamily:"monospace",marginTop:2,color:"var(--zm-text-faint)"},children:(c.pct*100).toFixed(1)+"% toward target"})]}),t.status==="triggered"&&t.triggeredPrice!==void 0&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginTop:4},children:[e.jsx(le,{size:11,style:{color:l.color}}),e.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"var(--zm-text-secondary)"},children:"Triggered at "+h(t.triggeredPrice)+" · "+new Date(t.triggeredAt).toLocaleTimeString()})]}),t.note&&e.jsx("div",{style:{fontSize:10,fontFamily:"var(--font-mono-ui)",marginTop:4,color:"var(--zm-text-faint)"},children:t.note})]})});Z.displayName="AlertCard";const K=i.memo(({entry:t})=>{const o=C[t.type];return e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:8,paddingBottom:8,borderColor:"var(--zm-glass-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t.image&&e.jsx("img",{src:t.image,alt:"",style:{width:16,height:16,borderRadius:"50%"}}),e.jsx("span",{style:{fontFamily:"var(--font-mono-ui)",fontSize:11,fontWeight:600,color:"var(--zm-text-primary)"},children:t.symbol.toUpperCase()}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,borderRadius:4,padding:"2px 6px",background:o.bg},children:[e.jsx(o.icon,{size:9,style:{color:o.color}}),e.jsx("span",{style:{fontSize:9,fontFamily:"var(--font-mono-ui)",color:o.color},children:o.label})]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontFamily:"monospace",fontSize:11,color:"var(--zm-text-primary)"},children:h(t.triggeredPrice)}),e.jsx("div",{style:{fontFamily:"monospace",fontSize:9,color:"var(--zm-text-faint)"},children:new Date(t.triggeredAt).toLocaleString()})]})]})});K.displayName="LogEntry";const Y=i.memo(({toast:t,onDismiss:o})=>{const a=C[t.type],d=t.type==="change_up"||t.type==="change_down",n=i.useCallback(()=>o(t.id),[t.id,o]);return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",borderRadius:12,background:"rgba(8,8,24,0.97)",border:"1px solid "+a.border,backdropFilter:"blur(20px)",willChange:"transform",minWidth:280},children:[e.jsx("div",{style:{width:32,height:32,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,background:a.bg,border:"1px solid "+a.border},children:e.jsx(a.icon,{size:14,style:{color:a.color}})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontFamily:"var(--font-mono-ui)",fontSize:12,fontWeight:700,color:a.color},children:[a.label," — ",t.symbol.toUpperCase()]}),e.jsx("div",{style:{fontFamily:"monospace",fontSize:11,color:"var(--zm-text-secondary)"},children:d?z(t.price)+" (target "+z(t.target)+")":h(t.price)+" (target "+h(t.target)+")"})]}),e.jsx("button",{onClick:n,type:"button","aria-label":"Dismiss notification",style:{color:"var(--zm-text-faint)"},children:e.jsx(V,{size:13})})]})});Y.displayName="AlertToast";const Te=i.memo(()=>{const{assets:t,wsStatus:o}=pe(),{isMobile:a,isTablet:d}=ue(),[n,l]=i.useReducer(Se,ze),[f,y]=i.useState(!1),[c,A]=i.useState("alerts"),[p,S]=i.useState("all"),[u,_]=i.useState(!1),[m,F]=i.useState([]),[E,T]=i.useState("default"),b=i.useRef(0),w=i.useRef(!0);i.useEffect(()=>{w.current=!0;const r=ye();return r&&l({type:"LOAD",state:r}),"Notification"in window&&T(Notification.permission),()=>{w.current=!1}},[]),i.useEffect(()=>{xe(n)},[n]);const R=i.useMemo(()=>{const r=new Map;for(const g of t)r.set(g.symbol.toLowerCase(),g);return r},[t]),P=i.useCallback(r=>{F(g=>g.filter(v=>v.id!==r))},[]);i.useEffect(()=>{if(t.length!==0)for(const r of n.alerts){if(r.status!=="active")continue;const g=R.get(r.symbol.toLowerCase());if(!g||!je(r,g))continue;const v=r.type==="change_up"||r.type==="change_down"?g.change24h:g.price,I={id:q(++b.current),alertId:r.id,symbol:r.symbol,name:r.name,image:r.image,type:r.type,target:r.target,triggeredPrice:v,triggeredAt:Date.now()};l({type:"TRIGGER",id:r.id,price:v,logEntry:I}),r.sound&&n.soundEnabled&&he(r.type),r.push&&n.pushEnabled&&ve(r,v);const re={id:I.id,symbol:r.symbol,type:r.type,price:v,target:r.target,ts:Date.now()};F(oe=>[re,...oe].slice(0,5))}},[t]),i.useEffect(()=>{if(m.length===0)return;const r=m[0],g=6e3-(Date.now()-r.ts),v=setTimeout(()=>{w.current&&F(I=>I.slice(0,-1))},Math.max(g,1e3));return()=>clearTimeout(v)},[m]);const D=i.useCallback(r=>{l({type:"ADD",alert:r})},[]),s=i.useCallback(r=>{l({type:"REMOVE",id:r})},[]),x=i.useCallback(r=>{l({type:"TOGGLE_PAUSE",id:r})},[]),k=i.useCallback(()=>{l({type:"TOGGLE_SOUND"})},[]),Q=i.useCallback(async()=>{if("Notification"in window)if(Notification.permission==="default"){const r=await Notification.requestPermission();T(r),r==="granted"&&l({type:"TOGGLE_PUSH"})}else l({type:"TOGGLE_PUSH"})},[]),M=i.useMemo(()=>n.alerts.filter(r=>p==="all"?!0:r.status===p),[n.alerts,p]),$=i.useMemo(()=>n.alerts.filter(r=>r.status==="active").length,[n.alerts]),ee=i.useMemo(()=>n.alerts.filter(r=>r.status==="triggered").length,[n.alerts]),te=u?n.log:n.log.slice(0,20);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsx("div",{style:{position:"fixed",top:16,right:16,zIndex:300,display:"flex",flexDirection:"column",gap:8,willChange:"transform"},children:m.map(r=>e.jsx(Y,{toast:r,onDismiss:P},r.id))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("h1",{style:{fontSize:20,fontWeight:700,fontFamily:"var(--font-mono-ui)",margin:0,background:"linear-gradient(90deg, var(--zm-accent) 0%, var(--zm-violet) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Alerts Center"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"2px 8px",borderRadius:4,background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.2)"},children:[e.jsx(X,{status:o}),e.jsx("span",{style:{fontSize:10,fontFamily:"var(--font-mono-ui)",color:"rgba(52,211,153,0.9)"},children:o==="connected"?"LIVE · Prices realtime":o.toUpperCase()})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsxs("button",{onClick:k,type:"button","aria-pressed":n.soundEnabled,"aria-label":n.soundEnabled?"Mute alert sounds":"Unmute alert sounds",style:{display:"flex",alignItems:"center",gap:6,padding:"6px 12px",borderRadius:8,fontSize:11,fontFamily:"var(--font-mono-ui)",transition:"all 0.15s",background:n.soundEnabled?"rgba(96,165,250,0.10)":"rgba(255,255,255,0.04)",border:"1px solid "+(n.soundEnabled?"rgba(96,165,250,0.22)":"rgba(255,255,255,0.08)"),color:n.soundEnabled?"rgba(96,165,250,1)":"var(--zm-text-faint)"},children:[n.soundEnabled?e.jsx(B,{size:12}):e.jsx(G,{size:12}),"Sound"]}),e.jsxs("button",{onClick:Q,type:"button","aria-pressed":n.pushEnabled,"aria-label":n.pushEnabled?"Disable push notifications":"Enable push notifications",style:{display:"flex",alignItems:"center",gap:6,padding:"6px 12px",borderRadius:8,fontSize:11,fontFamily:"var(--font-mono-ui)",transition:"all 0.15s",background:n.pushEnabled?"rgba(167,139,250,0.10)":"rgba(255,255,255,0.04)",border:"1px solid "+(n.pushEnabled?"rgba(167,139,250,0.22)":"rgba(255,255,255,0.08)"),color:n.pushEnabled?"rgba(167,139,250,1)":"var(--zm-text-faint)"},title:E==="denied"?"Push notifications blocked by browser":"",children:[n.pushEnabled?e.jsx(j,{size:12}):e.jsx(N,{size:12}),"Push ",E==="denied"&&"(blocked)"]}),e.jsxs("button",{onClick:()=>y(!0),type:"button",disabled:n.alerts.length>=L,"aria-label":"Create new price alert","aria-disabled":n.alerts.length>=L,style:{display:"flex",alignItems:"center",gap:6,padding:"6px 16px",borderRadius:8,fontSize:11,fontFamily:"var(--font-mono-ui)",fontWeight:600,transition:"all 0.15s",cursor:"pointer",background:"rgba(96,165,250,0.16)",border:"1px solid rgba(96,165,250,0.30)",color:"rgba(96,165,250,1)",opacity:n.alerts.length>=L?.5:1},children:[e.jsx(ne,{size:13}),"New Alert"]})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"repeat(2,1fr)":"repeat(4,1fr)",gap:12},children:[{label:"Total Alerts",value:String(n.alerts.length),color:"rgba(96,165,250,1)",icon:j},{label:"Active",value:String($),color:"rgba(52,211,153,1)",icon:ae},{label:"Triggered",value:String(ee),color:"rgba(251,191,36,1)",icon:U},{label:"History",value:String(n.log.length),color:"rgba(167,139,250,1)",icon:O}].map(r=>e.jsxs("div",{style:{padding:16,background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",borderRadius:"12px",position:"relative"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{fontSize:10,fontFamily:"var(--font-mono-ui)",textTransform:"uppercase",letterSpacing:"0.1em",color:"var(--zm-text-faint)"},children:r.label}),e.jsx(r.icon,{size:13,style:{color:r.color}})]}),e.jsx("div",{style:{fontFamily:"monospace",fontSize:24,fontWeight:700,color:r.color},children:r.value})]},r.label))}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:4},children:["alerts","history"].map(r=>e.jsx("button",{type:"button",role:"tab","aria-selected":c===r,"aria-label":r==="alerts"?"My Alerts tab":"Trigger History tab",onClick:()=>A(r),style:{padding:"6px 16px",borderRadius:8,fontSize:11,fontFamily:"var(--font-mono-ui)",fontWeight:600,textTransform:"capitalize",transition:"all 0.15s",cursor:"pointer",background:c===r?"rgba(96,165,250,0.12)":"rgba(255,255,255,0.03)",border:"1px solid "+(c===r?"rgba(96,165,250,0.25)":"rgba(255,255,255,0.06)"),color:c===r?"rgba(96,165,250,1)":"var(--zm-text-faint)"},children:r==="alerts"?"My Alerts":"Trigger History"},r))}),c==="alerts"&&e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:16},children:["all","active","triggered","paused"].map(r=>e.jsx("button",{type:"button",onClick:()=>S(r),"aria-pressed":p===r,"aria-label":"Filter by "+r+" alerts",style:{padding:"4px 10px",borderRadius:4,fontSize:10,fontFamily:"var(--font-mono-ui)",textTransform:"capitalize",transition:"all 0.15s",cursor:"pointer",background:p===r?"rgba(96,165,250,0.10)":"transparent",border:"1px solid "+(p===r?"rgba(96,165,250,0.22)":"rgba(255,255,255,0.06)"),color:p===r?"rgba(96,165,250,1)":"var(--zm-text-faint)"},children:r},r))}),M.length===0?e.jsxs("div",{style:{padding:48,textAlign:"center",background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",borderRadius:"12px",position:"relative"},children:[e.jsx(j,{size:32,style:{color:"var(--zm-text-faint)",margin:"0 auto",marginBottom:12,display:"block"}}),e.jsx("div",{style:{fontFamily:"var(--font-mono-ui)",fontSize:14,color:"var(--zm-text-secondary)"},children:n.alerts.length===0?'Belum ada alert. Klik "New Alert" buat mulai!':"Tidak ada alert dengan filter ini."})]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":d?"repeat(2,1fr)":"repeat(3,1fr)",gap:12},children:M.map(r=>{const g=R.get(r.symbol.toLowerCase());return e.jsx(Z,{alert:r,currentPrice:g?.price,currentChange:g?.change24h,onRemove:s,onTogglePause:x},r.id)})})]}),c==="history"&&e.jsxs("div",{style:{padding:16,background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",borderRadius:"12px",position:"relative"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[e.jsxs("h2",{style:{fontSize:12,fontFamily:"var(--font-mono-ui)",textTransform:"uppercase",letterSpacing:"0.1em",color:"var(--zm-text-faint)"},children:["Trigger History (",n.log.length,")"]}),n.log.length>0&&e.jsxs("button",{type:"button",onClick:()=>l({type:"CLEAR_LOG"}),"aria-label":"Clear trigger history",style:{fontSize:10,fontFamily:"var(--font-mono-ui)",display:"flex",alignItems:"center",gap:4,transition:"color 0.15s",color:"rgba(251,113,133,0.6)"},children:[e.jsx(W,{size:11})," Clear All"]})]}),n.log.length===0?e.jsxs("div",{style:{textAlign:"center",paddingTop:40,paddingBottom:40},children:[e.jsx(O,{size:28,style:{color:"var(--zm-text-faint)",margin:"0 auto",marginBottom:8,display:"block"}}),e.jsx("div",{style:{fontFamily:"var(--font-mono-ui)",fontSize:12,color:"var(--zm-text-secondary)"},children:"Belum ada alert yang triggered."})]}):e.jsxs(e.Fragment,{children:[te.map(r=>e.jsx(K,{entry:r},r.id)),n.log.length>20&&e.jsxs("button",{type:"button",onClick:()=>_(r=>!r),"aria-label":u?"Show fewer log entries":"Show all log entries",style:{display:"flex",alignItems:"center",gap:4,marginTop:12,fontSize:10,fontFamily:"var(--font-mono-ui)",transition:"color 0.15s,background 0.15s",color:"var(--zm-text-faint)"},children:[u?e.jsx(ie,{size:11}):e.jsx(se,{size:11}),u?"Sembunyikan":"Lihat semua "+n.log.length+" entri"]})]})]}),f&&e.jsx(J,{assets:t,onAdd:D,onClose:()=>y(!1),idCounter:++b.current})]})});Te.displayName="Alerts";export{Te as default};
