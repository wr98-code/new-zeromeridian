import{j as e}from"./vendor-radix-C8Wf2Xzy.js";import{r as c,o as U,Q as B,m as W,D as N,U as O,f as D,T as H,v as V}from"./vendor-icons-BDtiwxs7.js";import{a as $,u as Y,b as _,f as F}from"./index-BrbV88om.js";import"./vendor-utils-CyvyRcDv.js";import"./vendor-query-BhSX34xp.js";import"./vendor-react-DOP_lrST.js";import"./vendor-motion-BuE0cxIe.js";const z=Object.freeze([{code:"USD",symbol:"$",rate:1},{code:"IDR",symbol:"Rp",rate:16250},{code:"EUR",symbol:"€",rate:.92},{code:"GBP",symbol:"£",rate:.79},{code:"JPY",symbol:"¥",rate:149.5},{code:"SGD",symbol:"S$",rate:1.34},{code:"MYR",symbol:"RM",rate:4.71},{code:"AUD",symbol:"A$",rate:1.53}]),J=Object.freeze([{label:"Daily",days:1},{label:"Weekly",days:7},{label:"Monthly",days:30}]),K=Object.freeze([{label:"3 Bulan",months:3},{label:"6 Bulan",months:6},{label:"1 Tahun",months:12},{label:"2 Tahun",months:24}]),G=Object.freeze(["Converter","DCA Kalkulator","Position Sizer"]),k=Object.freeze({width:"100%",padding:"8px 12px",borderRadius:"10px",fontSize:"13px",fontFamily:"'Space Mono', monospace",outline:"none",background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",color:"var(--zm-text-primary)",boxSizing:"border-box"}),f=Object.freeze({fontFamily:"'Space Mono', monospace",fontSize:"10px",marginBottom:"5px",color:"var(--zm-text-faint)",letterSpacing:"0.04em",display:"block"}),h=Object.freeze({background:"var(--zm-glass-bg)",border:"1px solid var(--zm-glass-border)",borderRadius:"12px",padding:"20px"}),Q=Object.freeze({fromCoin:"bitcoin",toCoin:"ethereum",fromAmount:"1",fiatCode:"USD",dcaCoin:"bitcoin",dcaAmount:"100",dcaIntervalDays:7,dcaDurationMonths:12,dcaCurrentPrice:!0,dcaEntryPrice:"",posCoin:"bitcoin",posAccountSize:"10000",posRiskPct:"2",posEntryPrice:"",posStopLoss:""});function q(l,r){return{...l,[r.key]:r.value}}function P(l,r,g){return isFinite(l)?r==="IDR"?g+new Intl.NumberFormat("id-ID").format(Math.round(l)):r==="JPY"?g+new Intl.NumberFormat("ja-JP").format(Math.round(l)):g+new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l):"—"}function X(l){return z.find(r=>r.code===l)?.rate??1}const C=c.memo(({assets:l,value:r,onChange:g,label:x})=>{const[a,t]=c.useState(!1),[m,o]=c.useState(""),i=c.useRef(null),s=c.useMemo(()=>l.find(n=>n.id===r),[l,r]),d=c.useMemo(()=>{if(!m)return l.slice(0,30);const n=m.toLowerCase();return l.filter(p=>p.name.toLowerCase().includes(n)||p.symbol.toLowerCase().includes(n)).slice(0,30)},[l,m]);return c.useEffect(()=>{if(!a)return;const n=p=>{i.current&&!i.current.contains(p.target)&&t(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[a]),e.jsxs("div",{ref:i,style:{position:"relative"},children:[e.jsx("label",{style:f,children:x}),e.jsxs("button",{onClick:()=>t(n=>!n),"aria-label":x+" — "+(s?.name??"select coin"),"aria-expanded":a,style:{width:"100%",display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderRadius:"10px",textAlign:"left",cursor:"pointer",background:"var(--zm-glass-bg)",border:"1px solid "+(a?"rgba(96,165,250,0.35)":"var(--zm-glass-border)"),color:"var(--zm-text-primary)",transition:"border-color 0.15s",willChange:"transform"},children:[s?.image&&e.jsx("img",{src:s.image,alt:"",style:{width:20,height:20,borderRadius:"50%",flexShrink:0}}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s?.name??"—"}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)"},children:s?F(s.price):""})]}),e.jsx(V,{size:13,style:{color:"var(--zm-text-faint)",flexShrink:0,transform:a?"rotate(180deg)":"none",transition:"transform 0.15s"}})]}),a&&e.jsxs("div",{style:{position:"absolute",left:0,right:0,top:"100%",marginTop:"4px",zIndex:50,borderRadius:"10px",overflow:"hidden",background:"var(--zm-bg-base)",border:"1px solid rgba(96,165,250,0.15)",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",maxHeight:"280px"},children:[e.jsx("div",{style:{padding:"8px",borderBottom:"1px solid rgba(96,165,250,0.07)"},children:e.jsx("input",{autoFocus:!0,value:m,onChange:n=>o(n.target.value),placeholder:"Cari coin...",style:{width:"100%",padding:"6px 8px",borderRadius:"8px",fontSize:"12px",fontFamily:"'Space Mono', monospace",outline:"none",background:"rgba(255,255,255,0.06)",border:"1px solid rgba(96,165,250,0.15)",color:"rgba(226,232,240,0.9)",boxSizing:"border-box"}})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},children:d.map(n=>e.jsxs("button",{onClick:()=>{g(n.id),t(!1),o("")},"aria-label":"Select "+n.name,"aria-selected":n.id===r,style:{width:"100%",display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",textAlign:"left",cursor:"pointer",background:n.id===r?"rgba(96,165,250,0.08)":"transparent",border:"none",transition:"background 0.1s",willChange:"transform"},onMouseEnter:p=>{n.id!==r&&(p.currentTarget.style.background="rgba(96,165,250,0.05)")},onMouseLeave:p=>{n.id!==r&&(p.currentTarget.style.background="transparent")},children:[n.image&&e.jsx("img",{src:n.image,alt:"",style:{width:20,height:20,borderRadius:"50%",flexShrink:0}}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:600,color:"rgba(226,232,240,0.9)"},children:n.symbol.toUpperCase()}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.name})]}),e.jsx("div",{style:{textAlign:"right",flexShrink:0},children:e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"rgba(148,163,184,0.6)"},children:F(n.price)})})]},n.id))})]})]})});C.displayName="CoinSelector";const R=c.memo(({invested:l,value:r})=>{const a={t:8,b:8,l:4,r:4},t=500-a.l-a.r,m=120-a.t-a.b,{invPath:o,valPath:i}=c.useMemo(()=>{if(l.length<2)return{invPath:"",valPath:""};const s=[...l,...r],d=Math.min(...s),p=Math.max(...s,d+1)-d,u=b=>a.l+b/(l.length-1)*t,y=b=>a.t+m-(b-d)/p*m,j="M"+l.map((b,S)=>u(S).toFixed(1)+","+y(b).toFixed(1)).join("L"),v="M"+r.map((b,S)=>u(S).toFixed(1)+","+y(b).toFixed(1)).join("L");return{invPath:j,valPath:v}},[l,r,t,m]);return o?e.jsxs("svg",{width:"100%",viewBox:"0 0 500 120",preserveAspectRatio:"none",style:{display:"block",height:120},children:[e.jsx("path",{d:o,fill:"none",stroke:"rgba(96,165,250,0.5)",strokeWidth:"1.5",strokeDasharray:"4 2",strokeLinecap:"round"}),e.jsx("path",{d:i,fill:"none",stroke:"rgba(52,211,153,1)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):null});R.displayName="DCAChart";const w=c.memo(({assets:l,state:r,dispatch:g})=>{const x=c.useCallback((n,p)=>g({type:"SET",key:n,value:p}),[g]),a=c.useMemo(()=>l.find(n=>n.id===r.fromCoin),[l,r.fromCoin]),t=c.useMemo(()=>l.find(n=>n.id===r.toCoin),[l,r.toCoin]),m=c.useMemo(()=>z.find(n=>n.code===r.fiatCode)??z[0],[r.fiatCode]),o=parseFloat(r.fromAmount)||0,i=c.useMemo(()=>!a||!t||!o?0:o*a.price/t.price,[a,t,o]),s=c.useMemo(()=>!a||!o?0:o*a.price*m.rate,[a,o,m]),d=c.useCallback(()=>{g({type:"SET",key:"fromCoin",value:r.toCoin}),g({type:"SET",key:"toCoin",value:r.fromCoin})},[g,r.fromCoin,r.toCoin]);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:h,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx(B,{size:14,style:{color:"rgba(96,165,250,0.8)"}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:600,color:"var(--zm-text-primary)"},children:"Coin ↔ Coin Converter"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:"12px",alignItems:"end"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx(C,{assets:l,value:r.fromCoin,onChange:n=>x("fromCoin",n),label:"Dari"}),e.jsxs("div",{children:[e.jsx("label",{style:f,children:"Jumlah"}),e.jsx("input",{type:"number",value:r.fromAmount,onChange:n=>x("fromAmount",n.target.value),min:"0",style:k,onFocus:n=>{n.currentTarget.style.borderColor="rgba(96,165,250,0.35)"},onBlur:n=>{n.currentTarget.style.borderColor="var(--zm-glass-border)"}})]})]}),e.jsx("button",{onClick:d,"aria-label":"Swap from and to currencies",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",borderRadius:"10px",cursor:"pointer",background:"rgba(96,165,250,0.10)",border:"1px solid rgba(96,165,250,0.22)",color:"rgba(96,165,250,1)",willChange:"transform"},onMouseEnter:n=>{n.currentTarget.style.background="rgba(96,165,250,0.18)"},onMouseLeave:n=>{n.currentTarget.style.background="rgba(96,165,250,0.10)"},children:e.jsx(W,{size:14})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx(C,{assets:l,value:r.toCoin,onChange:n=>x("toCoin",n),label:"Ke"}),e.jsxs("div",{style:{padding:"8px 12px",borderRadius:"10px",background:"rgba(52,211,153,0.05)",border:"1px solid rgba(52,211,153,0.15)"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"14px",fontWeight:700,color:"rgba(52,211,153,1)"},children:i>0?i.toFixed(8).replace(/.?0+$/,""):"—"}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"rgba(148,163,184,0.4)",marginTop:"2px"},children:t?t.symbol.toUpperCase():"—"})]})]})]}),a&&t&&e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",paddingTop:"12px",marginTop:"12px",borderTop:"1px solid var(--zm-glass-border)"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)"},children:"1 "+a.symbol.toUpperCase()+" = "}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",fontWeight:600,color:"var(--zm-text-primary)"},children:(a.price/t.price).toFixed(6)+" "+t.symbol.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)"},children:"1 "+t.symbol.toUpperCase()+" = "}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",fontWeight:600,color:"var(--zm-text-primary)"},children:(t.price/a.price).toFixed(6)+" "+a.symbol.toUpperCase()})]})]})]}),e.jsxs("div",{style:h,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx(N,{size:14,style:{color:"rgba(52,211,153,0.8)"}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:600,color:"var(--zm-text-primary)"},children:"Coin → Fiat"})]}),e.jsxs("div",{children:[e.jsx("label",{style:f,children:"Mata Uang"}),e.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap",marginBottom:"16px"},children:z.map(n=>{const p=n.code===r.fiatCode;return e.jsx("button",{onClick:()=>x("fiatCode",n.code),style:{padding:"5px 10px",borderRadius:"8px",fontSize:"11px",fontFamily:"'Space Mono', monospace",cursor:"pointer",background:p?"rgba(52,211,153,0.12)":"transparent",color:p?"rgba(52,211,153,1)":"var(--zm-text-secondary)",border:"1px solid "+(p?"rgba(52,211,153,0.28)":"var(--zm-glass-border)"),transition:"all 0.15s",willChange:"transform"},onMouseEnter:u=>{p||(u.currentTarget.style.background="var(--zm-glass-hover)")},onMouseLeave:u=>{p||(u.currentTarget.style.background="transparent")},children:n.code},n.code)})})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"10px",padding:"12px 16px",background:"rgba(52,211,153,0.05)",border:"1px solid rgba(52,211,153,0.12)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"rgba(148,163,184,0.5)",marginBottom:"4px"},children:o+" "+(a?.symbol.toUpperCase()??"—")+" ="}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"22px",fontWeight:700,color:"rgba(52,211,153,1)"},children:P(s,r.fiatCode,m.symbol)})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"rgba(148,163,184,0.4)",marginBottom:"2px"},children:"Rate"}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",color:"rgba(148,163,184,0.7)"},children:P(X(r.fiatCode),r.fiatCode,m.symbol)+" / USD"}),a&&e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",marginTop:"2px",color:a.change24h>=0?"rgba(52,211,153,0.8)":"rgba(251,113,133,0.8)"},children:_(a.change24h)+" 24h"})]})]})]})]})});w.displayName="ConverterTab";const A=c.memo(({assets:l,state:r,dispatch:g})=>{const x=c.useCallback((o,i)=>g({type:"SET",key:o,value:i}),[g]),a=c.useMemo(()=>l.find(o=>o.id===r.dcaCoin),[l,r.dcaCoin]),t=c.useMemo(()=>{const o=parseFloat(r.dcaAmount)||0,i=r.dcaCurrentPrice?a?.price??0:parseFloat(r.dcaEntryPrice)||0;if(!o||!i)return null;const s=r.dcaDurationMonths*30,d=Math.floor(s/r.dcaIntervalDays),n=o*d,p=n/i,u=p*(a?.price??i),y=u-n,j=y/n*100,v=[],b=[],S=Math.min(d,50);for(let M=0;M<=S;M++){const L=M/S,T=o*(L*d),E=T/i;v.push(T),b.push(E*(a?.price??i))}return{totalInvested:n,coinsAccumulated:p,currentValue:u,pnl:y,pnlPct:j,intervals:d,investedArr:v,valueArr:b}},[r,a]),m=(t?.pnl??0)>=0;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:h,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx(O,{size:14,style:{color:"rgba(251,191,36,0.8)"}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:600,color:"var(--zm-text-primary)"},children:"DCA Kalkulator"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsx(C,{assets:l,value:r.dcaCoin,onChange:o=>x("dcaCoin",o),label:"Coin"}),e.jsxs("div",{children:[e.jsx("label",{style:f,children:"Jumlah per Interval (USD)"}),e.jsx("input",{type:"number",value:r.dcaAmount,onChange:o=>x("dcaAmount",o.target.value),min:"1",style:k,onFocus:o=>{o.currentTarget.style.borderColor="rgba(96,165,250,0.35)"},onBlur:o=>{o.currentTarget.style.borderColor="var(--zm-glass-border)"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:f,children:"Interval Beli"}),e.jsx("div",{style:{display:"flex",gap:"6px"},children:J.map(o=>{const i=r.dcaIntervalDays===o.days;return e.jsx("button",{onClick:()=>x("dcaIntervalDays",o.days),style:{flex:1,padding:"8px 0",borderRadius:"10px",fontSize:"11px",fontFamily:"'Space Mono', monospace",cursor:"pointer",background:i?"rgba(251,191,36,0.12)":"transparent",color:i?"rgba(251,191,36,1)":"var(--zm-text-secondary)",border:"1px solid "+(i?"rgba(251,191,36,0.28)":"var(--zm-glass-border)"),willChange:"transform"},onMouseEnter:s=>{i||(s.currentTarget.style.background="var(--zm-glass-hover)")},onMouseLeave:s=>{i||(s.currentTarget.style.background="transparent")},children:o.label},o.label)})})]}),e.jsxs("div",{children:[e.jsx("label",{style:f,children:"Durasi"}),e.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:K.map(o=>{const i=r.dcaDurationMonths===o.months;return e.jsx("button",{onClick:()=>x("dcaDurationMonths",o.months),style:{flex:1,padding:"8px 0",borderRadius:"10px",fontSize:"11px",fontFamily:"'Space Mono', monospace",cursor:"pointer",background:i?"rgba(167,139,250,0.12)":"transparent",color:i?"rgba(167,139,250,1)":"var(--zm-text-secondary)",border:"1px solid "+(i?"rgba(167,139,250,0.28)":"var(--zm-glass-border)"),willChange:"transform"},onMouseEnter:s=>{i||(s.currentTarget.style.background="var(--zm-glass-hover)")},onMouseLeave:s=>{i||(s.currentTarget.style.background="transparent")},children:o.label},o.label)})})]}),e.jsxs("div",{children:[e.jsx("label",{style:f,children:"Harga Entry"}),e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("button",{onClick:()=>x("dcaCurrentPrice",!r.dcaCurrentPrice),style:{padding:"8px 12px",borderRadius:"10px",fontSize:"11px",fontFamily:"'Space Mono', monospace",cursor:"pointer",flexShrink:0,background:r.dcaCurrentPrice?"rgba(52,211,153,0.10)":"transparent",border:"1px solid "+(r.dcaCurrentPrice?"rgba(52,211,153,0.25)":"var(--zm-glass-border)"),color:r.dcaCurrentPrice?"rgba(52,211,153,1)":"var(--zm-text-secondary)"},children:"Live Price"}),!r.dcaCurrentPrice&&e.jsx("input",{type:"number",value:r.dcaEntryPrice,onChange:o=>x("dcaEntryPrice",o.target.value),placeholder:"Custom...",style:{...k,flex:1},onFocus:o=>{o.currentTarget.style.borderColor="rgba(96,165,250,0.35)"},onBlur:o=>{o.currentTarget.style.borderColor="var(--zm-glass-border)"}})]})]})]})]}),t&&e.jsxs("div",{style:h,children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:600,color:"var(--zm-text-primary)",marginBottom:"16px"},children:"Hasil Simulasi"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginBottom:"16px"},children:[{label:"Total Diinvestasi",value:"$"+t.totalInvested.toLocaleString("en-US",{maximumFractionDigits:0}),color:"rgba(96,165,250,1)"},{label:"Coin Dikumpulkan",value:t.coinsAccumulated.toFixed(6)+" "+(a?.symbol.toUpperCase()??""),color:"rgba(251,191,36,1)"},{label:"Nilai Sekarang",value:"$"+t.currentValue.toLocaleString("en-US",{maximumFractionDigits:0}),color:m?"rgba(52,211,153,1)":"rgba(251,113,133,1)"},{label:"P&L",value:(t.pnl>=0?"+":"")+"$"+Math.abs(t.pnl).toLocaleString("en-US",{maximumFractionDigits:0})+" ("+(t.pnlPct>=0?"+":"")+t.pnlPct.toFixed(1)+"%)",color:m?"rgba(52,211,153,1)":"rgba(251,113,133,1)"}].map(o=>e.jsxs("div",{style:{borderRadius:"10px",padding:"12px",background:"var(--zm-surface-1)",border:"1px solid var(--zm-glass-border)"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",marginBottom:"4px"},children:o.label}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"13px",fontWeight:700,color:o.color},children:o.value})]},o.label))}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"8px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{width:"24px",height:"2px",background:"rgba(96,165,250,0.5)",borderTop:"2px dashed rgba(96,165,250,0.5)"}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"rgba(148,163,184,0.5)"},children:"Invested"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{width:"24px",height:"2px",background:"rgba(52,211,153,1)"}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"rgba(148,163,184,0.5)"},children:"Portfolio Value"})]})]}),e.jsx("div",{style:{borderRadius:"10px",overflow:"hidden",background:"rgba(0,0,0,0.2)",border:"1px solid var(--zm-glass-border)",padding:"12px 8px 4px"},children:e.jsx(R,{invested:t.investedArr,value:t.valueArr})})]}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",marginTop:"10px"},children:"* Simulasi menggunakan harga live saat ini sebagai referensi. Bukan financial advice."})]})]})});A.displayName="DCATab";const I=c.memo(({assets:l,state:r,dispatch:g})=>{const x=c.useCallback((o,i)=>g({type:"SET",key:o,value:i}),[g]),a=c.useMemo(()=>l.find(o=>o.id===r.posCoin),[l,r.posCoin]),t=c.useMemo(()=>{const o=parseFloat(r.posAccountSize)||0,i=parseFloat(r.posRiskPct)||0,s=parseFloat(r.posEntryPrice)||(a?.price??0),d=parseFloat(r.posStopLoss)||0;if(!o||!i||!s||!d||d>=s)return null;const n=o*(i/100),p=(s-d)/s*100,u=n/(s*(p/100)),y=u*s,j=y/o,v=(s*1.02-s)/(s-d);return{riskUsd:n,slPct:p,posSize:u,posValue:y,leverage:j,rrRatio:v}},[r,a]),m=c.useMemo(()=>Object.freeze([{key:"posAccountSize",label:"Ukuran Akun (USD)",placeholder:"10000"},{key:"posRiskPct",label:"Risk per Trade (%)",placeholder:"2"},{key:"posEntryPrice",label:"Entry Price — kosong = live",placeholder:a?F(a.price):""},{key:"posStopLoss",label:"Stop Loss Price (USD)",placeholder:""}]),[a]);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:h,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx(D,{size:14,style:{color:"rgba(251,113,133,0.8)"}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:600,color:"var(--zm-text-primary)"},children:"Position Sizer"}),e.jsx("span",{style:{fontSize:"10px",fontFamily:"'Space Mono', monospace",padding:"2px 6px",borderRadius:"4px",marginLeft:"auto",background:"rgba(251,113,133,0.1)",color:"rgba(251,113,133,0.8)",border:"1px solid rgba(251,113,133,0.2)"},children:"Risk Management"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsx(C,{assets:l,value:r.posCoin,onChange:o=>x("posCoin",o),label:"Coin"}),m.map(o=>e.jsxs("div",{children:[e.jsx("label",{style:f,children:o.label}),e.jsx("input",{type:"number",value:r[o.key],onChange:i=>x(o.key,i.target.value),placeholder:o.placeholder,min:"0",style:k,onFocus:i=>{i.currentTarget.style.borderColor="rgba(96,165,250,0.35)"},onBlur:i=>{i.currentTarget.style.borderColor="var(--zm-glass-border)"}})]},o.key))]})]}),t?e.jsxs("div",{style:h,children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",fontWeight:600,color:"var(--zm-text-primary)",marginBottom:"14px"},children:"Hasil Kalkulasi"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:[{label:"Risk USD",value:"$"+t.riskUsd.toFixed(2),color:"rgba(251,113,133,1)"},{label:"SL Distance",value:t.slPct.toFixed(2)+"%",color:"rgba(251,191,36,1)"},{label:"Position Size",value:t.posSize.toFixed(6)+" "+(a?.symbol.toUpperCase()??""),color:"rgba(96,165,250,1)"},{label:"Position Value",value:"$"+t.posValue.toLocaleString("en-US",{maximumFractionDigits:0}),color:"rgba(167,139,250,1)"},{label:"Leverage Used",value:t.leverage.toFixed(2)+"x",color:t.leverage>3?"rgba(251,113,133,1)":"rgba(52,211,153,1)"},{label:"R:R (2% TP)",value:"1:"+t.rrRatio.toFixed(2),color:t.rrRatio>=2?"rgba(52,211,153,1)":"rgba(251,191,36,1)"}].map(o=>e.jsxs("div",{style:{borderRadius:"10px",padding:"12px",background:"var(--zm-surface-1)",border:"1px solid var(--zm-glass-border)"},children:[e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",marginBottom:"4px"},children:o.label}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"13px",fontWeight:700,color:o.color},children:o.value})]},o.label))}),t.leverage>5&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",borderRadius:"10px",marginTop:"12px",background:"rgba(251,113,133,0.07)",border:"1px solid rgba(251,113,133,0.18)"},children:[e.jsx(H,{size:12,style:{color:"rgba(251,113,133,0.8)"}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"11px",color:"rgba(251,113,133,0.8)"},children:"Leverage tinggi! Pertimbangkan kecilkan position atau perlebar SL."})]}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"var(--zm-text-faint)",marginTop:"10px"},children:"* Bukan financial advice. Selalu atur risk sesuai toleransi kamu."})]}):e.jsxs("div",{style:{...h,textAlign:"center",padding:"40px"},children:[e.jsx(D,{size:28,style:{color:"rgba(148,163,184,0.2)",margin:"0 auto 8px"}}),e.jsx("div",{style:{fontFamily:"'Space Mono', monospace",fontSize:"12px",color:"var(--zm-text-faint)"},children:"Isi semua field di atas untuk kalkulasi position size"})]})]})});I.displayName="PositionSizerTab";const Z=c.memo(()=>{const{assets:l,loading:r}=$(),{isMobile:g}=Y(),x=c.useRef(!0),[a,t]=c.useState("Converter"),[m,o]=c.useReducer(q,Q);c.useEffect(()=>(x.current=!0,()=>{x.current=!1}),[]);const i=c.useCallback(s=>{x.current&&t(s)},[]);return r&&l.length===0?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:e.jsx(U,{style:{color:"rgba(96,165,250,1)",animation:"spin 1s linear infinite"},size:32})}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",willChange:"transform"},children:[e.jsx("h1",{style:{fontFamily:"'Space Mono', monospace",fontSize:"20px",fontWeight:700,margin:0,background:"linear-gradient(135deg, rgba(96,165,250,1), rgba(167,139,250,1))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"0.04em"},children:"Converter & Tools"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"3px 10px",borderRadius:"6px",background:"rgba(96,165,250,0.06)",border:"1px solid rgba(96,165,250,0.15)"},children:[e.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"rgba(52,211,153,1)",boxShadow:"0 0 5px rgba(52,211,153,1)",flexShrink:0}}),e.jsx("span",{style:{fontFamily:"'Space Mono', monospace",fontSize:"10px",color:"rgba(52,211,153,0.85)",letterSpacing:"0.06em"},children:"Live Prices"})]})]}),e.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:g?"wrap":"nowrap"},role:"tablist","aria-label":"Converter tools",children:G.map(s=>{const d=a===s;return e.jsx("button",{onClick:()=>i(s),"aria-selected":d,role:"tab",style:{padding:"8px 16px",borderRadius:"10px",fontSize:"12px",fontFamily:"'Space Mono', monospace",cursor:"pointer",background:d?"rgba(96,165,250,0.12)":"transparent",color:d?"rgba(96,165,250,1)":"var(--zm-text-secondary)",border:"1px solid "+(d?"rgba(96,165,250,0.28)":"var(--zm-glass-border)"),transition:"all 0.15s",willChange:"transform"},onMouseEnter:n=>{d||(n.currentTarget.style.background="var(--zm-glass-hover)")},onMouseLeave:n=>{d||(n.currentTarget.style.background="transparent")},children:s},s)})}),a==="Converter"&&e.jsx(w,{assets:l,state:m,dispatch:o}),a==="DCA Kalkulator"&&e.jsx(A,{assets:l,state:m,dispatch:o}),a==="Position Sizer"&&e.jsx(I,{assets:l,state:m,dispatch:o})]})});Z.displayName="Converter";export{Z as default};
