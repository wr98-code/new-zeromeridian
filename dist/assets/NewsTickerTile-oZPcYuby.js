import{j as t}from"./vendor-radix-C8Wf2Xzy.js";import{r as s}from"./vendor-icons-BDtiwxs7.js";import{G as T}from"./GlassCard-FdfA-xA0.js";import{m as x,A as j}from"./vendor-motion-BuE0cxIe.js";import"./index-BrbV88om.js";import"./vendor-utils-CyvyRcDv.js";import"./vendor-query-BhSX34xp.js";import"./vendor-react-DOP_lrST.js";const y=Object.freeze([{id:"1",title:"Bitcoin surges past $70,000 as institutional demand reaches record highs",source:"CoinDesk",url:"#",publishedAt:Date.now()-12e4,categories:["BTC"],sentiment:"positive",tags:["BTC","BULL"]},{id:"2",title:"Ethereum Layer 2 total value locked exceeds $50 billion milestone",source:"The Block",url:"#",publishedAt:Date.now()-3e5,categories:["ETH"],sentiment:"positive",tags:["ETH","L2"]},{id:"3",title:"SEC approves spot Ethereum ETF applications from major asset managers",source:"Bloomberg",url:"#",publishedAt:Date.now()-6e5,categories:["ETH","REGULATION"],sentiment:"positive",tags:["ETH","ETF"]},{id:"4",title:"Solana network processes record 100,000 transactions per second in stress test",source:"Decrypt",url:"#",publishedAt:Date.now()-9e5,categories:["SOL"],sentiment:"positive",tags:["SOL","TPS"]},{id:"5",title:"DeFi liquidations spike $800M as Bitcoin volatility increases across markets",source:"CoinTelegraph",url:"#",publishedAt:Date.now()-12e5,categories:["DEFI"],sentiment:"negative",tags:["DEFI","LIQ"]},{id:"6",title:"Binance reports record trading volume of $45 billion in 24-hour period",source:"Reuters",url:"#",publishedAt:Date.now()-15e5,categories:["EXCHANGE"],sentiment:"neutral",tags:["BNB","VOLUME"]},{id:"7",title:"MicroStrategy acquires additional 10,000 BTC bringing total holdings to 300,000",source:"CNBC",url:"#",publishedAt:Date.now()-18e5,categories:["BTC","INSTITUTIONAL"],sentiment:"positive",tags:["BTC","MSTR"]},{id:"8",title:"Crypto market cap recovers $2.8 trillion as altcoins lead weekly gains",source:"Forbes",url:"#",publishedAt:Date.now()-21e5,categories:["MARKET"],sentiment:"positive",tags:["ALTCOIN","MCAP"]}]),f=Object.freeze({positive:"rgba(52,211,153,0.9)",negative:"rgba(251,113,133,0.9)",neutral:"rgba(148,163,184,0.6)"}),v=Object.freeze({BTC:"rgba(251,191,36,0.8)",ETH:"rgba(96,165,250,0.8)",SOL:"rgba(167,139,250,0.8)",DEFI:"rgba(52,211,153,0.7)",ETF:"rgba(34,211,238,0.7)",L2:"rgba(96,165,250,0.6)",LIQ:"rgba(251,113,133,0.7)",BULL:"rgba(52,211,153,0.8)",BEAR:"rgba(251,113,133,0.8)",default:"rgba(148,163,184,0.5)"});function b(e){return v[e]??v.default}function S(e){const r=Date.now()-e;return r<6e4?Math.floor(r/1e3)+"s ago":r<36e5?Math.floor(r/6e4)+"m ago":Math.floor(r/36e5)+"h ago"}function I(){const[e,r]=s.useState(y),[n,i]=s.useState(!1),a=s.useRef(!0),c=s.useCallback(async d=>{try{const p=await fetch("https://min-api.cryptocompare.com/data/v2/news/?lang=EN&sortOrder=latest",{signal:d});if(!p.ok||!a.current)return;const g=await p.json();if(!a.current||!g.Data)return;const u=g.Data.slice(0,20).map(o=>({id:String(o.id),title:o.title,source:o.source_info?.name??o.source??"Unknown",url:o.url,publishedAt:o.published_on*1e3,categories:(o.categories??"").split("|").filter(Boolean),sentiment:o.sentiment==="Positive"?"positive":o.sentiment==="Negative"?"negative":"neutral",tags:(o.tags??"").split("|").filter(Boolean).slice(0,3)}));r(u.length>0?u:y),i(!1)}catch{i(!1)}},[]);return s.useEffect(()=>{a.current=!0;const d=new AbortController;i(!0),c(d.signal);const h=setInterval(()=>c(d.signal),12e4);return()=>{a.current=!1,d.abort(),clearInterval(h)}},[c]),{items:e,loading:n}}const E=s.memo(({item:e,isActive:r})=>{const n=e.sentiment?f[e.sentiment]:f.neutral;return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"0 20px",whiteSpace:"nowrap",cursor:"pointer"},onClick:()=>e.url!=="#"&&window.open(e.url,"_blank"),children:[t.jsx("span",{style:{fontSize:8,color:n,flexShrink:0},children:"●"}),e.tags.slice(0,2).map(i=>t.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:8,padding:"1px 5px",borderRadius:3,border:"1px solid "+b(i).replace("0.8","0.3").replace("0.7","0.3").replace("0.6","0.3"),color:b(i),flexShrink:0},children:i},i)),t.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:11,color:r?"rgba(226,232,240,0.92)":"rgba(148,163,184,0.6)",letterSpacing:"0.01em"},children:e.title}),t.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:9,color:"rgba(96,165,250,0.5)",flexShrink:0},children:e.source}),t.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:9,color:"rgba(148,163,184,0.25)",flexShrink:0},children:S(e.publishedAt)}),t.jsx("span",{style:{color:"rgba(96,165,250,0.15)",flexShrink:0,margin:"0 8px"},children:"◆"})]})});E.displayName="TickerNewsItem";const k=s.memo(()=>{const{items:e,loading:r}=I(),[n,i]=s.useState(0),[a,c]=s.useState(!1),[d,h]=s.useState(null),p=s.useRef(null);s.useEffect(()=>{if(a||e.length===0)return;const l=setInterval(()=>{i(m=>(m+1)%e.length)},4e3);return()=>clearInterval(l)},[a,e.length]);const g=s.useCallback(()=>c(!0),[]),u=s.useCallback(()=>c(!1),[]),o=s.useMemo(()=>[...e,...e],[e]);return t.jsxs(T,{style:{height:"auto",padding:0,overflow:"hidden"},accentColor:"rgba(96,165,250,0.6)",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 12px",borderBottom:"1px solid rgba(96,165,250,0.08)",background:"rgba(96,165,250,0.04)"},children:[t.jsx("span",{style:{fontSize:8,color:"rgba(52,211,153,0.9)"},children:"●"}),t.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:10,color:"rgba(96,165,250,0.8)",fontWeight:700,letterSpacing:"0.12em"},children:"CRYPTO INTELLIGENCE FEED"}),t.jsx("span",{style:{flex:1}}),r&&t.jsx(x.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},style:{fontFamily:"'JetBrains Mono', monospace",fontSize:9,color:"rgba(96,165,250,0.4)"},children:"UPDATING..."}),t.jsxs("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:9,color:"rgba(148,163,184,0.3)"},children:[e.length," STORIES"]}),t.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:9,color:a?"rgba(251,191,36,0.6)":"rgba(148,163,184,0.25)"},children:a?"⏸ PAUSED":"▶ LIVE"})]}),t.jsxs("div",{style:{overflow:"hidden",position:"relative"},onMouseEnter:g,onMouseLeave:u,children:[t.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:60,background:"linear-gradient(90deg, rgba(5,5,14,0.8), transparent)",zIndex:2,pointerEvents:"none"}}),t.jsx("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:60,background:"linear-gradient(270deg, rgba(5,5,14,0.8), transparent)",zIndex:2,pointerEvents:"none"}}),t.jsxs("div",{ref:p,style:{display:"flex",alignItems:"center",height:36,animation:a?"none":"zm-ticker-scroll 60s linear infinite",willChange:"transform"},children:[t.jsx("style",{children:`
            @keyframes zm-ticker-scroll {
              0%   { transform: translateX(0); }
              100% { transform: translateX(-50%); }
            }
          `}),o.map((l,m)=>t.jsx(E,{item:l,isActive:m%e.length===n},l.id+"_"+m))]})]}),t.jsx(j,{children:e[n]&&t.jsxs(x.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.2},style:{padding:"6px 12px 8px",borderTop:"1px solid rgba(96,165,250,0.06)",display:"flex",alignItems:"flex-start",gap:8},children:[t.jsx("div",{style:{width:2,height:"100%",minHeight:20,background:e[n].sentiment?f[e[n].sentiment]:f.neutral,borderRadius:1,flexShrink:0,marginTop:2}}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:10,color:"rgba(226,232,240,0.75)",lineHeight:1.4},children:e[n].title}),t.jsxs("div",{style:{display:"flex",gap:8,marginTop:4,fontFamily:"'JetBrains Mono', monospace",fontSize:8,color:"rgba(148,163,184,0.35)"},children:[t.jsx("span",{style:{color:"rgba(96,165,250,0.5)"},children:e[n].source}),t.jsx("span",{children:S(e[n].publishedAt)}),e[n].tags.map(l=>t.jsx("span",{style:{color:b(l)},children:l},l))]})]}),t.jsxs("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:9,color:"rgba(148,163,184,0.25)",flexShrink:0},children:[n+1,"/",e.length]})]},n)})]})});k.displayName="NewsTickerTile";export{k as default};
