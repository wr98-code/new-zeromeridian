// ============================================================
//  ZERØ MERIDIAN — push76
//  Logo upgrade: crystal shuriken 4-spike + Ø neon 3D glow
//  Portal splash: logo rotate slow + ZERØ MERIDIAN text
//  Cara pakai: cd D:\FILEK && node push76.mjs
// ============================================================

const TOKEN  = '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';
const REPO   = 'winduadiprabowo-pixel/core-meridian-data';
const BRANCH = 'main';

const portal_tsx = "LyoqCiAqIFBvcnRhbC50c3gg4oCUIFpFUsOYIE1FUklESUFOIDIwMjYgcHVzaDc2CiAqIHB1c2g3NjogTG9nbyB1cGdyYWRlIOKAlCBjcnlzdGFsIHNodXJpa2VuIDQtc3Bpa2UgKyDDmCBuZW9uIDNEIGdsb3cKICogLSBSZWFjdC5tZW1vICsgZGlzcGxheU5hbWUg4pyTCiAqIC0gcmdiYSgpIG9ubHkg4pyTICBaZXJvIGNsYXNzTmFtZSDinJMgIFplcm8gdGVtcGxhdGUgbGl0ZXJhbHMgaW4gSlNYIOKckwogKiAtIHVzZUNhbGxiYWNrICsgdXNlTWVtbyArIG1vdW50ZWRSZWYg4pyTCiAqLwoKaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IG1vdGlvbiwgQW5pbWF0ZVByZXNlbmNlLCB1c2VSZWR1Y2VkTW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7CmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7CmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJzsKCmNvbnN0IFBBUlRJQ0xFX0NPVU5UICA9IDYwMDA7CmNvbnN0IFBBUlRJQ0xFX1NQUkVBRCA9IDE0MDsKY29uc3QgQVVUT19FTlRFUl9NUyAgID0gMjUwMDsKCmZ1bmN0aW9uIGNyZWF0ZVBSTkcoc2VlZDogbnVtYmVyKSB7CiAgbGV0IHMwID0gc2VlZCA+Pj4gMDsKICBsZXQgczEgPSAoc2VlZCAqIDE2NjQ1MjUgKyAxMDEzOTA0MjIzKSA+Pj4gMDsKICBsZXQgczIgPSAoczEgICogMTY2NDUyNSArIDEwMTM5MDQyMjMpID4+PiAwOwogIGxldCBzMyA9IChzMiAgKiAxNjY0NTI1ICsgMTAxMzkwNDIyMykgPj4+IDA7CiAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKTogbnVtYmVyIHsKICAgIGNvbnN0IHJlc3VsdCA9IChNYXRoLmltdWwoczAgKyBzMywgNSkgKyAweDlFMzc3OUI5KSA+Pj4gMDsKICAgIGNvbnN0IHQgPSBzMSA8PCA5OwogICAgczIgXj0gczA7IHMzIF49IHMxOyBzMSBePSBzMjsgczAgXj0gczM7CiAgICBzMiBePSB0OwogICAgczMgPSAoczMgPDwgMTEpIHwgKHMzID4+PiAyMSk7CiAgICByZXR1cm4gKHJlc3VsdCA+Pj4gMCkgLyAweDEwMDAwMDAwMDsKICB9Owp9CgovLyDilIDilIDilIAgQ3J5c3RhbCBTaHVyaWtlbiBMb2dvIOKAlCA0LXNwaWtlICsgw5ggbmVvbiAzRCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKY29uc3QgQ3J5c3RhbExvZ28gPSBSZWFjdC5tZW1vKCgpID0+ICgKICA8c3ZnCiAgICB3aWR0aD0iMTgwIgogICAgaGVpZ2h0PSIxODAiCiAgICB2aWV3Qm94PSIwIDAgMTgwIDE4MCIKICAgIGZpbGw9Im5vbmUiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgICBhcmlhLWhpZGRlbj0idHJ1ZSIKICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycgfX0KICA+CiAgICA8ZGVmcz4KICAgICAgey8qIERlZXAgb3V0ZXIgZ2xvdyAqL30KICAgICAgPGZpbHRlciBpZD0iZGVlcEdsb3ciIHg9Ii04MCUiIHk9Ii04MCUiIHdpZHRoPSIyNjAlIiBoZWlnaHQ9IjI2MCUiPgogICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEyIiByZXN1bHQ9ImIxIiAvPgogICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjI4IiByZXN1bHQ9ImIyIiAvPgogICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJiMiIgLz4KICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iYjEiIC8+CiAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiIC8+CiAgICAgICAgPC9mZU1lcmdlPgogICAgICA8L2ZpbHRlcj4KICAgICAgey8qIEVkZ2UgZ2xvdyAqL30KICAgICAgPGZpbHRlciBpZD0iZWRnZUdsb3ciIHg9Ii00MCUiIHk9Ii00MCUiIHdpZHRoPSIxODAlIiBoZWlnaHQ9IjE4MCUiPgogICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjMuNSIgcmVzdWx0PSJiIiAvPgogICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJiIiAvPgogICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIiAvPgogICAgICAgIDwvZmVNZXJnZT4KICAgICAgPC9maWx0ZXI+CiAgICAgIHsvKiBTb2Z0IHdoaXRlICovfQogICAgICA8ZmlsdGVyIGlkPSJzb2Z0V2hpdGUiIHg9Ii0yMCUiIHk9Ii0yMCUiIHdpZHRoPSIxNDAlIiBoZWlnaHQ9IjE0MCUiPgogICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiIHJlc3VsdD0iYiIgLz4KICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iYiIgLz4KICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIgLz4KICAgICAgICA8L2ZlTWVyZ2U+CiAgICAgIDwvZmlsdGVyPgogICAgICB7LyogQ3J5c3RhbCBmYWNlIGdyYWRpZW50IOKAlCBkYXJrIGdsYXNzICovfQogICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImNyeXN0YWxGYWNlVG9wIiB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIj4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjAlIiAgIHN0b3BDb2xvcj0icmdiYSgxNDAsMjAwLDI1NSwwLjE4KSIgLz4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgIHN0b3BDb2xvcj0icmdiYSgyMCw0MCw4MCwwLjU1KSIgLz4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3BDb2xvcj0icmdiYSg1LDEwLDI1LDAuNzUpIiAvPgogICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImNyeXN0YWxGYWNlUmlnaHQiIHgxPSIwJSIgeTE9IjUwJSIgeDI9IjEwMCUiIHkyPSI1MCUiPgogICAgICAgIDxzdG9wIG9mZnNldD0iMCUiICAgc3RvcENvbG9yPSJyZ2JhKDUsMTAsMjUsMC43NSkiIC8+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiICBzdG9wQ29sb3I9InJnYmEoMjAsNDAsODAsMC41NSkiIC8+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wQ29sb3I9InJnYmEoMTAwLDE4MCwyNTUsMC4xNCkiIC8+CiAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iY3J5c3RhbEZhY2VCb3R0b20iIHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjEwMCUiPgogICAgICAgIDxzdG9wIG9mZnNldD0iMCUiICAgc3RvcENvbG9yPSJyZ2JhKDUsMTAsMjUsMC43NSkiIC8+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wQ29sb3I9InJnYmEoMzAsNjAsMTAwLDAuMzUpIiAvPgogICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImNyeXN0YWxGYWNlTGVmdCIgeDE9IjEwMCUiIHkxPSI1MCUiIHgyPSIwJSIgeTI9IjUwJSI+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgICBzdG9wQ29sb3I9InJnYmEoNSwxMCwyNSwwLjc1KSIgLz4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3BDb2xvcj0icmdiYSg4MCwxNjAsMjQwLDAuMTIpIiAvPgogICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICB7Lyogw5ggY2lyY2xlIGdyYWRpZW50ICovfQogICAgICA8bGluZWFyR3JhZGllbnQgaWQ9Im9tZWdhQ2lyY2xlR3JhZCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgICBzdG9wQ29sb3I9InJnYmEoMjU1LDI1NSwyNTUsMC45NSkiIC8+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIyMCUiICBzdG9wQ29sb3I9InJnYmEoMTgwLDI0NSwyNTUsMSkiIC8+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSI2MCUiICBzdG9wQ29sb3I9InJnYmEoMCwyMzgsMjU1LDEpIiAvPgogICAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcENvbG9yPSJyZ2JhKDAsMTgwLDIyMCwwLjg1KSIgLz4KICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgey8qIMOYIHNsYXNoIGdyYWRpZW50ICovfQogICAgICA8bGluZWFyR3JhZGllbnQgaWQ9Im9tZWdhU2xhc2hHcmFkIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjAlIiAgIHN0b3BDb2xvcj0icmdiYSgyNTUsMjU1LDI1NSwwLjk4KSIgLz4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjMwJSIgIHN0b3BDb2xvcj0icmdiYSgxNjAsMjQ1LDI1NSwxKSIgLz4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjcwJSIgIHN0b3BDb2xvcj0icmdiYSgwLDIzOCwyNTUsMSkiIC8+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wQ29sb3I9InJnYmEoMCwxOTUsMjM1LDAuODUpIiAvPgogICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICB7LyogQW1iaWVudCBnbG93IHJhZGlhbCAqL30KICAgICAgPHJhZGlhbEdyYWRpZW50IGlkPSJhbWJpZW50R2xvdyIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjAlIiAgIHN0b3BDb2xvcj0icmdiYSgwLDIzOCwyNTUsMC4wOCkiIC8+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wQ29sb3I9InJnYmEoMCwyMzgsMjU1LDApIiAvPgogICAgICA8L3JhZGlhbEdyYWRpZW50PgogICAgICB7LyogQ3J5c3RhbCBlZGdlIHN0cm9rZSAqL30KICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJlZGdlU3Ryb2tlIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjAlIiAgIHN0b3BDb2xvcj0icmdiYSgxMjAsMjEwLDI1NSwwLjU1KSIgLz4KICAgICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgIHN0b3BDb2xvcj0icmdiYSgwLDIzOCwyNTUsMC4yNSkiIC8+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wQ29sb3I9InJnYmEoNDAsMTAwLDE4MCwwLjQpIiAvPgogICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgoKICAgIHsvKiDilIDilIAgQW1iaWVudCBiYWNrZ3JvdW5kIGdsb3cg4pSA4pSAICovfQogICAgPGNpcmNsZSBjeD0iOTAiIGN5PSI5MCIgcj0iODgiIGZpbGw9InVybCgjYW1iaWVudEdsb3cpIiAvPgoKICAgIHsvKiDilIDilIAgVE9QIHNwaWtlIOKUgOKUgCAqL30KICAgIHsvKiBTaGFkb3cgZmFjZSBsZWZ0ICovfQogICAgPHBvbHlnb24gcG9pbnRzPSI5MCw4IDcyLDcyIDkwLDYwIiBmaWxsPSJyZ2JhKDUsMTAsMjUsMC44KSIgLz4KICAgIHsvKiBMaWdodCBmYWNlIHJpZ2h0ICovfQogICAgPHBvbHlnb24gcG9pbnRzPSI5MCw4IDEwOCw3MiA5MCw2MCIgZmlsbD0icmdiYSgxMDAsMTcwLDI0MCwwLjE4KSIgLz4KICAgIHsvKiBJbm5lciBmYWNlICovfQogICAgPHBvbHlnb24gcG9pbnRzPSI5MCw4IDcyLDcyIDkwLDYwIDEwOCw3MiIgZmlsbD0idXJsKCNjcnlzdGFsRmFjZVRvcCkiIC8+CiAgICB7LyogRWRnZSBoaWdobGlnaHRzICovfQogICAgPGxpbmUgeDE9IjkwIiB5MT0iOCIgeDI9IjcyIiB5Mj0iNzIiIHN0cm9rZT0icmdiYSg4MCwxNjAsMjQwLDAuMzUpIiBzdHJva2VXaWR0aD0iMC44IiAvPgogICAgPGxpbmUgeDE9IjkwIiB5MT0iOCIgeDI9IjEwOCIgeTI9IjcyIiBzdHJva2U9InJnYmEoMTgwLDIzMCwyNTUsMC41NSkiIHN0cm9rZVdpZHRoPSIwLjgiIC8+CiAgICB7LyogU3BlY3VsYXIgb24gcmlnaHQgZWRnZSAqL30KICAgIDxsaW5lIHgxPSI5MCIgeTE9IjgiIHgyPSIxMDQiIHkyPSI1OCIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMikiIHN0cm9rZVdpZHRoPSIwLjUiIC8+CgogICAgey8qIOKUgOKUgCBSSUdIVCBzcGlrZSDilIDilIAgKi99CiAgICA8cG9seWdvbiBwb2ludHM9IjE3Miw5MCAxMDgsNzIgMTIwLDkwIiBmaWxsPSJyZ2JhKDE0MCwyMDAsMjU1LDAuMTUpIiAvPgogICAgPHBvbHlnb24gcG9pbnRzPSIxNzIsOTAgMTA4LDEwOCAxMjAsOTAiIGZpbGw9InJnYmEoNSwxMCwyNSwwLjc1KSIgLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTcyLDkwIDEwOCw3MiAxMjAsOTAgMTA4LDEwOCIgZmlsbD0idXJsKCNjcnlzdGFsRmFjZVJpZ2h0KSIgLz4KICAgIDxsaW5lIHgxPSIxNzIiIHkxPSI5MCIgeDI9IjEwOCIgeTI9IjcyIiBzdHJva2U9InJnYmEoMTgwLDIzMCwyNTUsMC41KSIgc3Ryb2tlV2lkdGg9IjAuOCIgLz4KICAgIDxsaW5lIHgxPSIxNzIiIHkxPSI5MCIgeDI9IjEwOCIgeTI9IjEwOCIgc3Ryb2tlPSJyZ2JhKDQwLDgwLDE2MCwwLjMpIiBzdHJva2VXaWR0aD0iMC44IiAvPgoKICAgIHsvKiDilIDilIAgQk9UVE9NIHNwaWtlIOKUgOKUgCAqL30KICAgIDxwb2x5Z29uIHBvaW50cz0iOTAsMTcyIDEwOCwxMDggOTAsMTIwIiBmaWxsPSJyZ2JhKDUsMTAsMjUsMC44NSkiIC8+CiAgICA8cG9seWdvbiBwb2ludHM9IjkwLDE3MiA3MiwxMDggOTAsMTIwIiBmaWxsPSJyZ2JhKDYwLDEyMCwyMDAsMC4xMikiIC8+CiAgICA8cG9seWdvbiBwb2ludHM9IjkwLDE3MiAxMDgsMTA4IDkwLDEyMCA3MiwxMDgiIGZpbGw9InVybCgjY3J5c3RhbEZhY2VCb3R0b20pIiAvPgogICAgPGxpbmUgeDE9IjkwIiB5MT0iMTcyIiB4Mj0iMTA4IiB5Mj0iMTA4IiBzdHJva2U9InJnYmEoNDAsODAsMTYwLDAuMykiIHN0cm9rZVdpZHRoPSIwLjgiIC8+CiAgICA8bGluZSB4MT0iOTAiIHkxPSIxNzIiIHgyPSI3MiIgeTI9IjEwOCIgc3Ryb2tlPSJyZ2JhKDgwLDE0MCwyMjAsMC4yNSkiIHN0cm9rZVdpZHRoPSIwLjgiIC8+CgogICAgey8qIOKUgOKUgCBMRUZUIHNwaWtlIOKUgOKUgCAqL30KICAgIDxwb2x5Z29uIHBvaW50cz0iOCw5MCA3MiwxMDggNjAsOTAiIGZpbGw9InJnYmEoNSwxMCwyNSwwLjgpIiAvPgogICAgPHBvbHlnb24gcG9pbnRzPSI4LDkwIDcyLDcyIDYwLDkwIiBmaWxsPSJyZ2JhKDgwLDE1MCwyMzAsMC4xNCkiIC8+CiAgICA8cG9seWdvbiBwb2ludHM9IjgsOTAgNzIsMTA4IDYwLDkwIDcyLDcyIiBmaWxsPSJ1cmwoI2NyeXN0YWxGYWNlTGVmdCkiIC8+CiAgICA8bGluZSB4MT0iOCIgeTE9IjkwIiB4Mj0iNzIiIHkyPSI3MiIgc3Ryb2tlPSJyZ2JhKDEyMCwxOTAsMjU1LDAuMzUpIiBzdHJva2VXaWR0aD0iMC44IiAvPgogICAgPGxpbmUgeDE9IjgiIHkxPSI5MCIgeDI9IjcyIiB5Mj0iMTA4IiBzdHJva2U9InJnYmEoMzAsNjAsMTQwLDAuMjUpIiBzdHJva2VXaWR0aD0iMC44IiAvPgoKICAgIHsvKiDilIDilIAgQ2VudGVyIGRpYW1vbmQgZmFjZSDilIDilIAgKi99CiAgICA8cG9seWdvbiBwb2ludHM9IjkwLDYwIDEyMCw5MCA5MCwxMjAgNjAsOTAiCiAgICAgIGZpbGw9InJnYmEoOCwxNiwzNSwwLjg4KSIKICAgICAgc3Ryb2tlPSJ1cmwoI2VkZ2VTdHJva2UpIgogICAgICBzdHJva2VXaWR0aD0iMC42IgogICAgLz4KICAgIHsvKiBDZW50ZXIgZmFjZSBpbm5lciBmYWNldHMgKi99CiAgICA8cG9seWdvbiBwb2ludHM9IjkwLDYwIDEyMCw5MCA5MCw5MCIgZmlsbD0icmdiYSgwLDIzOCwyNTUsMC4wNCkiIC8+CiAgICA8cG9seWdvbiBwb2ludHM9IjkwLDYwIDYwLDkwIDkwLDkwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuMTUpIiAvPgogICAgPHBvbHlnb24gcG9pbnRzPSI5MCwxMjAgMTIwLDkwIDkwLDkwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuMikiIC8+CiAgICA8cG9seWdvbiBwb2ludHM9IjkwLDEyMCA2MCw5MCA5MCw5MCIgZmlsbD0icmdiYSgwLDIzOCwyNTUsMC4wMikiIC8+CgogICAgey8qIOKUgOKUgCDDmCBMb2dvIOKAlCBuZW9uIDNEIOKUgOKUgCAqL30KICAgIHsvKiBEZWVwIG91dGVyIGdsb3cgbGF5ZXIgKi99CiAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjkwIiByPSIzMiIKICAgICAgc3Ryb2tlPSJyZ2JhKDAsMjM4LDI1NSwwLjE1KSIKICAgICAgc3Ryb2tlV2lkdGg9IjE4IgogICAgICBmaWxsPSJub25lIgogICAgICBmaWx0ZXI9InVybCgjZGVlcEdsb3cpIgogICAgLz4KICAgIHsvKiBNaWQgZ2xvdyAqL30KICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iOTAiIHI9IjMyIgogICAgICBzdHJva2U9InJnYmEoMCwyMzgsMjU1LDAuNDUpIgogICAgICBzdHJva2VXaWR0aD0iMTAiCiAgICAgIGZpbGw9Im5vbmUiCiAgICAgIGZpbHRlcj0idXJsKCNlZGdlR2xvdykiCiAgICAvPgogICAgey8qIE1haW4gY2lyY2xlICovfQogICAgPGNpcmNsZSBjeD0iOTAiIGN5PSI5MCIgcj0iMzIiCiAgICAgIHN0cm9rZT0idXJsKCNvbWVnYUNpcmNsZUdyYWQpIgogICAgICBzdHJva2VXaWR0aD0iNS41IgogICAgICBmaWxsPSJub25lIgogICAgLz4KICAgIHsvKiBXaGl0ZSBzcGVjdWxhciBhcmMg4oCUIHRvcC1sZWZ0IGhvdHNwb3QgKi99CiAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjkwIiByPSIzMiIKICAgICAgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNTUpIgogICAgICBzdHJva2VXaWR0aD0iMiIKICAgICAgZmlsbD0ibm9uZSIKICAgICAgc3Ryb2tlRGFzaGFycmF5PSI0MiAxNjAiCiAgICAgIHN0cm9rZURhc2hvZmZzZXQ9IjE4IgogICAgICBmaWx0ZXI9InVybCgjc29mdFdoaXRlKSIKICAgIC8+CgogICAgey8qIFNsYXNoIGRlZXAgZ2xvdyAqL30KICAgIDxsaW5lIHgxPSIxMTQiIHkxPSI2MCIgeDI9IjY2IiB5Mj0iMTIwIgogICAgICBzdHJva2U9InJnYmEoMCwyMzgsMjU1LDAuMikiCiAgICAgIHN0cm9rZVdpZHRoPSIxNCIKICAgICAgc3Ryb2tlTGluZWNhcD0icm91bmQiCiAgICAgIGZpbHRlcj0idXJsKCNkZWVwR2xvdykiCiAgICAvPgogICAgey8qIFNsYXNoIG1pZCBnbG93ICovfQogICAgPGxpbmUgeDE9IjExNCIgeTE9IjYwIiB4Mj0iNjYiIHkyPSIxMjAiCiAgICAgIHN0cm9rZT0icmdiYSgwLDIzOCwyNTUsMC41KSIKICAgICAgc3Ryb2tlV2lkdGg9IjgiCiAgICAgIHN0cm9rZUxpbmVjYXA9InJvdW5kIgogICAgICBmaWx0ZXI9InVybCgjZWRnZUdsb3cpIgogICAgLz4KICAgIHsvKiBTbGFzaCBtYWluICovfQogICAgPGxpbmUgeDE9IjExNCIgeTE9IjYwIiB4Mj0iNjYiIHkyPSIxMjAiCiAgICAgIHN0cm9rZT0idXJsKCNvbWVnYVNsYXNoR3JhZCkiCiAgICAgIHN0cm9rZVdpZHRoPSI1LjUiCiAgICAgIHN0cm9rZUxpbmVjYXA9InJvdW5kIgogICAgLz4KICAgIHsvKiBTbGFzaCB3aGl0ZSBjb3JlIOKAlCB0b3Agc3BlY3VsYXIgKi99CiAgICA8bGluZSB4MT0iMTEyIiB5MT0iNjMiIHgyPSI4OCIgeTI9Ijk2IgogICAgICBzdHJva2U9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIKICAgICAgc3Ryb2tlV2lkdGg9IjIiCiAgICAgIHN0cm9rZUxpbmVjYXA9InJvdW5kIgogICAgICBmaWx0ZXI9InVybCgjc29mdFdoaXRlKSIKICAgIC8+CgogICAgey8qIOKUgOKUgCBPdXRlciBlZGdlIGdsb3cgb24gY3J5c3RhbCBzcGlrZXMg4pSA4pSAICovfQogICAgey8qIFRvcCBzcGlrZSBnbG93IGVkZ2UgKi99CiAgICA8cG9seWxpbmUgcG9pbnRzPSI3Miw3MiA5MCw4IDEwOCw3MiIKICAgICAgc3Ryb2tlPSJyZ2JhKDAsMjM4LDI1NSwwLjEyKSIKICAgICAgc3Ryb2tlV2lkdGg9IjEuNSIKICAgICAgZmlsbD0ibm9uZSIKICAgICAgZmlsdGVyPSJ1cmwoI2VkZ2VHbG93KSIKICAgIC8+CiAgICB7LyogUmlnaHQgc3Bpa2UgZ2xvdyBlZGdlICovfQogICAgPHBvbHlsaW5lIHBvaW50cz0iMTA4LDcyIDE3Miw5MCAxMDgsMTA4IgogICAgICBzdHJva2U9InJnYmEoMCwyMzgsMjU1LDAuMSkiCiAgICAgIHN0cm9rZVdpZHRoPSIxLjUiCiAgICAgIGZpbGw9Im5vbmUiCiAgICAgIGZpbHRlcj0idXJsKCNlZGdlR2xvdykiCiAgICAvPgogICAgey8qIEJvdHRvbSBzcGlrZSBnbG93IGVkZ2UgKi99CiAgICA8cG9seWxpbmUgcG9pbnRzPSIxMDgsMTA4IDkwLDE3MiA3MiwxMDgiCiAgICAgIHN0cm9rZT0icmdiYSgwLDIzOCwyNTUsMC4wOCkiCiAgICAgIHN0cm9rZVdpZHRoPSIxLjUiCiAgICAgIGZpbGw9Im5vbmUiCiAgICAgIGZpbHRlcj0idXJsKCNlZGdlR2xvdykiCiAgICAvPgogICAgey8qIExlZnQgc3Bpa2UgZ2xvdyBlZGdlICovfQogICAgPHBvbHlsaW5lIHBvaW50cz0iNzIsMTA4IDgsOTAgNzIsNzIiCiAgICAgIHN0cm9rZT0icmdiYSgwLDIzOCwyNTUsMC4xKSIKICAgICAgc3Ryb2tlV2lkdGg9IjEuNSIKICAgICAgZmlsbD0ibm9uZSIKICAgICAgZmlsdGVyPSJ1cmwoI2VkZ2VHbG93KSIKICAgIC8+CiAgPC9zdmc+CikpOwpDcnlzdGFsTG9nby5kaXNwbGF5TmFtZSA9ICdDcnlzdGFsTG9nbyc7CgovLyDilIDilIDilIAgVGhpbiBwcm9ncmVzcyBiYXIg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACmNvbnN0IEVudGVyUHJvZ3Jlc3MgPSBSZWFjdC5tZW1vKCh7IGR1cmF0aW9uIH06IHsgZHVyYXRpb246IG51bWJlciB9KSA9PiB7CiAgY29uc3QgdHJhY2tTdHlsZSA9IHVzZU1lbW8oKCkgPT4gT2JqZWN0LmZyZWV6ZSh7CiAgICB3aWR0aDogJzEwMHB4JywKICAgIGhlaWdodDogJzFweCcsCiAgICBiYWNrZ3JvdW5kOiAncmdiYSgzMiw0Miw2OCwxKScsCiAgICBib3JkZXJSYWRpdXM6ICcxcHgnLAogICAgb3ZlcmZsb3c6ICdoaWRkZW4nIGFzIGNvbnN0LAogICAgbWFyZ2luVG9wOiAnMjhweCcsCiAgfSksIFtdKTsKICBjb25zdCBmaWxsU3R5bGUgPSB1c2VNZW1vKCgpID0+IE9iamVjdC5mcmVlemUoewogICAgaGVpZ2h0OiAnMTAwJScsCiAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLDIzOCwyNTUsMSknLAogICAgYm9yZGVyUmFkaXVzOiAnMXB4JywKICAgIHRyYW5zZm9ybU9yaWdpbjogJ2xlZnQnIGFzIGNvbnN0LAogIH0pLCBbXSk7CiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3RyYWNrU3R5bGV9PgogICAgICA8bW90aW9uLmRpdgogICAgICAgIHN0eWxlPXtmaWxsU3R5bGV9CiAgICAgICAgaW5pdGlhbD17eyBzY2FsZVg6IDAgfX0KICAgICAgICBhbmltYXRlPXt7IHNjYWxlWDogMSB9fQogICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IGR1cmF0aW9uIC8gMTAwMCwgZWFzZTogJ2xpbmVhcicgfX0KICAgICAgLz4KICAgIDwvZGl2PgogICk7Cn0pOwpFbnRlclByb2dyZXNzLmRpc3BsYXlOYW1lID0gJ0VudGVyUHJvZ3Jlc3MnOwoKLy8g4pSA4pSA4pSAIFBvcnRhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKY29uc3QgUG9ydGFsOiBSZWFjdC5GQyA9ICgpID0+IHsKICBjb25zdCBjYW52YXNSZWYgID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTsKICBjb25zdCBtb3VudGVkUmVmID0gdXNlUmVmKHRydWUpOwogIGNvbnN0IGZyYW1lUmVmICAgPSB1c2VSZWY8bnVtYmVyPigwKTsKICBjb25zdCBjbG9ja1JlZiAgID0gdXNlUmVmKG5ldyBUSFJFRS5DbG9jaygpKTsKICBjb25zdCB0aW1lclJlZiAgID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7CiAgY29uc3QgcHJlZmVyc1JlZHVjZWRNb3Rpb24gPSB1c2VSZWR1Y2VkTW90aW9uKCk7CiAgY29uc3QgbmF2aWdhdGUgICA9IHVzZU5hdmlnYXRlKCk7CiAgY29uc3QgW2xhdW5jaGVkLCAgICBzZXRMYXVuY2hlZF0gICAgPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2xvZ29WaXNpYmxlLCBzZXRMb2dvVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7CgogIGNvbnN0IGRvRW50ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7CiAgICBpZiAoIW1vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuOwogICAgc2V0TGF1bmNoZWQodHJ1ZSk7CiAgICBzZXRUaW1lb3V0KCgpID0+IG5hdmlnYXRlKCcvZGFzaGJvYXJkJyksIDYwMCk7CiAgfSwgW25hdmlnYXRlXSk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBtb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlOwogICAgY29uc3Qgc2hvd1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7IGlmIChtb3VudGVkUmVmLmN1cnJlbnQpIHNldExvZ29WaXNpYmxlKHRydWUpOyB9LCAyNTApOwogICAgdGltZXJSZWYuY3VycmVudCAgPSBzZXRUaW1lb3V0KCgpID0+IHsgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkgZG9FbnRlcigpOyB9LCBBVVRPX0VOVEVSX01TICsgMjUwKTsKICAgIHJldHVybiAoKSA9PiB7CiAgICAgIG1vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlOwogICAgICBjbGVhclRpbWVvdXQoc2hvd1RpbWVyKTsKICAgICAgaWYgKHRpbWVyUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dCh0aW1lclJlZi5jdXJyZW50KTsKICAgIH07CiAgfSwgW2RvRW50ZXJdKTsKCiAgY29uc3QgaW5pdFNjZW5lID0gdXNlQ2FsbGJhY2soKCkgPT4gewogICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7CiAgICBpZiAoIWNhbnZhcyB8fCAhbW91bnRlZFJlZi5jdXJyZW50KSByZXR1cm47CgogICAgY29uc3Qgc2NlbmUgICAgPSBuZXcgVEhSRUUuU2NlbmUoKTsKICAgIHNjZW5lLmZvZyAgICAgID0gbmV3IFRIUkVFLkZvZ0V4cDIoMHgwMDAwMDAsIDAuMDAzKTsKICAgIGNvbnN0IGNhbWVyYSAgID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDc1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwKTsKICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gNzA7CgogICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGNhbnZhcywgYW50aWFsaWFzOiB0cnVlLCBhbHBoYTogdHJ1ZSB9KTsKICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7CiAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKE1hdGgubWluKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCAyKSk7CiAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4MDAwMDAwLCAxKTsKCiAgICBjb25zdCBwcm5nICAgICAgPSBjcmVhdGVQUk5HKFBBUlRJQ0xFX0NPVU5UICogMzEzMzcpOwogICAgY29uc3QgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShQQVJUSUNMRV9DT1VOVCAqIDMpOwogICAgY29uc3QgY29sb3JzICAgID0gbmV3IEZsb2F0MzJBcnJheShQQVJUSUNMRV9DT1VOVCAqIDMpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUEFSVElDTEVfQ09VTlQ7IGkrKykgewogICAgICBjb25zdCBpMyAgICA9IGkgKiAzOwogICAgICBjb25zdCB0aGV0YSA9IHBybmcoKSAqIE1hdGguUEkgKiAyOwogICAgICBjb25zdCBwaGkgICA9IE1hdGguYWNvcygyICogcHJuZygpIC0gMSk7CiAgICAgIGNvbnN0IHIgICAgID0gTWF0aC5jYnJ0KHBybmcoKSkgKiBQQVJUSUNMRV9TUFJFQUQ7CiAgICAgIHBvc2l0aW9uc1tpM10gICAgID0gciAqIE1hdGguc2luKHBoaSkgKiBNYXRoLmNvcyh0aGV0YSk7CiAgICAgIHBvc2l0aW9uc1tpMyArIDFdID0gciAqIE1hdGguc2luKHBoaSkgKiBNYXRoLnNpbih0aGV0YSk7CiAgICAgIHBvc2l0aW9uc1tpMyArIDJdID0gciAqIE1hdGguY29zKHBoaSk7CiAgICAgIGNvbnN0IHQgPSByIC8gUEFSVElDTEVfU1BSRUFEOwogICAgICBjb2xvcnNbaTNdICAgICA9IDAuMzggKiAoMSAtIHQpICsgMC41NSAqIHQ7CiAgICAgIGNvbG9yc1tpMyArIDFdID0gMC43MiAqICgxIC0gdCkgKyAwLjkyICogdDsKICAgICAgY29sb3JzW2kzICsgMl0gPSAwLjk1ICogKDEgLSB0KSArIDAuMjUgKiB0OwogICAgfQoKICAgIGNvbnN0IGdlbyA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpOwogICAgZ2VvLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9ucywgMykpOwogICAgZ2VvLnNldEF0dHJpYnV0ZSgnY29sb3InLCAgICBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGNvbG9ycywgMykpOwogICAgY29uc3QgbWF0ID0gbmV3IFRIUkVFLlBvaW50c01hdGVyaWFsKHsKICAgICAgc2l6ZTogMC43LCB2ZXJ0ZXhDb2xvcnM6IHRydWUsIHRyYW5zcGFyZW50OiB0cnVlLCBvcGFjaXR5OiAwLjksCiAgICAgIHNpemVBdHRlbnVhdGlvbjogdHJ1ZSwgZGVwdGhXcml0ZTogZmFsc2UsIGJsZW5kaW5nOiBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLAogICAgfSk7CiAgICBjb25zdCBwYXJ0aWNsZXMgPSBuZXcgVEhSRUUuUG9pbnRzKGdlbywgbWF0KTsKICAgIHNjZW5lLmFkZChwYXJ0aWNsZXMpOwoKICAgIGNvbnN0IG1vdXNlID0geyB4OiAwLCB5OiAwIH07CiAgICBjb25zdCBvbk1vdXNlID0gKGU6IE1vdXNlRXZlbnQpID0+IHsKICAgICAgbW91c2UueCA9IChlLmNsaWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCAgLSAwLjUpICogMC40OwogICAgICBtb3VzZS55ID0gKGUuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCAtIDAuNSkgKiAwLjQ7CiAgICB9OwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2UpOwogICAgY29uc3Qgb25SZXNpemUgPSAoKSA9PiB7CiAgICAgIGNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTsKICAgICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTsKICAgIH07CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpOwoKICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7CiAgICAgIGlmICghbW91bnRlZFJlZi5jdXJyZW50KSByZXR1cm47CiAgICAgIGZyYW1lUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7CiAgICAgIGNvbnN0IHQgPSBjbG9ja1JlZi5jdXJyZW50LmdldEVsYXBzZWRUaW1lKCk7CiAgICAgIGlmICghcHJlZmVyc1JlZHVjZWRNb3Rpb24pIHsKICAgICAgICBwYXJ0aWNsZXMucm90YXRpb24ueSA9IHQgKiAwLjAzNTsKICAgICAgICBwYXJ0aWNsZXMucm90YXRpb24ueCA9IHQgKiAwLjAxNTsKICAgICAgICBjYW1lcmEucG9zaXRpb24ueCArPSAobW91c2UueCAqIDE4IC0gY2FtZXJhLnBvc2l0aW9uLngpICogMC4wMzsKICAgICAgICBjYW1lcmEucG9zaXRpb24ueSArPSAoLW1vdXNlLnkgKiAxOCAtIGNhbWVyYS5wb3NpdGlvbi55KSAqIDAuMDM7CiAgICAgICAgY2FtZXJhLmxvb2tBdChzY2VuZS5wb3NpdGlvbik7CiAgICAgIH0KICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpOwogICAgfTsKICAgIGFuaW1hdGUoKTsKCiAgICByZXR1cm4gKCkgPT4gewogICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZVJlZi5jdXJyZW50KTsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2UpOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpOwogICAgICBnZW8uZGlzcG9zZSgpOyBtYXQuZGlzcG9zZSgpOyByZW5kZXJlci5kaXNwb3NlKCk7CiAgICB9OwogIH0sIFtwcmVmZXJzUmVkdWNlZE1vdGlvbl0pOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgY29uc3QgY2xlYW51cCA9IGluaXRTY2VuZSgpOwogICAgcmV0dXJuICgpID0+IHsgY2xlYW51cD8uKCk7IH07CiAgfSwgW2luaXRTY2VuZV0pOwoKICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHsKICAgIGlmICh0aW1lclJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQodGltZXJSZWYuY3VycmVudCk7CiAgICBkb0VudGVyKCk7CiAgfSwgW2RvRW50ZXJdKTsKCiAgY29uc3QgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7CiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykgaGFuZGxlQ2xpY2soKTsKICB9LCBbaGFuZGxlQ2xpY2tdKTsKCiAgY29uc3Qgd3JhcFN0eWxlID0gdXNlTWVtbygoKSA9PiBPYmplY3QuZnJlZXplKHsKICAgIHBvc2l0aW9uOiAnZml4ZWQnIGFzIGNvbnN0LAogICAgaW5zZXQ6IDAsIHdpZHRoOiAnMTAwdncnLCBoZWlnaHQ6ICcxMDB2aCcsCiAgICBvdmVyZmxvdzogJ2hpZGRlbicsIGJhY2tncm91bmQ6ICdyZ2JhKDAsMCwwLDEpJywgY3Vyc29yOiAncG9pbnRlcicsCiAgfSksIFtdKTsKCiAgY29uc3QgY2FudmFzU3R5bGUgPSB1c2VNZW1vKCgpID0+IE9iamVjdC5mcmVlemUoewogICAgcG9zaXRpb246ICdhYnNvbHV0ZScgYXMgY29uc3QsIGluc2V0OiAwLCB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJywKICB9KSwgW10pOwoKICBjb25zdCBvdmVybGF5U3R5bGUgPSB1c2VNZW1vKCgpID0+IE9iamVjdC5mcmVlemUoewogICAgcG9zaXRpb246ICdhYnNvbHV0ZScgYXMgY29uc3QsIGluc2V0OiAwLCBwb2ludGVyRXZlbnRzOiAnbm9uZScgYXMgY29uc3QsCiAgICBiYWNrZ3JvdW5kOiAncmFkaWFsLWdyYWRpZW50KGVsbGlwc2UgYXQgY2VudGVyLCByZ2JhKDAsMCwwLDApIDI1JSwgcmdiYSgwLDAsMCwwLjcpIDEwMCUpJywKICB9KSwgW10pOwoKICBjb25zdCB1aVN0eWxlID0gdXNlTWVtbygoKSA9PiBPYmplY3QuZnJlZXplKHsKICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnIGFzIGNvbnN0LCBpbnNldDogMCwKICAgIGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgYXMgY29uc3QsCiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLAogICAgcG9pbnRlckV2ZW50czogJ25vbmUnIGFzIGNvbnN0LAogIH0pLCBbXSk7CgogIGNvbnN0IGxvZ29XcmFwU3R5bGUgPSB1c2VNZW1vKCgpID0+IE9iamVjdC5mcmVlemUoewogICAgcG9zaXRpb246ICdyZWxhdGl2ZScgYXMgY29uc3QsCiAgICB3aWR0aDogJzIwMHB4JywgaGVpZ2h0OiAnMjAwcHgnLAogICAgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLAogIH0pLCBbXSk7CgogIGNvbnN0IGxvZ29BbWJpZW50U3R5bGUgPSB1c2VNZW1vKCgpID0+IE9iamVjdC5mcmVlemUoewogICAgcG9zaXRpb246ICdhYnNvbHV0ZScgYXMgY29uc3QsIGluc2V0OiAnLTMycHgnLCBib3JkZXJSYWRpdXM6ICc1MCUnLAogICAgYmFja2dyb3VuZDogJ3JhZGlhbC1ncmFkaWVudChjaXJjbGUsIHJnYmEoMCwyMzgsMjU1LDAuMTIpIDAlLCByZ2JhKDAsMjM4LDI1NSwwLjA0KSA1MCUsIHRyYW5zcGFyZW50IDc1JSknLAogICAgZmlsdGVyOiAnYmx1cigxNHB4KScsIHBvaW50ZXJFdmVudHM6ICdub25lJyBhcyBjb25zdCwKICB9KSwgW10pOwoKICAvLyBTbG93IHJvdGF0aW9uIG9uIHRoZSBsb2dvCiAgY29uc3QgbG9nb01vdGlvblN0eWxlID0gdXNlTWVtbygoKSA9PiAoewogICAgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLAogIH0pLCBbXSk7CgogIGNvbnN0IHRpdGxlU3R5bGUgPSB1c2VNZW1vKCgpID0+IE9iamVjdC5mcmVlemUoewogICAgZm9udEZhbWlseTogIidTcGFjZSBHcm90ZXNrJywgc2Fucy1zZXJpZiIsCiAgICBmb250V2VpZ2h0OiA4MDAsCiAgICBmb250U2l6ZTogJ2NsYW1wKDI2cHgsIDUuNXZ3LCA1MHB4KScsCiAgICBsZXR0ZXJTcGFjaW5nOiAnMC4yZW0nLAogICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDApJywKICAgIFdlYmtpdFRleHRTdHJva2U6ICcxcHggcmdiYSgyNDAsMjQwLDI0OCwwLjg4KScsCiAgICBtYXJnaW46ICcyMHB4IDAgMCcsCiAgICBsaW5lSGVpZ2h0OiAxLAogICAgdGV4dEFsaWduOiAnY2VudGVyJyBhcyBjb25zdCwKICAgIHVzZXJTZWxlY3Q6ICdub25lJyBhcyBjb25zdCwKICB9KSwgW10pOwoKICBjb25zdCBzdWJ0aXRsZVN0eWxlID0gdXNlTWVtbygoKSA9PiBPYmplY3QuZnJlZXplKHsKICAgIGZvbnRGYW1pbHk6ICInSmV0QnJhaW5zIE1vbm8nLCBtb25vc3BhY2UiLAogICAgZm9udFNpemU6ICdjbGFtcCg5cHgsIDEuOHZ3LCAxM3B4KScsCiAgICBsZXR0ZXJTcGFjaW5nOiAnMC41MmVtJywKICAgIGNvbG9yOiAncmdiYSgwLDIzOCwyNTUsMC42KScsCiAgICBtYXJnaW46ICc1cHggMCAwJywKICAgIHRleHRBbGlnbjogJ2NlbnRlcicgYXMgY29uc3QsCiAgICB1c2VyU2VsZWN0OiAnbm9uZScgYXMgY29uc3QsCiAgfSksIFtdKTsKCiAgY29uc3QgdmVyc2lvblN0eWxlID0gdXNlTWVtbygoKSA9PiBPYmplY3QuZnJlZXplKHsKICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnIGFzIGNvbnN0LAogICAgYm90dG9tOiAnMThweCcsIHJpZ2h0OiAnMjBweCcsCiAgICBmb250RmFtaWx5OiAiJ0pldEJyYWlucyBNb25vJywgbW9ub3NwYWNlIiwKICAgIGZvbnRTaXplOiAnOXB4JywgY29sb3I6ICdyZ2JhKDgwLDgwLDEwMCwxKScsCiAgICBsZXR0ZXJTcGFjaW5nOiAnMC4xZW0nLCBwb2ludGVyRXZlbnRzOiAnbm9uZScgYXMgY29uc3QsCiAgfSksIFtdKTsKCiAgcmV0dXJuICgKICAgIDxBbmltYXRlUHJlc2VuY2U+CiAgICAgIHshbGF1bmNoZWQgPyAoCiAgICAgICAgPG1vdGlvbi5kaXYKICAgICAgICAgIGtleT0icG9ydGFsIgogICAgICAgICAgc3R5bGU9e3dyYXBTdHlsZX0KICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfQogICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufQogICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19CiAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX0KICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCwgc2NhbGU6IDEuMDUgfX0KICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuOCwgZWFzZTogWzAuMjIsIDEsIDAuMzYsIDFdIH19CiAgICAgICAgICByb2xlPSJidXR0b24iCiAgICAgICAgICB0YWJJbmRleD17MH0KICAgICAgICAgIGFyaWEtbGFiZWw9IlpFUsOYIE1FUklESUFOIOKAlCB0YXAgdG8gZW50ZXIiCiAgICAgICAgPgogICAgICAgICAgPGNhbnZhcyByZWY9e2NhbnZhc1JlZn0gc3R5bGU9e2NhbnZhc1N0eWxlfSBhcmlhLWhpZGRlbj0idHJ1ZSIgLz4KICAgICAgICAgIDxkaXYgc3R5bGU9e292ZXJsYXlTdHlsZX0gLz4KCiAgICAgICAgICA8ZGl2IHN0eWxlPXt1aVN0eWxlfT4KICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT4KICAgICAgICAgICAgICB7bG9nb1Zpc2libGUgJiYgKAogICAgICAgICAgICAgICAgPG1vdGlvbi5kaXYKICAgICAgICAgICAgICAgICAga2V5PSJsb2dvIgogICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjcsIHk6IDEwIH19CiAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAgfX0KICAgICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMS4xNSB9fQogICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjg1LCBlYXNlOiBbMC4yMiwgMSwgMC4zNiwgMV0gfX0KICAgICAgICAgICAgICAgICAgc3R5bGU9e2xvZ29XcmFwU3R5bGV9CiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e2xvZ29BbWJpZW50U3R5bGV9IC8+CiAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2CiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2xvZ29Nb3Rpb25TdHlsZX0KICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IHJvdGF0ZTogMzYwIH19CiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMzAsIGVhc2U6ICdsaW5lYXInLCByZXBlYXQ6IEluZmluaXR5IH19CiAgICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICA8Q3J5c3RhbExvZ28gLz4KICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PgogICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPgoKICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT4KICAgICAgICAgICAgICB7bG9nb1Zpc2libGUgJiYgKAogICAgICAgICAgICAgICAgPG1vdGlvbi5kaXYKICAgICAgICAgICAgICAgICAga2V5PSJ0ZXh0IgogICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDE0IH19CiAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fQogICAgICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAgfX0KICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkZWxheTogMC4zMiwgZHVyYXRpb246IDAuNiwgZWFzZTogWzAuMjIsIDEsIDAuMzYsIDFdIH19CiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgYXMgY29uc3QsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBwb2ludGVyRXZlbnRzOiAnbm9uZScgYXMgY29uc3QgfX0KICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17dGl0bGVTdHlsZX0+WkVSw5g8L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17c3VidGl0bGVTdHlsZX0+TUVSSURJQU48L2Rpdj4KICAgICAgICAgICAgICAgICAgPEVudGVyUHJvZ3Jlc3MgZHVyYXRpb249e0FVVE9fRU5URVJfTVN9IC8+CiAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IHN0eWxlPXt2ZXJzaW9uU3R5bGV9PgogICAgICAgICAgICB7J3YzLjAgLyAnICsgUEFSVElDTEVfQ09VTlQudG9Mb2NhbGVTdHJpbmcoKSArICcgcHRzJ30KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvbW90aW9uLmRpdj4KICAgICAgKSA6ICgKICAgICAgICA8bW90aW9uLmRpdgogICAgICAgICAga2V5PSJleGl0IgogICAgICAgICAgc3R5bGU9e3sgcG9zaXRpb246ICdmaXhlZCcgYXMgY29uc3QsIGluc2V0OiAwLCBiYWNrZ3JvdW5kOiAncmdiYSg1LDUsNywxKScgfX0KICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fQogICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19CiAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjMgfX0KICAgICAgICAvPgogICAgICApfQogICAgPC9BbmltYXRlUHJlc2VuY2U+CiAgKTsKfTsKClBvcnRhbC5kaXNwbGF5TmFtZSA9ICdQb3J0YWwnOwpleHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKFBvcnRhbCk7Cg==";

async function getSHA(path) {
  const url = `https://api.github.com/repos/${REPO}/contents/${path}?ref=${BRANCH}`;
  const r = await fetch(url, { headers: { Authorization: `token ${TOKEN}` } });
  if (r.status === 404) return null;
  const j = await r.json();
  return j.sha ?? null;
}

async function pushFile(path, b64content, sha, msg) {
  const url = `https://api.github.com/repos/${REPO}/contents/${path}`;
  const body = { message: msg, content: b64content, branch: BRANCH };
  if (sha) body.sha = sha;
  const r = await fetch(url, {
    method: 'PUT',
    headers: {
      Authorization: `token ${TOKEN}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(body),
  });
  if (!r.ok) {
    const err = await r.json();
    throw new Error(`GitHub API error ${r.status}: ${JSON.stringify(err.message)}`);
  }
  return r.json();
}

async function main() {
  console.log('');
  console.log('  ╔══════════════════════════════════════════════╗');
  console.log('  ║   ZERØ MERIDIAN  ·  push76  ·  LOGO UPGRADE ║');
  console.log('  ╚══════════════════════════════════════════════╝');
  console.log('');

  process.stdout.write('  [1/1] Pushing src/pages/Portal.tsx... ');
  const sha = await getSHA('src/pages/Portal.tsx');
  await pushFile('src/pages/Portal.tsx', portal_tsx, sha, 'push76: crystal shuriken logo + slow rotation on Portal splash');
  console.log('✓');

  console.log('');
  console.log('  ════════════════════════════════════════════');
  console.log('  push76 DONE!');
  console.log('  ✓ Logo crystal shuriken 4-spike SVG premium');
  console.log('  ✓ Ø neon 3D dengan deep glow + specular');
  console.log('  ✓ Logo slow rotate 30s/loop di splash');
  console.log('  ✓ ZERØ MERIDIAN text tetap ada');
  console.log('  ✓ Auto-enter 2.5s tetap ada');
  console.log('  ════════════════════════════════════════════');
  console.log('');
  console.log('  Vercel auto-deploy dimulai...');
  console.log('  Cek: https://meridian-zero-jet.vercel.app');
  console.log('');
}

main().catch(e => { console.error('❌', e.message); process.exit(1); });
