/* ─────────────────────────────────────────────────────────────────────────────
   ZERØ MERIDIAN — index.css push93
   Design System: Bloomberg Terminal Grade
   Palette: Dark Navy (tidak hitam pekat), card sedikit lebih terang, border ultra-subtle
   Radius: 4px (terminal), bukan 16px (mobile app)
   Font angka: JetBrains Mono | Font UI: Space Grotesk
   Positif: teal #26a69a | Negatif: merah #ef5350 | Accent: cyan #00eeff
   ───────────────────────────────────────────────────────────────────────────── */

@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ── Bloomberg dark navy palette ─────────────────────────────────────── */
    --zm-bg-base:             rgba(13,17,23,1);
    --zm-bg-secondary:        rgba(16,20,27,1);
    --zm-bg:                  rgba(13,17,23,1);

    /* ── Sidebar ─────────────────────────────────────────────────────────── */
    --zm-sidebar-bg:          rgba(10,13,18,1);
    --zm-sidebar-border:      rgba(255,255,255,0.06);
    --zm-topbar-bg:           rgba(10,13,18,0.97);

    /* ── Cards — satu level lebih terang dari bg ─────────────────────────── */
    --zm-card-bg:             rgba(22,27,34,1);
    --zm-card-border:         rgba(255,255,255,0.08);
    --zm-card-border-hover:   rgba(0,238,255,0.30);
    --zm-card-radius:         4px;

    /* ── Surfaces ────────────────────────────────────────────────────────── */
    --zm-surface:             rgba(255,255,255,0.035);
    --zm-surface-1:           rgba(255,255,255,0.03);
    --zm-surface-2:           rgba(255,255,255,0.05);
    --zm-surface-3:           rgba(255,255,255,0.07);
    --zm-surface-hover:       rgba(255,255,255,0.04);
    --zm-glass-bg:            rgba(22,27,34,1);
    --zm-glass-border:        rgba(255,255,255,0.08);
    --zm-glass-border-hover:  rgba(0,238,255,0.28);

    /* ── Borders ─────────────────────────────────────────────────────────── */
    --zm-border:              rgba(255,255,255,0.08);
    --zm-border-hover:        rgba(0,238,255,0.35);
    --zm-border-strong:       rgba(255,255,255,0.12);
    --zm-divider:             rgba(255,255,255,0.06);

    /* ── Text — Bloomberg grey hierarchy ─────────────────────────────────── */
    --zm-text-primary:        rgba(230,237,243,1);
    --zm-text-secondary:      rgba(139,148,158,1);
    --zm-text-faint:          rgba(88,96,105,1);
    --zm-text-1:              rgba(230,237,243,1);
    --zm-text-2:              rgba(139,148,158,1);
    --zm-text-3:              rgba(88,96,105,1);
    --zm-text-4:              rgba(58,66,76,1);

    /* ── Accent: Cyan ────────────────────────────────────────────────────── */
    --zm-accent:              rgba(0,238,255,1);
    --zm-accent-bg:           rgba(0,238,255,0.07);
    --zm-accent-border:       rgba(0,238,255,0.20);
    --zm-accent-glow:         0 0 10px rgba(0,238,255,0.20);
    --zm-cyan:                rgba(0,238,255,1);
    --zm-cyan-bg:             rgba(0,238,255,0.07);
    --zm-cyan-border:         rgba(0,238,255,0.20);

    /* ── Positive: Teal (mata nyaman 12 jam, bukan neon) ─────────────────── */
    --zm-positive:            rgba(38,166,154,1);
    --zm-positive-bg:         rgba(38,166,154,0.08);
    --zm-positive-border:     rgba(38,166,154,0.22);
    --zm-positive-glow:       0 0 8px rgba(38,166,154,0.18);
    --zm-green:               rgba(38,166,154,1);
    --zm-green-bg:            rgba(38,166,154,0.08);
    --zm-green-border:        rgba(38,166,154,0.22);

    /* ── Negative: Deep red ──────────────────────────────────────────────── */
    --zm-negative:            rgba(239,83,80,1);
    --zm-negative-bg:         rgba(239,83,80,0.08);
    --zm-negative-border:     rgba(239,83,80,0.22);
    --zm-negative-glow:       0 0 8px rgba(239,83,80,0.18);
    --zm-red:                 rgba(239,83,80,1);
    --zm-red-bg:              rgba(239,83,80,0.08);
    --zm-red-border:          rgba(239,83,80,0.22);

    /* ── Warning / Amber ─────────────────────────────────────────────────── */
    --zm-warning:             rgba(255,171,0,1);
    --zm-warning-bg:          rgba(255,171,0,0.08);
    --zm-warning-border:      rgba(255,171,0,0.20);
    --zm-amber:               rgba(255,171,0,1);
    --zm-amber-bg:            rgba(255,171,0,0.08);
    --zm-amber-border:        rgba(255,171,0,0.20);
    --zm-orange:              rgba(255,112,67,1);
    --zm-orange-bg:           rgba(255,112,67,0.08);
    --zm-orange-border:       rgba(255,112,67,0.20);

    /* ── Violet ──────────────────────────────────────────────────────────── */
    --zm-violet:              rgba(130,80,220,1);
    --zm-violet-bg:           rgba(130,80,220,0.08);
    --zm-violet-border:       rgba(130,80,220,0.20);

    /* ── Blue ────────────────────────────────────────────────────────────── */
    --zm-blue:                rgba(56,139,253,1);
    --zm-blue-bg:             rgba(56,139,253,0.08);
    --zm-blue-border:         rgba(56,139,253,0.22);

    /* ── Greys ───────────────────────────────────────────────────────────── */
    --zm-grey-06:             rgba(139,148,158,0.06);
    --zm-grey-08:             rgba(139,148,158,0.08);
    --zm-grey-10:             rgba(139,148,158,0.10);
    --zm-grey-12:             rgba(139,148,158,0.12);
    --zm-grey-40:             rgba(139,148,158,0.40);

    /* ── Fonts ───────────────────────────────────────────────────────────── */
    --zm-font-ui:             'Space Grotesk', sans-serif;
    --zm-font-data:           'JetBrains Mono', monospace;
    --font-mono-ui:           'JetBrains Mono', monospace;

    /* ── Text sizes ──────────────────────────────────────────────────────── */
    --zm-text-2xs:            0.625rem;
    --zm-text-xs:             0.6875rem;
    --zm-text-xl:             1.125rem;

    /* ── Fluid sizes (layout) ────────────────────────────────────────────── */
    --text-xs:   0.6875rem;
    --text-sm:   0.75rem;
    --text-base: 0.875rem;
    --text-lg:   1rem;
    --text-xl:   1.125rem;
    --text-2xl:  1.25rem;
    --text-3xl:  1.5rem;
    --text-4xl:  2rem;
    --text-5xl:  3rem;

    /* ── Motion ──────────────────────────────────────────────────────────── */
    --motion-fast:    120ms;
    --motion-normal:  220ms;
    --motion-slow:    360ms;
    --ease-out:       cubic-bezier(0.16, 1, 0.3, 1);
    --ease-spring:    cubic-bezier(0.34, 1.56, 0.64, 1);
    --ease-smooth:    cubic-bezier(0.4, 0, 0.2, 1);

    /* ── Glow shadows ────────────────────────────────────────────────────── */
    --glow-cyan:  0 0 12px rgba(0,238,255,0.22);
    --glow-green: 0 0 12px rgba(38,166,154,0.22);
    --glow-rose:  0 0 12px rgba(239,83,80,0.22);

    /* ── Shadcn compat ───────────────────────────────────────────────────── */
    --background: 215 26% 7%;
    --foreground:  210 17% 93%;
    --card:        215 22% 10%;
    --card-foreground: 210 17% 93%;
    --popover:     215 22% 10%;
    --popover-foreground: 210 17% 93%;
    --primary:     189 100% 50%;
    --primary-foreground: 215 26% 7%;
    --secondary:   215 15% 15%;
    --secondary-foreground: 210 17% 93%;
    --muted:       215 15% 15%;
    --muted-foreground: 215 14% 55%;
    --accent:      189 100% 50%;
    --accent-foreground: 215 26% 7%;
    --destructive: 2 68% 63%;
    --destructive-foreground: 210 17% 93%;
    --border:      215 14% 15%;
    --input:       215 14% 15%;
    --ring:        189 100% 50%;
    --radius:      0.25rem;
    --sidebar-background: 215 28% 5%;
    --sidebar-foreground: 210 17% 93%;
    --sidebar-primary: 189 100% 50%;
    --sidebar-primary-foreground: 215 28% 5%;
    --sidebar-accent: 215 14% 12%;
    --sidebar-accent-foreground: 210 17% 93%;
    --sidebar-border: 215 14% 12%;
    --sidebar-ring: 189 100% 50%;

    font-family: 'Space Grotesk', sans-serif;
  }

  .light {
    --zm-bg-base:             rgba(248,249,250,1);
    --zm-bg-secondary:        rgba(241,243,245,1);
    --zm-bg:                  rgba(248,249,250,1);
    --zm-sidebar-bg:          rgba(255,255,255,1);
    --zm-topbar-bg:           rgba(255,255,255,0.97);
    --zm-glass-bg:            rgba(255,255,255,1);
    --zm-glass-border:        rgba(0,0,0,0.08);
    --zm-glass-border-hover:  rgba(0,170,180,0.35);
    --zm-card-bg:             rgba(255,255,255,1);
    --zm-card-border:         rgba(0,0,0,0.08);
    --zm-card-border-hover:   rgba(0,170,180,0.35);
    --zm-card-radius:         4px;
    --zm-sidebar-border:      rgba(0,0,0,0.07);
    --zm-border:              rgba(0,0,0,0.08);
    --zm-border-hover:        rgba(0,170,180,0.40);
    --zm-border-strong:       rgba(0,0,0,0.14);
    --zm-divider:             rgba(0,0,0,0.07);
    --zm-surface:             rgba(0,0,0,0.02);
    --zm-surface-1:           rgba(0,0,0,0.02);
    --zm-surface-2:           rgba(0,0,0,0.04);
    --zm-surface-3:           rgba(0,0,0,0.06);
    --zm-surface-hover:       rgba(0,0,0,0.03);
    --zm-text-primary:        rgba(10,14,20,0.92);
    --zm-text-secondary:      rgba(60,72,88,0.72);
    --zm-text-faint:          rgba(100,114,130,0.60);
    --zm-text-1:              rgba(10,14,20,0.92);
    --zm-text-2:              rgba(60,72,88,0.72);
    --zm-text-3:              rgba(100,114,130,0.60);
    --zm-text-4:              rgba(140,154,170,0.50);
    --zm-accent:              rgba(0,160,172,1);
    --zm-accent-bg:           rgba(0,160,172,0.08);
    --zm-accent-border:       rgba(0,160,172,0.22);
    --zm-cyan:                rgba(0,160,172,1);
    --zm-cyan-bg:             rgba(0,160,172,0.08);
    --zm-cyan-border:         rgba(0,160,172,0.20);
    --zm-positive:            rgba(0,150,136,1);
    --zm-positive-bg:         rgba(0,150,136,0.08);
    --zm-positive-border:     rgba(0,150,136,0.22);
    --zm-green:               rgba(0,150,136,1);
    --zm-green-bg:            rgba(0,150,136,0.08);
    --zm-green-border:        rgba(0,150,136,0.22);
    --zm-negative:            rgba(211,47,47,1);
    --zm-negative-bg:         rgba(211,47,47,0.08);
    --zm-negative-border:     rgba(211,47,47,0.22);
    --zm-red:                 rgba(211,47,47,1);
    --zm-red-bg:              rgba(211,47,47,0.08);
    --zm-red-border:          rgba(211,47,47,0.22);
    --zm-warning:             rgba(198,128,0,1);
    --zm-warning-bg:          rgba(198,128,0,0.08);
    --zm-warning-border:      rgba(198,128,0,0.20);
    --zm-amber:               rgba(198,128,0,1);
    --zm-amber-bg:            rgba(198,128,0,0.08);
    --zm-amber-border:        rgba(198,128,0,0.20);
    --zm-blue:                rgba(3,102,214,1);
    --zm-blue-bg:             rgba(3,102,214,0.08);
    --zm-blue-border:         rgba(3,102,214,0.22);
    --zm-violet:              rgba(100,60,190,1);
    --zm-violet-bg:           rgba(100,60,190,0.08);
    --zm-violet-border:       rgba(100,60,190,0.20);
    --background: 0 0% 98%;
    --foreground: 215 26% 7%;
    --card: 0 0% 100%;
    --card-foreground: 215 26% 7%;
    --border: 214 14% 89%;
    --input: 214 14% 89%;
    --sidebar-background: 0 0% 100%;
    --sidebar-border: 214 14% 89%;
    font-family: 'Space Grotesk', sans-serif;
  }

  *, *::before, *::after { box-sizing: border-box; }

  html { -webkit-text-size-adjust: 100%; }

  body {
    background: var(--zm-bg-base);
    color: var(--zm-text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-size: var(--text-base);
    font-family: 'Space Grotesk', sans-serif;
    min-height: 100vh;
  }
}

/* ── Scrollbar ───────────────────────────────────────────────────────────────── */
::-webkit-scrollbar { width: 3px; height: 3px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(139,148,158,0.15); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: rgba(139,148,158,0.30); }
.light ::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.15); }

/* ── Font helpers ────────────────────────────────────────────────────────────── */
.font-mono-data { font-family: 'JetBrains Mono', monospace; }
.font-mono-ui   { font-family: 'IBM Plex Mono', monospace; }
.font-body      { font-family: 'Space Grotesk', sans-serif; }

/* ── zm-card base class ──────────────────────────────────────────────────────── */
.zm-card {
  background:    var(--zm-card-bg);
  border:        1px solid var(--zm-card-border);
  border-radius: var(--zm-card-radius);
  transition:    border-color var(--motion-fast) var(--ease-out),
                 box-shadow var(--motion-fast) var(--ease-out);
}
.zm-card:hover {
  border-color: var(--zm-card-border-hover);
}
.zm-glass {
  background:    var(--zm-card-bg);
  border:        1px solid var(--zm-card-border);
  border-radius: var(--zm-card-radius);
  transition:    border-color var(--motion-fast) var(--ease-out);
}
.zm-glass:hover {
  border-color: rgba(0,238,255,0.22);
}
.light .zm-glass {
  background:   rgba(255,255,255,1);
  border-color: rgba(0,0,0,0.08);
}
.light .zm-glass:hover {
  border-color: rgba(0,170,180,0.30);
}

/* ── Corner brackets (terminal aesthetic) ────────────────────────────────────── */
.zm-corners { position: relative; }
.zm-corners::before, .zm-corners::after {
  content: '';
  position: absolute;
  width: 8px; height: 8px;
  pointer-events: none; z-index: 1;
}
.zm-corners::before {
  top: -1px; left: -1px;
  border-top: 1px solid rgba(0,238,255,0.18);
  border-left: 1px solid rgba(0,238,255,0.18);
  border-radius: var(--zm-card-radius) 0 0 0;
}
.zm-corners::after {
  top: -1px; right: -1px;
  border-top: 1px solid rgba(0,238,255,0.18);
  border-right: 1px solid rgba(0,238,255,0.18);
  border-radius: 0 var(--zm-card-radius) 0 0;
}
.light .zm-corners::before, .light .zm-corners::after { border-color: rgba(0,160,172,0.16); }

/* ── Light mode overrides ────────────────────────────────────────────────────── */
.light header {
  background: rgba(255,255,255,0.97) !important;
  border-bottom-color: rgba(0,0,0,0.08) !important;
  box-shadow: 0 1px 6px rgba(0,0,0,0.06);
}
.light aside {
  background: rgba(255,255,255,1) !important;
  border-right-color: rgba(0,0,0,0.07) !important;
}

/* ── Glow helpers ────────────────────────────────────────────────────────────── */
.glow-cyan  { box-shadow: var(--glow-cyan); }
.glow-green { box-shadow: var(--glow-green); }
.glow-rose  { box-shadow: var(--glow-rose); }
.text-glow-cyan  { text-shadow: 0 0 8px rgba(0,238,255,0.50); }
.text-glow-green { text-shadow: 0 0 8px rgba(38,166,154,0.50); }
.text-glow-rose  { text-shadow: 0 0 8px rgba(239,83,80,0.50); }

/* ── Gradient text ───────────────────────────────────────────────────────────── */
.zm-gradient-text {
  background: linear-gradient(135deg, rgba(0,238,255,1) 0%, rgba(38,166,154,1) 50%, rgba(0,238,255,1) 100%);
  background-size: 200% 200%;
  animation: gradient-text 4s ease infinite;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ── Regime / signal colors ──────────────────────────────────────────────────── */
.regime-surge { color: rgba(0,238,255,1); }
.regime-bull  { color: rgba(38,166,154,1); }
.regime-crab  { color: rgba(255,171,0,1); }
.regime-bear  { color: rgba(239,83,80,1); }
.text-positive       { color: rgba(38,166,154,1); }
.text-negative       { color: rgba(239,83,80,1); }
.text-neutral-change { color: rgba(255,171,0,1); }
.text-accent         { color: rgba(0,238,255,1); }
.light .text-positive { color: rgba(0,150,136,1) !important; }
.light .text-negative { color: rgba(211,47,47,1) !important; }
.light .text-accent   { color: rgba(0,160,172,1); }

/* ── Heatmap classes ─────────────────────────────────────────────────────────── */
.zm-heatmap-pos-strong { background: rgba(38,166,154,0.22) !important; border-color: rgba(38,166,154,0.35) !important; }
.zm-heatmap-pos-mid    { background: rgba(38,166,154,0.13) !important; border-color: rgba(38,166,154,0.22) !important; }
.zm-heatmap-pos-weak   { background: rgba(38,166,154,0.07) !important; border-color: rgba(38,166,154,0.14) !important; }
.zm-heatmap-neg-weak   { background: rgba(239,83,80,0.07) !important;  border-color: rgba(239,83,80,0.14) !important;  }
.zm-heatmap-neg-mid    { background: rgba(239,83,80,0.13) !important;  border-color: rgba(239,83,80,0.22) !important;  }
.zm-heatmap-neg-strong { background: rgba(239,83,80,0.22) !important;  border-color: rgba(239,83,80,0.35) !important;  }
.light .zm-heatmap-pos-strong { background: rgba(0,150,136,0.20) !important; border-color: rgba(0,150,136,0.30) !important; }
.light .zm-heatmap-pos-mid    { background: rgba(0,150,136,0.12) !important; border-color: rgba(0,150,136,0.20) !important; }
.light .zm-heatmap-pos-weak   { background: rgba(0,150,136,0.06) !important; border-color: rgba(0,150,136,0.12) !important; }
.light .zm-heatmap-neg-weak   { background: rgba(211,47,47,0.06) !important;  border-color: rgba(211,47,47,0.12) !important; }
.light .zm-heatmap-neg-mid    { background: rgba(211,47,47,0.12) !important;  border-color: rgba(211,47,47,0.20) !important; }
.light .zm-heatmap-neg-strong { background: rgba(211,47,47,0.20) !important;  border-color: rgba(211,47,47,0.30) !important; }

/* ── Badge classes ───────────────────────────────────────────────────────────── */
.zm-wasm-badge {
  display: inline-flex; align-items: center; gap: 4px;
  font-family: 'JetBrains Mono', monospace; font-size: 9px; letter-spacing: 0.07em;
  border-radius: 3px; padding: 2px 6px;
  background: rgba(38,166,154,0.08); border: 1px solid rgba(38,166,154,0.22);
  color: rgba(38,166,154,0.90);
}
.zm-live-badge {
  display: inline-flex; align-items: center; gap: 5px;
  font-family: 'JetBrains Mono', monospace; font-size: 9px; letter-spacing: 0.08em;
  border-radius: 3px; padding: 2px 7px;
  background: rgba(38,166,154,0.08); border: 1px solid rgba(38,166,154,0.25);
  color: rgba(38,166,154,1); font-weight: 700;
}
.zm-live-dot {
  width: 5px; height: 5px; border-radius: 50%;
  background: rgba(38,166,154,1);
  box-shadow: 0 0 5px rgba(38,166,154,0.7);
  flex-shrink: 0;
}
.zm-proto-badge {
  display: inline-flex; align-items: center; gap: 4px;
  font-family: 'JetBrains Mono', monospace; font-size: 9px; letter-spacing: 0.07em;
  border-radius: 3px; padding: 2px 6px;
  background: rgba(255,171,0,0.07); border: 1px solid rgba(255,171,0,0.18);
  color: rgba(255,171,0,0.80);
}

/* ── Section label (zm-phase9-section compat) ────────────────────────────────── */
.zm-phase9-section {
  margin-top: 22px; margin-bottom: 10px;
  font-family: 'JetBrains Mono', monospace; font-size: 9px; letter-spacing: 0.16em;
  color: rgba(88,96,105,1); text-transform: uppercase;
  display: flex; align-items: center; gap: 10px;
}
.zm-phase9-section::after {
  content: ''; flex: 1; height: 1px;
  background: linear-gradient(to right, rgba(255,255,255,0.06), transparent);
}

/* ── Table rows ──────────────────────────────────────────────────────────────── */
tr:hover td { background: rgba(0,238,255,0.025) !important; }
.light tr:hover td { background: rgba(0,160,172,0.04) !important; }

/* ── Input styles ────────────────────────────────────────────────────────────── */
input {
  background: rgba(22,27,34,1);
  border-color: rgba(255,255,255,0.10);
  color: rgba(230,237,243,1);
}
input:focus {
  border-color: rgba(0,238,255,0.40) !important;
  box-shadow: 0 0 0 2px rgba(0,238,255,0.07) !important;
  outline: none;
}
.light input {
  background: rgba(255,255,255,0.95) !important;
  border-color: rgba(0,0,0,0.10) !important;
  color: rgba(10,14,20,0.92) !important;
}
.light input:focus {
  border-color: rgba(0,160,172,0.45) !important;
  box-shadow: 0 0 0 2px rgba(0,160,172,0.09) !important;
}

/* ── Focus visible ───────────────────────────────────────────────────────────── */
:focus-visible {
  outline: 1px solid rgba(0,238,255,0.60);
  outline-offset: 2px;
  border-radius: var(--zm-card-radius);
}
.light :focus-visible { outline-color: rgba(0,160,172,0.60); }

/* ── Keyframes ───────────────────────────────────────────────────────────────── */
@keyframes flash-pos {
  0%, 100% { background-color: transparent; }
  30% { background-color: rgba(38,166,154,0.16); }
}
@keyframes flash-neg {
  0%, 100% { background-color: transparent; }
  30% { background-color: rgba(239,83,80,0.16); }
}
@keyframes zm-flash-up {
  0%   { background: rgba(38,166,154,0.22); }
  100% { background: transparent; }
}
@keyframes zm-flash-down {
  0%   { background: rgba(239,83,80,0.18); }
  100% { background: transparent; }
}
@keyframes gradient-text {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
@keyframes ticker-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
@keyframes zm-ticker-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slide-in-up {
  from { transform: translateY(8px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes scale-in {
  from { transform: scale(0.96); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
@keyframes number-flip {
  0%   { transform: translateY(0);    opacity: 1; }
  40%  { transform: translateY(-6px); opacity: 0; }
  60%  { transform: translateY(6px);  opacity: 0; }
  100% { transform: translateY(0);    opacity: 1; }
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes aurora-shift {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 0.9; transform: scale(1.04); }
}
@keyframes scan-sweep {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(500%); }
}

/* ── Animation classes ───────────────────────────────────────────────────────── */
.animate-flash-pos     { animation: flash-pos 300ms ease-out; }
.animate-flash-neg     { animation: flash-neg 300ms ease-out; }
.zm-flash-up           { animation: zm-flash-up 600ms ease-out forwards; }
.zm-flash-down         { animation: zm-flash-down 600ms ease-out forwards; }
.animate-fade-in       { animation: fade-in var(--motion-normal) var(--ease-smooth); }
.animate-slide-up      { animation: slide-in-up var(--motion-normal) var(--ease-out); }
.animate-scale-in      { animation: scale-in var(--motion-fast) var(--ease-spring); }
.animate-number-flip   { animation: number-flip 300ms var(--ease-spring); }

/* ── Page content ────────────────────────────────────────────────────────────── */
header[aria-label] { top: 26px !important; }

.light [aria-label="Global market stats bar"] {
  background: rgba(255,255,255,0.98) !important;
  border-bottom-color: rgba(0,0,0,0.08) !important;
  box-shadow: 0 1px 6px rgba(0,0,0,0.06);
}
.light nav[aria-label="Bottom navigation"] {
  background: rgba(255,255,255,0.98) !important;
  border-top-color: rgba(0,0,0,0.08) !important;
}

/* ── Container queries ───────────────────────────────────────────────────────── */
.zm-container { container-type: inline-size; }
@container (max-width: 600px) { .zm-heatmap-grid { grid-template-columns: repeat(4, 1fr); } }
@container (min-width: 601px) and (max-width: 900px) { .zm-heatmap-grid { grid-template-columns: repeat(6, 1fr); } }
@container (min-width: 901px) { .zm-heatmap-grid { grid-template-columns: repeat(8, 1fr); } }

/* ── Mobile ──────────────────────────────────────────────────────────────────── */
@media (max-width: 767px) {
  .zm-page-content {
    padding-left: 14px !important;
    padding-right: 14px !important;
    padding-bottom: 80px !important;
  }
}

/* ── PWA / misc ──────────────────────────────────────────────────────────────── */
button, a, [role="button"] { touch-action: manipulation; }
.zm-scroll { -webkit-overflow-scrolling: touch; overflow-y: auto; }
.zm-no-select { -webkit-user-select: none; user-select: none; }
.zm-bottom-nav { padding-bottom: env(safe-area-inset-bottom, 0px); }

/* ── Reduced motion ──────────────────────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ── Houdini fallbacks ───────────────────────────────────────────────────────── */
.zm-houdini-aurora { background: rgba(13,17,23,1); }
.zm-houdini-price  { background: rgba(22,27,34,1); }
.zm-houdini-noise  { background: rgba(22,27,34,1); }

/* ── Command palette scroll ──────────────────────────────────────────────────── */
[role="listbox"]::-webkit-scrollbar { width: 3px; }
[role="listbox"]::-webkit-scrollbar-track { background: transparent; }
[role="listbox"]::-webkit-scrollbar-thumb { background: rgba(139,148,158,0.15); border-radius: 2px; }

@media print {
  aside, header { display: none; }
  main { margin: 0 !important; }
}
